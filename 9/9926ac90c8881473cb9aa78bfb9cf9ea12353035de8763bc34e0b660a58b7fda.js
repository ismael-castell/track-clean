/*! For license information please see community.js.LICENSE.txt */
(()=>{var __webpack_modules__={6610:,5991:,96156:,90484:,67597:(e,t,n)=>{"use strict";function r(e){return"[object String]"===Object.prototype.toString.call(e)}function o(e){return"[object RegExp]"===Object.prototype.toString.call(e)}n.d(t,{isString:()=>r,isRegExp:()=>o})},62844:(e,t,n)=>{"use strict";n.d(t,{getGlobalObject:()=>i});var r=n(61422),o=(n(57321),{});function(){}},61422:(e,t,n)=>{"use strict";function(){}n.d(t,{isNodeEnv:()=>r}),e=n.hmd(e)},30360:,57321:(e,t,n)=>{"use strict";n.d(t,{snipLine:()=>r});n(67597);function(){}},33024:(e,t,n)=>{"use strict";n.d(t,{default:()=>h});var r=n(67294),o=n(87854),i=n.n(o),a=n(8091),s=n(34777),l=n(79333),u="0 0 24 24",c="cancel_24",d=!1;function f(){d||((0,s.addSpriteSymbol)(new(i())({id:c,viewBox:u,content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" id="cancel_24"><g fill="none" fill-rule="evenodd"><path d="M0 0h24v24H0z" /><path d="M18.3 5.7a.99.99 0 00-1.4 0L12 10.6 7.1 5.7a.99.99 0 00-1.4 1.4l4.9 4.9-4.9 4.9a.99.99 0 001.4 1.4l4.9-4.9 4.9 4.9a.99.99 0 001.4-1.4L13.4 12l4.9-4.9a.99.99 0 000-1.4z" fill="currentColor" /></g></symbol>'})),d=!0)}var p=function(e){return(0,s.useIsomorphicLayoutEffect)((function(){f()}),[]),r.createElement(l.SvgIcon,(0,a.assign)({},e,{viewBox:u,id:c,width:isNaN(e.width)?24:+e.width,height:isNaN(e.height)?24:+e.height}))};p.mountIcon=f;const h=p},76854:(e,t,n)=>{"use strict";n.d(t,{IconSettingsContext:()=>o});var r=n(67294);var o=(0,r.createContext)({})},79333:(e,t,n)=>{"use strict";n.d(t,{SvgIcon:()=>d});var r=n(67294),o=n(76854);function i(){return(i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){l(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function u(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var c={display:"block"};var d=function(e){var t=e.width,n=e.height,a=e.viewBox,l=e.id,d=e.className,f=e.style,p=e.fill,h=e.getRootRef,_=e.Component,g=u(e,["width","height","viewBox","id","className","style","fill","getRootRef","Component"]),v=Math.max(t,n),m=(0,r.useContext)(o.IconSettingsContext),y=function(e,t){for(var n=t.classPrefix,r=t.globalClasses,o="",i=0;i<e.length;i++)n&&(o+=" "+(n+e[i])),n&&!r||(o+=" "+e[i]);return o}(["Icon","Icon--".concat(v),"Icon--w-".concat(t),"Icon--h-".concat(n),"Icon--".concat(l)],m);return r.createElement(_,i({role:"presentation"},g,{ref:h,className:"".concat(y," ").concat(d),style:s(s({},f),{},{width:t,height:n})}),r.createElement("svg",{viewBox:a,width:t,height:n,style:c},r.createElement("use",{xlinkHref:"#".concat(l),style:{fill:"currentColor",color:p}})))};d.defaultProps={Component:"div",className:"",style:{}}},34777:(e,t,n)=>{"use strict";n.d(t,{addSpriteSymbol:()=>c,useIsomorphicLayoutEffect:()=>d});var r,o=n(62548),i=n.n(o),a=n(67294),s=!("undefined"==typeof window||!window.document||!window.document.createElement);if(s){var l="__SVG_SPRITE_NODE__";r=new(i())({attrs:{id:l}});var u=function(){var e=document.getElementById(l);e?r.attach(e):r.mount()};document.querySelector("body")?u():document.addEventListener("DOMContentLoaded",u)}else r=null;function c(e){r&&r.add(e)}var d=s?a.useLayoutEffect:a.useEffect},49598:(e,t,n)=>{"use strict";n.d(t,{classNames:()=>o});var r=n(90484);function o(){for(var e=[],t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];return n.forEach((function(t){if(t)switch((0,r.default)(t)){case"string":e.push(t);break;case"object":Object.keys(t).forEach((function(n){t[n]&&e.push(n)}));break;default:e.push("".concat(t))}})),e.join(" ")}},92888:(e,t,n)=>{"use strict";n.d(t,{getLastDayOfMonth:()=>r});n(21058);function r(e,t){return 2==+t?function(e){return e%4==0&&e%100!=0||e%400==0}(e)?29:28:t>0&&(t<8&&t%2==0||t>7&&t%2==1)?30:31}},62690:(e,t,n)=>{"use strict";n.d(t,{isEqual:()=>o});var r=n(77270);function o(e,t){if(e===t)return!0;if(null==e||null==t||!(0,r.isObjectLike)(e)&&!(0,r.isObjectLike)(t))return e!=e&&t!=t;if((0,r.isObjectLike)(e)&&(0,r.isObjectLike)(t)){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(var n in e){if(!e.hasOwnProperty(n)||!t.hasOwnProperty(n))return!1;if(!o(e[n],t[n]))return!1}return!0}return!1}},10628:(e,t,n)=>{"use strict";function r(e){var t,n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:50,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:window;return function(){for(var i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];var l=o,u=Date.now();t&&u<t+r?(clearTimeout(n),n=setTimeout((function(){t=u,e.apply(l,a)}),r)):(t=u,e.apply(l,a))}}n.d(t,{throttle:()=>r})},77453:(e,t,n)=>{"use strict";function r(e){var t=e instanceof HTMLElement;if("undefined"==typeof window||!t)return{top:0,left:0,width:0,height:0};var n=e,r=n.getBoundingClientRect(),o=document.body,i=document.documentElement,a=window.pageYOffset||i.scrollTop||o.scrollTop,s=window.pageXOffset||i.scrollLeft||o.scrollLeft,l=i.clientTop||o.clientTop||0,u=i.clientLeft||o.clientLeft||0;return{top:Math.round(r.top+a-l),left:Math.round(r.left+s-u),width:n.offsetWidth,height:n.offsetHeight}}n.d(t,{getOffsetRect:()=>r})},59397:(e,t,n)=>{"use strict";n.d(t,{classNames:()=>r.classNames,isEqual:()=>o.isEqual,getLastDayOfMonth:()=>i.getLastDayOfMonth,throttle:()=>a.throttle,getOffsetRect:()=>s.getOffsetRect,isObject:()=>l.isObject});var r=n(49598),o=n(62690),i=n(92888),a=n(10628),s=n(77453),l=n(77270);n(33656)},21058:(e,t,n)=>{"use strict";function r(e){return e>=10?String(e):"0"+String(e)}n.d(t,{leadingZero:()=>r})},33656:,77270:(e,t,n)=>{"use strict";n.d(t,{isObjectLike:()=>o,isObject:()=>i});var r=n(90484);function(){}function i(e){return"[object Object]"===Object.prototype.toString.call(e)}},17874:(e,t,n)=>{"use strict";function r(){return{icon:'<svg fill="none" height="16" viewBox="0 0 16 16" width="16" xmlns="http://www.w3.org/2000/svg"><clipPath id="spinner_16__a"><path d="M0 0h16v16H0z"/></clipPath><g clip-path="url(#spinner_16__a)"><path clip-rule="evenodd" d="M11.21 2.93a6 6 0 00-8.64 7.62 1 1 0 11-1.8.86A8 8 0 118 16a1 1 0 110-2 6 6 0 003.21-11.07z" fill="currentColor" fill-rule="evenodd"/></g></svg>',name:"spinner_16"}}n.d(t,{getIcon16Spinner:()=>r})},17770:(e,t,n)=>{"use strict";function r(){return{icon:'<svg width="24" height="24" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><g id="browser_back_24__Master" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"><g id="browser_back_24__browser_back_24"><path id="browser_back_24__body" d="M0 0h24v24H0z"/><path d="M8.66 12l7.12 7.12a1.1 1.1 0 11-1.56 1.56l-7.9-7.9a1.1 1.1 0 010-1.56l7.9-7.9a1.1 1.1 0 011.56 1.56L8.66 12z" id="browser_back_24__Path" fill="currentColor" fill-rule="nonzero"/></g></g></svg>',name:"browser_back_24"}}n.d(t,{getIcon24BrowserBack:()=>r})},78787:(e,t,n)=>{"use strict";function r(){return{icon:'<svg width="24" height="24" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><g id="cancel_24__Page-2" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"><g id="cancel_24__cancel_24"><path id="cancel_24__Bounds" d="M0 0h24v24H0z"/><path d="M18.3 5.7a.99.99 0 00-1.4 0L12 10.6 7.1 5.7a.99.99 0 00-1.4 1.4l4.9 4.9-4.9 4.9a.99.99 0 001.4 1.4l4.9-4.9 4.9 4.9a.99.99 0 001.4-1.4L13.4 12l4.9-4.9a.99.99 0 000-1.4z" id="cancel_24__Mask" fill="currentColor"/></g></g></svg>',name:"cancel_24"}}n.d(t,{getIcon24Cancel:()=>r})},69455:(e,t,n)=>{"use strict";function r(){return{icon:'<svg width="24" height="24" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><g id="favorite_24__Page-2" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"><g id="favorite_24__favorite_24"><path id="favorite_24__Bounds" d="M0 0h24v24H0z"/><path d="M15.34 8.48l4.43.43c1.54.15 2.02 1.65.83 2.64l-3.47 2.88 1.29 4.7c.42 1.54-.9 2.48-2.2 1.55L12 17.7l-4.21 2.98c-1.31.92-2.63 0-2.2-1.55l1.28-4.7-3.47-2.88c-1.2-1-.72-2.5.83-2.64l4.43-.43 1.95-4.5c.6-1.4 2.17-1.4 2.78 0l1.95 4.5z" id="favorite_24__Mask" fill="currentColor" fill-rule="nonzero"/></g></g></svg>',name:"favorite_24"}}n.d(t,{getIcon24Favorite:()=>r})},26934:(e,t,n)=>{"use strict";function(){}n.d(t,{getIcon24FavoriteOutline:()=>r})},15410:(e,t,n)=>{"use strict";function r(){return{icon:'<svg fill="none" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg"><path clip-rule="evenodd" d="M16.4 5.08A8.2 8.2 0 004.57 15.49a.9.9 0 01-1.63.77A10 10 0 1112 22a.9.9 0 010-1.8 8.2 8.2 0 004.4-15.12z" fill="currentColor" fill-rule="evenodd"/></svg>',name:"spinner_24"}}n.d(t,{getIcon24Spinner:()=>r})},79059:(e,t,n)=>{"use strict";n.d(t,{default:()=>i});n(51876);var r=n(67294),o=n(45697);class i extends r.Component{static mapFilterOptionsToDropdownOptions(e){return e?e.map(()):[]}constructor(e){super(e),this.state={filterWrapElementId:this.props.config.id+"_filter_wrap",filterElementId:this.props.config.id+"_filter"}}componentDidMount(){var e=this.props.config.placeholder||"",t=this.onChange.bind(this);this.state.input=new Dropdown(ge(this.state.filterElementId),i.mapFilterOptionsToDropdownOptions(this.props.config.options),{selectedItems:this.props.config.selected,onChange:t,placeholder:e,multiselect:!this.props.singleSelectCrutch,autocomplete:!0,width:this.props.width,big:!0,maxItems:this.props.maxItems})}componentDidUpdate(e,t,n){if(this.props.config.selected!==e.config.selected&&Array.isArray(this.props.config.selected)&&0===this.props.config.selected.length)this.state.input.clear();else if(this.props.singleSelectCrutch){var r=this.state.input.selectedItems(),o=r&&r[0]&&r[0][0]?r[0][0]:null;if(!o)return;this.props.config.selected!==e.config.selected&&o!=this.props.config.selected&&this.state.input.selectItem(this.props.config.selected[0])}}onChange(e){var t=i.convertOldValueToJson(e);this.props.onFilterChange(this.props.config.id,t)}static convertOldValueToJsonrender(){var e=this.props.config.header?r.createElement("div",{className:"search_filter_main"},this.props.config.header):"";return r.createElement("div",{className:"filter"},e,r.createElement("div",{id:this.state.filterWrapElementId,className:"search_control"},r.createElement("input",{id:this.state.filterElementId,type:"text",className:"dark"})))}}i.propTypes={config:o.shape({id:o.string,header:o.string,options:o.arrayOf(o.shape({constant:o.any,name:o.string})),placeholder:o.string,selected:o.array}),onFilterChange:o.func.isRequired,width:o.number,maxItems:o.number,singleSelectCrutch:o.bool},i.defaultProps={width:200,maxItems:50,singleSelectCrutch:!1}},27273:,33912:(e,t,n)=>{"use strict";n.d(t,{emojiRegex:()=>r,skinToneModifierRegex:()=>o,EMOJI_PREFIXED_REPLACES:()=>i,EMOJI_REPLACES:()=>a});var r=()=>/(?:\uD83C\uDFF4)(?:(?:\uDB40\uDC67)(?:\uDB40\uDC62)(?:(?:\uDB40\uDC65)(?:\uDB40\uDC6E)(?:\uDB40\uDC67)|(?:\uDB40\uDC77)(?:\uDB40\uDC6C)(?:\uDB40\uDC73)|(?:\uDB40\uDC73)(?:\uDB40\uDC63)(?:\uDB40\uDC74))(?:\uDB40\uDC7F)|\u200D\u2620\uFE0F?)|(?:\uD83D\uDC69)\u200D(?:\uD83D\uDC69)\u200D(?:(?:\uD83D\uDC66)\u200D(?:\uD83D\uDC66)|(?:\uD83D\uDC67)\u200D(?:\uD83D[\uDC66\uDC67]))|(?:\uD83D\uDC68)(?:\u200D(?:\u2764\uFE0F?\u200D(?:(?:\uD83D\uDC8B)\u200D)?(?:\uD83D\uDC68)|(?:\uD83D[\uDC68\uDC69])\u200D(?:(?:\uD83D\uDC66)\u200D(?:\uD83D\uDC66)|(?:\uD83D\uDC67)\u200D(?:\uD83D[\uDC66\uDC67]))|(?:\uD83D\uDC66)\u200D(?:\uD83D\uDC66)|(?:\uD83D\uDC67)\u200D(?:\uD83D[\uDC66\uDC67])|(?:\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDB0-\uDDB3]))|(?:\uD83C[\uDFFB-\uDFFF])\u200D(?:\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDB0-\uDDB3]))|(?:\uD83D\uDC69)\u200D(?:\u2764\uFE0F?\u200D(?:(?:\uD83D\uDC8B)\u200D(?:\uD83D[\uDC68\uDC69])|(?:\uD83D[\uDC68\uDC69]))|(?:\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDB0-\uDDB3]))|(?:\uD83D\uDC69)\u200D(?:\uD83D\uDC66)\u200D(?:\uD83D\uDC66)|(?:(?:\uD83D\uDC41)\uFE0F?\u200D(?:\uD83D\uDDE8)|(?:\uD83D\uDC69)(?:\uD83C[\uDFFB-\uDFFF])\u200D[\u2695\u2696\u2708]|(?:\uD83D\uDC68)(?:(?:\uD83C[\uDFFB-\uDFFF])\u200D[\u2695\u2696\u2708]|\u200D[\u2695\u2696\u2708])|(?:(?:\u26F9|\uD83C[\uDFCB\uDFCC]|\uD83D\uDD75)\uFE0F?|(?:\uD83D\uDC6F|\uD83E[\uDD3C\uDDDE\uDDDF]))\u200D[\u2640\u2642]|(?:\u26F9|\uD83C[\uDFCB\uDFCC]|\uD83D\uDD75)(?:\uD83C[\uDFFB-\uDFFF])\u200D[\u2640\u2642]|(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD37-\uDD39\uDD3D\uDD3E\uDDB8\uDDB9\uDDD6-\uDDDD])(?:(?:\uD83C[\uDFFB-\uDFFF])\u200D[\u2640\u2642]|\u200D[\u2640\u2642])|(?:\uD83D\uDC69)\u200D[\u2695\u2696\u2708])\uFE0F?|(?:\uD83D\uDC69)\u200D(?:\uD83D\uDC67)\u200D(?:\uD83D[\uDC66\uDC67])|(?:\uD83D\uDC69)\u200D(?:\uD83D\uDC69)\u200D(?:\uD83D[\uDC66\uDC67])|(?:\uD83D\uDC68)(?:\u200D(?:(?:\uD83D[\uDC68\uDC69])\u200D(?:\uD83D[\uDC66\uDC67])|(?:\uD83D[\uDC66\uDC67]))|(?:\uD83C[\uDFFB-\uDFFF]))|(?:\uD83C\uDFF3)\uFE0F?\u200D(?:\uD83C\uDF08)|(?:\uD83D\uDC69)\u200D(?:\uD83D\uDC67)|(?:\uD83D\uDC69)(?:\uD83C[\uDFFB-\uDFFF])\u200D(?:\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDB0-\uDDB3])|(?:\uD83D\uDC69)\u200D(?:\uD83D\uDC66)|(?:\uD83C\uDDF6)(?:\uD83C\uDDE6)|(?:\uD83C\uDDFD)(?:\uD83C\uDDF0)|(?:\uD83C\uDDF4)(?:\uD83C\uDDF2)|(?:\uD83D\uDC69)(?:\uD83C[\uDFFB-\uDFFF])|(?:\uD83C\uDDED)(?:\uD83C[\uDDF0\uDDF2\uDDF3\uDDF7\uDDF9\uDDFA])|(?:\uD83C\uDDEC)(?:\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEE\uDDF1-\uDDF3\uDDF5-\uDDFA\uDDFC\uDDFE])|(?:\uD83C\uDDEA)(?:\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDED\uDDF7-\uDDFA])|(?:\uD83C\uDDE8)(?:\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDEE\uDDF0-\uDDF5\uDDF7\uDDFA-\uDDFF])|(?:\uD83C\uDDF2)(?:\uD83C[\uDDE6\uDDE8-\uDDED\uDDF0-\uDDFF])|(?:\uD83C\uDDF3)(?:\uD83C[\uDDE6\uDDE8\uDDEA-\uDDEC\uDDEE\uDDF1\uDDF4\uDDF5\uDDF7\uDDFA\uDDFF])|(?:\uD83C\uDDFC)(?:\uD83C[\uDDEB\uDDF8])|(?:\uD83C\uDDFA)(?:\uD83C[\uDDE6\uDDEC\uDDF2\uDDF3\uDDF8\uDDFE\uDDFF])|(?:\uD83C\uDDF0)(?:\uD83C[\uDDEA\uDDEC-\uDDEE\uDDF2\uDDF3\uDDF5\uDDF7\uDDFC\uDDFE\uDDFF])|(?:\uD83C\uDDEF)(?:\uD83C[\uDDEA\uDDF2\uDDF4\uDDF5])|(?:\uD83C\uDDF8)(?:\uD83C[\uDDE6-\uDDEA\uDDEC-\uDDF4\uDDF7-\uDDF9\uDDFB\uDDFD-\uDDFF])|(?:\uD83C\uDDEE)(?:\uD83C[\uDDE8-\uDDEA\uDDF1-\uDDF4\uDDF6-\uDDF9])|(?:\uD83C\uDDFF)(?:\uD83C[\uDDE6\uDDF2\uDDFC])|(?:\uD83C\uDDEB)(?:\uD83C[\uDDEE-\uDDF0\uDDF2\uDDF4\uDDF7])|(?:\uD83C\uDDF5)(?:\uD83C[\uDDE6\uDDEA-\uDDED\uDDF0-\uDDF3\uDDF7-\uDDF9\uDDFC\uDDFE])|(?:\uD83C\uDDE9)(?:\uD83C[\uDDEA\uDDEC\uDDEF\uDDF0\uDDF2\uDDF4\uDDFF])|(?:\uD83C\uDDF9)(?:\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDED\uDDEF-\uDDF4\uDDF7\uDDF9\uDDFB\uDDFC\uDDFF])|(?:\uD83C\uDDE7)(?:\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEF\uDDF1-\uDDF4\uDDF6-\uDDF9\uDDFB\uDDFC\uDDFE\uDDFF])|[#\*0-9]\uFE0F?\u20E3|(?:\uD83C\uDDF1)(?:\uD83C[\uDDE6-\uDDE8\uDDEE\uDDF0\uDDF7-\uDDFB\uDDFE])|(?:\uD83C\uDDE6)(?:\uD83C[\uDDE8-\uDDEC\uDDEE\uDDF1\uDDF2\uDDF4\uDDF6-\uDDFA\uDDFC\uDDFD\uDDFF])|(?:\uD83C\uDDF7)(?:\uD83C[\uDDEA\uDDF4\uDDF8\uDDFA\uDDFC])|(?:\uD83C\uDDFB)(?:\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDEE\uDDF3\uDDFA])|(?:\uD83C\uDDFE)(?:\uD83C[\uDDEA\uDDF9])|(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD37-\uDD39\uDD3D\uDD3E\uDDB8\uDDB9\uDDD6-\uDDDD])(?:\uD83C[\uDFFB-\uDFFF])|(?:\u26F9|\uD83C[\uDFCB\uDFCC]|\uD83D\uDD75)(?:\uD83C[\uDFFB-\uDFFF])|(?:[\u261D\u270A-\u270D]|\uD83C[\uDF85\uDFC2\uDFC7]|\uD83D[\uDC42\uDC43\uDC46-\uDC50\uDC66\uDC67\uDC70\uDC72\uDC74-\uDC76\uDC78\uDC7C\uDC83\uDC85\uDCAA\uDD74\uDD7A\uDD90\uDD95\uDD96\uDE4C\uDE4F\uDEC0\uDECC]|\uD83E[\uDD18-\uDD1F\uDD30-\uDD36\uDDB5\uDDB6\uDDD1-\uDDD5])(?:\uD83C[\uDFFB-\uDFFF])|(?:[\u231A\u231B\u23E9-\u23EC\u23F0\u23F3\u25FD\u25FE\u2614\u2615\u2648-\u2653\u267F\u2693\u26A1\u26AA\u26AB\u26BD\u26BE\u26C4\u26C5\u26CE\u26D4\u26EA\u26F2\u26F3\u26F5\u26FA\u26FD\u2705\u270A\u270B\u2728\u274C\u274E\u2753-\u2755\u2757\u2795-\u2797\u27B0\u27BF\u2B1B\u2B1C\u2B50\u2B55]|\uD83C[\uDC04\uDCCF\uDD8E\uDD91-\uDD9A\uDDE6-\uDDFF\uDE01\uDE1A\uDE2F\uDE32-\uDE36\uDE38-\uDE3A\uDE50\uDE51\uDF00-\uDF20\uDF2D-\uDF35\uDF37-\uDF7C\uDF7E-\uDF93\uDFA0-\uDFCA\uDFCF-\uDFD3\uDFE0-\uDFF0\uDFF4\uDFF8-\uDFFF]|\uD83D[\uDC00-\uDC3E\uDC40\uDC42-\uDCFC\uDCFF-\uDD3D\uDD4B-\uDD4E\uDD50-\uDD67\uDD7A\uDD95\uDD96\uDDA4\uDDFB-\uDE4F\uDE80-\uDEC5\uDECC\uDED0-\uDED2\uDEEB\uDEEC\uDEF4-\uDEF9]|\uD83E[\uDD10-\uDD3A\uDD3C-\uDD3E\uDD40-\uDD45\uDD47-\uDD70\uDD73-\uDD76\uDD7A\uDD7C-\uDDA2\uDDB0-\uDDB9\uDDC0-\uDDC2\uDDD0-\uDDFF])|(?:[\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u23CF\u23E9-\u23F3\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB-\u25FE\u2600-\u2604\u260E\u2611\u2614\u2615\u2618\u261D\u2620\u2622\u2623\u2626\u262A\u262E\u262F\u2638-\u263A\u2648-\u2653\u265F\u2660\u2663\u2665\u2666\u2668\u267B\u267E\u267F\u2692-\u2697\u2699\u269B\u269C\u26A0\u26A1\u26AA\u26AB\u26B0\u26B1\u26BD\u26BE\u26C4\u26C5\u26C8\u26CE\u26CF\u26D1\u26D3\u26D4\u26E9\u26EA\u26F0-\u26F5\u26F7-\u26FA\u26FD\u2702\u2705\u2708-\u270D\u270F\u2712\u2714\u2716\u271D\u2721\u2728\u2733\u2734\u2744\u2747\u274C\u274E\u2753-\u2755\u2757\u2763\u2764\u2795-\u2797\u27A1\u27B0\u27BF\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B50\u2B55\u3030\u303D\u3297\u3299]|\uD83C[\uDC04\uDCCF\uDD70\uDD71\uDD7E\uDD7F\uDD8E\uDD91-\uDD9A\uDDE6-\uDDFF\uDE01\uDE02\uDE1A\uDE2F\uDE32-\uDE3A\uDE50\uDE51\uDF00-\uDF21\uDF24-\uDF93\uDF96\uDF97\uDF99-\uDF9B\uDF9E-\uDFF0\uDFF3-\uDFF5\uDFF7-\uDFFF]|\uD83D[\uDC00-\uDCFD\uDCFF-\uDD3D\uDD49-\uDD4E\uDD50-\uDD67\uDD6F\uDD70\uDD73-\uDD7A\uDD87\uDD8A-\uDD8D\uDD90\uDD95\uDD96\uDDA4\uDDA5\uDDA8\uDDB1\uDDB2\uDDBC\uDDC2-\uDDC4\uDDD1-\uDDD3\uDDDC-\uDDDE\uDDE1\uDDE3\uDDE8\uDDEF\uDDF3\uDDFA-\uDE4F\uDE80-\uDEC5\uDECB-\uDED2\uDEE0-\uDEE5\uDEE9\uDEEB\uDEEC\uDEF0\uDEF3-\uDEF9]|\uD83E[\uDD10-\uDD3A\uDD3C-\uDD3E\uDD40-\uDD45\uDD47-\uDD70\uDD73-\uDD76\uDD7A\uDD7C-\uDDA2\uDDB0-\uDDB9\uDDC0-\uDDC2\uDDD0-\uDDFF])\uFE0F?|(?:[\u261D\u26F9\u270A-\u270D]|\uD83C[\uDF85\uDFC2-\uDFC4\uDFC7\uDFCA-\uDFCC]|\uD83D[\uDC42\uDC43\uDC46-\uDC50\uDC66-\uDC69\uDC6E\uDC70-\uDC78\uDC7C\uDC81-\uDC83\uDC85-\uDC87\uDCAA\uDD74\uDD75\uDD7A\uDD90\uDD95\uDD96\uDE45-\uDE47\uDE4B-\uDE4F\uDEA3\uDEB4-\uDEB6\uDEC0\uDECC]|\uD83E[\uDD18-\uDD1C\uDD1E\uDD1F\uDD26\uDD30-\uDD39\uDD3D\uDD3E\uDDB5\uDDB6\uDDB8\uDDB9\uDDD1-\uDDDD])/g,o=/\uFE0F?\uD83C[\uDFFB-\uDFFF]/,i={e29da4:/(\s|^)([0OО]:\))([\s\.,]|$)/g,f09f9887:/(\s|^)(;-\)+)([\s\.,]|$)/g,f09f9889:/(\s|^)([XХxх]-?D)([\s\.,]|$)/g,f09f9886:/(\s|^)(B-\))([\s\.,]|$)/g,f09f988e:/(\s|^)(3-\))([\s\.,]|$)/g,f09f988c:/(\s|^)(&gt;\()([\s\.,]|$)/g,f09f98a0:/(\s|^)(;[oоOО])([\s\.,]|$)/g,f09f98b0:/(\s|^)(8\|)([\s\.,]|$)/g,f09f98b3:/(\s|^)(8-?[oоOО])([\s\.,]|$)/g,f09f98b2:/(\s|^)(8-\))([\s\.,]|$)/g,f09f988d:/(\s|^)(:[XХ])([\s\.,]|$)/g,f09f98b7:/(\s|^)(:[oоOО])([\s\.,]|$)/g,f09f98a8:/(\s|^)(&lt;3)([\s\.,]|$)/g},a={f09f988a:/(:-\))([\s\.,]|$)/g,f09f9883:/(:-D)([\s\.,]|$)/g,f09f989c:/(;-[PР])([\s\.,]|$)/g,f09f988b:/(:-[pр])([\s\.,]|$)/g,f09f9892:/(:-\()([\s\.,]|$)/g,e298ba:/(:-?\])([\s\.,]|$)/g,f09f988f:/(;-\])([\s\.,]|$)/g,f09f9894:/(3-?\()([\s\.,]|$)/g,f09f98a2:/(:&#039;\()([\s\.,]|$)/g,f09f98ad:/(:_\()([\s\.,]|$)/g,f09f98a9:/(:\(\()([\s\.,]|$)/g,f09f9890:/(:\|)([\s\.,]|$)/g,f09f98a1:/(&gt;\(\()([\s\.,]|$)/g,f09f989a:/(:-\*)([\s\.,]|$)/g,f09f9888:/(\}:\))([\s\.,]|$)/g,f09f918d:/(:like:)([\s\.,]|$)/g,f09f918e:/(:dislike:)([\s\.,]|$)/g,e2989d:/(:up:)([\s\.,]|$)/g,e29c8c:/(:v:)([\s\.,]|$)/g,f09f918c:/(:ok:|:ок:)([\s\.,]|$)/g}},19018:(e,t,n)=>{"use strict";n.d(t,{emojiToHTML:()=>a});n(91181),n(96253),n(59357);var r=n(33912),o=n(76653),i=n(58862);function a(e,t){if(browser.ipad||browser.iphone)return e;e=(e+"").replace(/&nbsp;/g," ").replace(/<br>/g,"\n");for(var n=0;n<2;n++)Object.keys(r.EMOJI_PREFIXED_REPLACES).forEach((t=>{e.replace(r.EMOJI_PREFIXED_REPLACES[t],((e,n,r,o)=>(n||"")+s(t)+(o||"")))}));return Object.keys(r.EMOJI_REPLACES).forEach((t=>{e=e.replace(r.EMOJI_REPLACES[t],((e,n,r)=>s(t)+(r||"")))})),e=e.replace(/\n/g,"<br>"),t&&(e=e.replace(/\uFE0F/g,"").replace((0,r.emojiRegex)(),l)),e}function s(e,t,n,r){return!n&&t?t:r?`<i class="emoji @${e}" emoji="${e}"${t?` title="${t}"`:""}></i>`:`<img class="emoji" src="/emoji/e/${e}${window.devicePixelRatio>=2?"_2x":""}.png"${t?` alt="${t}"`:""}${browser.msie&&Number(browser.version)>8?' contenteditable="false"':""}>`}function l(e){return s((0,o.emojiSymbolToByteHex)(e),(0,i.encodeHTMLEntities)(e),!0)}},76653:(e,t,n)=>{"use strict";n.d(t,{emojiSymbolToByteHex:()=>r});n(51876),n(59357),n(33912);function r(e){return encodeURIComponent(e.replace(/\uFE0F/gi,"")).replace(/%/gi,"").toLowerCase()}},58862:(e,t,n)=>{"use strict";n.d(t,{symbols:()=>i,escape:()=>a,encodeHTMLEntities:()=>s,decodeHTMLEntities:()=>l});n(30522),n(66108),n(96253),n(91181),n(79665),n(95767),n(83946),n(59357);function r(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==s.return||s.return()}finally{if(o)throw i}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return o(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var i=[["&amp;","&"],["&lt;","<"],["&gt;",">"],["&quot;",'"']];function a(e){return i.reduce(((e,t)=>{var n=r(t,2),o=n[0],i=n[1];return e.replace(new RegExp(i,"ig"),o)}),e)}function s(e){return a(e).replace(/[\u00A0-\u9999<>\&]/gim,())}function l(e){return i.reduce(((e,t)=>{var n=r(t,2),o=n[0],i=n[1];return e.replace(new RegExp(o,"ig"),i)}),e).replace(/&#(\d+);/g,((e,t)=>String.fromCodePoint(t)))}},17999:(e,t,n)=>{"use strict";n.d(t,{rand:()=>o,replaceEntities:()=>p,isArray:()=>l,isEmpty:()=>c,isFunction:()=>a,isNumeric:()=>d,isObject:()=>u,isString:()=>s,isUndefined:()=>i,irand:()=>h,escapeRE:()=>f,each:()=>v,vkNow:()=>_,locBase:()=>r,defaults:()=>m,intval:()=>g,vkImage:()=>y});n(75115),n(51876),n(66108),n(96253),n(59357);var r=()=>location.toString().replace(/#.+$/,""),o=(e,t)=>Math.random()*(t-e+1)+e,i=,a=e=>e&&"[object Function]"===Object.prototype.toString.call(e),s=,l=e=>"[object Array]"===Object.prototype.toString.call(e),u=,c=e=>{if(!u(e))return!1;for(var t in e)if(e.hasOwnProperty(t))return!1;return!0},d=e=>!isNaN(parseFloat(e))&&isFinite(e)&&!Array.isArray(e),f=e=>e?e.replace(/([.*+?^${}()|[\]\/\\])/g,"\\$1"):"",p=e=>ce("textarea",{innerHTML:(e||"").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}).value,h=;var _=;function g(e){return!0===e?1:parseInt(e)||0}function v(e,t){if(!e)return e;if(u(e)||void 0===e.length){for(var n in e)if(e.hasOwnProperty(n)&&!1===t.call(e[n],n,e[n]))break}else for(var r=0,o=e.length;r<o;r++){var i=e[r];if(!1===t.call(i,r,i))break}return e}var m=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return Object.assign({},e,...n.reverse(),e)},y=()=>window.Image?new Image:ce("img")},28397:(e,t,n)=>{"use strict";n.d(t,{log:()=>i,error:()=>a});var r=n(86353);function o(){return window.console&&(0,r.partConfigEnabled)("js_console_logs")}function i(){o()&&window.console.log&&window.console.log(...arguments)}function a(){o()&&(window.console.error?window.console.error(...arguments):i(...arguments))}},82408:(e,t,n)=>{"use strict";n.r(t),n.d(t,{fromQueryString:()=>l,toQueryString:()=>s});n(51876),n(20075);var r=n(17999),o={},i=function(e){if(o[e])return e;try{return encodeURIComponent(e)}catch(e){return""}},a=function(e){try{return decodeURIComponent(e)}catch(t){return o[e]=1,e}};function s(e,t){var n=[];for(var o in e)if(e.hasOwnProperty(o)&&null!=e[o]&&!(0,r.isFunction)(e[o]))if((0,r.isArray)(e[o]))for(var a=0,s=0,l=e[o].length;a<l;++a)null==e[o][a]||(0,r.isFunction)(e[o][a])||(n.push(i(o)+"["+s+"]="+i(e[o][a])),++s);else n.push(i(o)+"="+i(e[o]));return t||n.sort(),n.join("&")}function l(e){if(!e)return{};var t={};return e=e.split("&"),(0,r.each)(e,(function(e,n){var r=n.split("=");if(r[0]){var o=a(r[1]+"");if("[]"===r[0].substr(r.length-2)){var i=a(r[0].substr(0,r.length-2));t[i]||(t[i]=[]),t[i].push(o)}else t[a(r[0])]=o}})),t}},27813:(e,t,n)=>{"use strict";n.d(t,{getCookie:()=>a,setCookie:()=>s,initCookies:()=>l});n(21466),n(51876);var r=n(86353),o=n(86900);function i(){return browser.chrome&&parseInt(browser.version)>=71}function a(e){return function(){window._cookies={};for(var e=document.cookie.split(";"),t=/^[\s]*([^\s]+?)$/i,n=0,r=e.length;n<r;n++){var o=e[n].split("=");2===o.length&&(_cookies[o[0].match(t)[1]]=unescape(o[1].match(t)?o[1].match(t)[1]:""))}}(),"https:"!==location.protocol&&(0,o.statlogsValueEvent)("read_unsecure_cookie",e,location.href),_cookies[e]}function s(e,t,n,o){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"None",s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:window.locDomain,l=arguments.length>6&&void 0!==arguments[6]?arguments[6]:{},u=e+"="+escape(t),c=l.withoutSubdomains?".":"",d="; path=/"+(s?"; domain="+c+s:""),f="https:"===location.protocol,p=!!o;(0,r.partConfigEnabled)("cookie_secure_default_true")&&(p=!1!==o);var h=f&&p?"; secure":"",_=p&&i()&&(0,r.partConfigEnabled)("cookie_class_samesite")?`; SameSite=${a}`:"",g="";if(n){var v=new Date;v.setTime(v.getTime()+24*n*60*60*1e3),g="; expires="+v.toGMTString()}document.cookie=u+g+d+_+h}function(){}},3369:(e,t,n)=>{"use strict";function r(e,t,n){var r;return function(){var o=arguments,i=,a=n&&!r;clearTimeout(r),r=setTimeout(i,t),a&&e.apply(this,o)}}n.d(t,{debounce:()=>r})},20848:(e,t,n)=>{"use strict";function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.browser;return!(!e.mac||e.iphone||e.ipad||e.ipod||!(navigator.maxTouchPoints>1))}n.d(t,{isIPadOS:()=>r,isDarkTheme:()=>o,isLightTheme:()=>i,isCSSVariablesSupported:()=>a,isAutoSchemesSupported:()=>s});var o=()=>Boolean(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches),i=()=>Boolean(window.matchMedia&&window.matchMedia("(prefers-color-scheme: light)").matches),a=()=>Boolean(window.CSS&&CSS.supports&&CSS.supports("color","var(--custom-property)")),s=()=>Boolean(window.matchMedia&&window.matchMedia("(prefers-color-scheme)").matches)},40897:(e,t,n)=>{"use strict";n.d(t,{showComponentInBox:()=>o,updateCurrentComponentInBox:()=>i,destroyComponentInBox:()=>a});var r=n(73935);n(67294);function o(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t.onDestroy||(t.onDestroy=a);var n=window.showFastBox(t),o=document.querySelectorAll(".box_layout"),i=o[o.length-1];return r.render(e,i),s(),n}function i(e){var t=document.querySelectorAll(".box_layout"),n=t[t.length-1];r.render(e,n)}function a(e){var t=document.querySelectorAll(".box_layout"),n=t[t.length-1];n&&r.unmountComponentAtNode(n);var o=window.curBox();o&&o.hide(e)}function s(){var e=document.querySelectorAll(".popup_box_container"),t=e[e.length-1];boxRefreshCoords(t)}window.applicationInitFunctions||(window.applicationInitFunctions={}),window.reactInitQueue||(window.reactInitQueue={}),window.initReactApplication=(e,t)=>{window.applicationInitFunctions[e]?window.applicationInitFunctions[e](t):(window.reactInitQueue[e]||(window.reactInitQueue[e]=[]),window.reactInitQueue[e].push(t))}},51988:(e,t,n)=>{"use strict";n.d(t,{default:()=>i});var r=n(90302);function(){}const i={checkVersion:function(){try{return void 0!==window.localStorage&&null!==window.localStorage&&void 0!==window.JSON}catch(e){return!1}},remove:o,get:function(e){try{return JSON.parse(r.vkLocalStorage.getItem(e))}catch(e){return!1}},set:function(e,t){o(e);try{return r.vkLocalStorage.setItem(e,JSON.stringify(t))}catch(e){return!1}}}},27192:(e,t,n)=>{"use strict";n.d(t,{retryFn:()=>o,throttledPromise:()=>i});n(40851),n(96253);function r(e,t){return new Promise((n=>{setTimeout(n.bind(null,t),1e3*e)}))}function o(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,o=0;return function i(){for(var a=arguments.length,s=new Array(a),l=0;l<a;l++)s[l]=arguments[l];return Promise.resolve().then((()=>e(...s))).catch((e=>{if(++o<=t){var a="function"==typeof n?n(o):0;return 0===a?i(...s):r(a).then(())}throw e}))}}function i(e,t){var n,r,o;return function(){for(var i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];return new Promise(((e,i)=>{var s=Date.now(),l=()=>{e(a),n=s};!n||n+t<s?l():(o&&(o.reject(),clearTimeout(r)),o={resolve:e,reject:i},r=setTimeout(l,t-(s-n)))})).then(())}}},86900:(e,t,n)=>{"use strict";n.d(t,{statlogsValueEvent:()=>u});var r,o,i=n(27813),a=n(36557),s=n(17999),l=n(51988);function u(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),a=2;a<n;a++)r[a-2]=arguments[a];var l;void 0!==e&&void 0!==t&&c((()=>{try{l=(l=JSON.parse((0,i.getCookie)(o))).data}catch(e){l=[]}l.push([Math.round(Date.now()/1e3),e,t].concat(r)),l=l.slice(l.length-100);var n=Math.round((0,s.rand)(0,1e9));(0,i.setCookie)(o,JSON.stringify({data:l,uniqueId:n}),.01)}))}function c(e,t){if(l.default.checkVersion()){if(!0!==l.default.get(r)){l.default.set(r,!0);try{e()}catch(e){}return void l.default.set(r,!1)}t||setTimeout((),100)}else e()}(0,a.isMvk)()?(r="lock_m_stats_cookie_lock",o="remixmsts"):(r="lockkk_stats_cookie_lock",o="remixsts")},86353:(e,t,n)=>{"use strict";n.d(t,{randEnabled:()=>o,partConfigEnabled:()=>i,calculateTimeOffsets:()=>a});var r=n(27813);function(){}function i(e){var t=(window.vk||{}).pe;return!!(void 0===t?{}:t)[e]}function a(){var e=window.vk.ts;if(e&&!window.browser.opera_mobile){var t=new Date,n=Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds())/1e3-e;n-=10800,n=(n/=60).toFixed(0),(n*=60)<-55800?n+=86400:n>37800&&(n-=86400);var o=0,i=Math.abs(n);[-12,-11,-10,-9.5,-9,-8,-7,-6,-5,-4.5,-4,-3.5,-3,-2,-1,0,1,2,3,3.5,4,4.5,5,5.5,5.75,6,6.5,7,8,8.75,9,9.5,10,10.5,11,12,12.75,13,14].forEach((e=>{var t=Math.round(3600*(e-3)),r=Math.abs(n-t);r<i&&(i=r,o=t)}));var a=(0,r.getCookie)("remixdt");return void 0!==a&&intval(a)===o||(0,r.setCookie)("remixdt",o,365),o}return 0}},63131:(e,t,n)=>{"use strict";function r(e){var t=e.getBoundingClientRect(),n=document.body,r=document.documentElement,o=window.pageYOffset||r.scrollTop||n.scrollTop,i=window.pageXOffset||r.scrollLeft||n.scrollLeft,a=r.clientTop||n.clientTop||0,s=r.clientLeft||n.clientLeft||0;return{top:Math.round(t.top+o-a),left:Math.round(t.left+i-s),width:e.offsetWidth,height:e.offsetHeight}}n.d(t,{default:()=>r})},18775:(e,t,n)=>{"use strict";n.d(t,{showQuickLoginBox:()=>r,showJoinBox:()=>o});n(59357),n(29327),n(5456),n(91563),n(19016),n(16886),n(42699),n(14914),n(19369),n(43158),n(38550);function r(){return showBox("al_login.php",{act:"box"}),!1}function o(){return showBox("join.php",{act:"box",from:window.nav.strLoc}),!1}},53439:(e,t,n)=>{"use strict";n.d(t,{hasAccessibilityMode:()=>u,updateOnlineText:()=>c,updateAriaCheckboxes:()=>d,updateAriaElements:()=>p,makeInteractiveMVKA11yProposal:()=>h});var r=n(5456),o=n(42699),i=n(14914),a=n(16886),s=n(6566),l=n(86900);function(){}function c(){clearTimeout(cur.updateOnlineTO),cur.updateOnlineTO=setTimeout((function(){(0,o.each)((0,i.geByClass)("_online"),(function(){var e=(0,i.geByClass1)("_online_reader",this)||this,t=(0,i.hasClass)(this,"online"),n=(0,i.hasClass)(this,"mobile"),r=(0,i.geByTag)("img",e),s=function(e){var t=(0,i.domClosest)("_post",e),n=t&&(0,i.domByClass)(t,"author");return n?n.innerText||n.textContent:""};if(t){var l="";(0,o.each)(r,(function(){var e=(0,i.attr)(this,"alt")||(0,i.attr)(this,"data-alt")||s(this);e&&(l=(0,o.trim)(l+" "+e),this.setAttribute("data-alt",e),this.removeAttribute("alt"))})),l=(0,o.trim)(l+" "+(n?(0,a.getLang)("global_user_is_online_mobile"):(0,a.getLang)("global_user_is_online"))),e.setAttribute("aria-label",l)}else(0,o.each)(r,(function(){var e=(0,i.attr)(this,"data-alt")||s(this);e&&(this.setAttribute("alt",e),this.removeAttribute("data-alt"))})),e.removeAttribute("aria-label")}))}),100)}function d(){clearTimeout(cur.updateChkBoxTO),cur.updateChkBoxTO=setTimeout((function(){var e=[];(0,o.each)(["checkbox","checkbox_pic"],(function(){e=e.concat((0,i.geByClass)(this))})),(0,o.each)(e,(function(){"DIV"!==this.tagName||this.getAttribute("role")||(this.setAttribute("role","checkbox"),this.setAttribute("aria-checked",(0,r.isChecked)(this)?"true":"false"),this.setAttribute("tabindex",0))}))}),100)}function f(){clearTimeout(cur.updateRadioBtnsTO),cur.updateRadioBtnsTO=setTimeout((function(){var e=[],t=(0,i.geByClass)("radiobtn");(0,o.each)(t,(function(){if("DIV"===this.tagName&&!this.getAttribute("role")){var t=(0,r.isChecked)(this);this.setAttribute("role","radio"),this.setAttribute("aria-checked",t?"true":"false"),this.setAttribute("tabindex",t?0:-1);var n=function(e){var t=5,n=0,r=e;for(;n<t&&r!==document;){if(r=(0,i.domPN)(r),(0,i.geByClass)("radiobtn",r).length>1)break;n++}return r}(this);~e.indexOf(n)||e.push(n)}})),(0,o.each)(e,(function(){if(!(0,i.geByClass)("on",this).length){var e=(0,i.geByClass)("radiobtn",this);e.length&&e[0].setAttribute("tabindex",0)}}))}),100)}function(){}function h(){var e=document.getElementById("a11y_mvk_proposal");e&&e.getAttribute("aria-label")&&!e.getAttribute("role")&&(e.setAttribute("role","link"),e.style.display="block",e.classList.add("visually-hidden"),e.addEventListener("click",(e=>{var t;(0,l.statlogsValueEvent)("accessibility","is_mvk_proposal_clicked",null===(t=cur)||void 0===t?void 0:t.module),setTimeout((),100)}),{passive:!0}))}},21260:(e,t,n)=>{"use strict";n.d(t,{curBox:()=>u,initBoxQueue:()=>c,boxRefreshCoords:()=>d,showDoneBox:()=>f,getAndCleanBoxQueueData:()=>h,restoreBoxQueue:()=>_});n(75115);var r=n(17685),o=n(42699),i=n(14914),a=n(6566);function s(){return(s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var l={hideAll:function(e,t){if(e)for(;l.count();)l.hideLast();else{if(l.count()){var n=_message_boxes[l._boxes.pop()];n&&(n._in_queue=!1,n._hide(!1,!1,t))}for(;l.count();){_message_boxes[l._boxes.pop()]._in_queue=!1}}},hideLast:function(e,t){if(l.count()){var n=window._message_boxes[l._boxes[l.count()-1]];if(!0===e&&(n.changed||n.preventHideLastWithCheck||l.skip||t&&t.target&&t.target.tagName&&"input"!==t.target.tagName.toLowerCase()&&cur.__mdEvent&&t.target!==cur.__mdEvent.target))return void(l.skip=!1);n.hide()}if(t&&"click"===t.type)return(0,r.cancelEvent)(t)},hideBGClick:function(e){e&&e.target&&/^box_layer/.test(e.target.id)&&l.hideLast()},count:function(){return l._boxes.length},_show:function(e){var t=_message_boxes[e];if(t&&!t._in_queue){l.count()?_message_boxes[l._boxes[l.count()-1]]._hide(!0,!0):window.tooltips&&tooltips.hideAll(),t._in_queue=!0;var n=!!l.count();n&&(n=l._boxes.every((e=>!!_message_boxes[e]&&!_message_boxes[e].forceHide))),l.curBox=e,t._show(n||l.currHiding,n),l._boxes.push(e)}},_hide:function(e){var t=_message_boxes[e];if(t&&t._in_queue&&l._boxes[l.count()-1]===e&&t.isVisible()&&(t._in_queue=!1,l._boxes.pop(),t._hide(!!l.count()),l.count())){var n=l._boxes[l.count()-1];l.curBox=n,_message_boxes[n]._show(!0,!0,!0)}},_boxes:[],curBox:0};function u(){var e=window._message_boxes[window.boxQueue.curBox];return e&&e.isVisible()?e:null}function c(){window.boxQueue=l,window.__bq=l,window.curBox=u,window.boxQueue.hideLastCheck=window.boxQueue.hideLast.pbind(!0),window._message_box_guid=0,window._message_boxes=[]}function d(e){var t=window.innerHeight||document.documentElement.clientHeight||boxLayerBG.offsetHeight,n=a.browser.mobile?(0,o.intval)(window.pageYOffset):0,r=(0,i.getSize)(e);e.style.marginTop=Math.max(10,n+(t-r[1])/3)+"px"}function f(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};window.Notifier?p(e,t,n):window.stManager.add(["notifier.js","notifier.css"],())}function p(e,t,n){window.curNotifier&&window.curNotifier.version||window.Notifier.init({version:-1,instance_id:-1});var r=void 0!==t.onHide?t.onHide:t.callback,o=void 0!==t.timeout?t.timeout:void 0!==t.out?t.out:null,i=null!==t.id&&void 0!==t.id?t.id:++window.curNotifier.showDoneBoxLastId,a=s({version:window.curNotifier.version,type:"done_box",text:e,onclick:t.onClick,top_count:-1,id:i,timeout:o,onHide:r,preventHideByClick:!0,link:t.link},n);t.tooltipHandler&&(a.tooltipHandler=t.tooltipHandler),Notifier.pushEvent(a)}function h(){var e={boxes:window._message_boxes,boxQueueIds:window.boxQueue._boxes,curBoxId:window.boxQueue.curBox};return window.boxQueue._boxes=[],window._message_boxes=[],window.boxQueue.curBox=0,e}function _(e){window._message_boxes=e.boxes,window.boxQueue._boxes=e.boxQueueIds,window.boxQueue.curBox=e.curBoxId}},6566:(e,t,n)=>{"use strict";n.d(t,{browser:()=>d,mobPlatforms:()=>f,browserFeatures:()=>p,redirectToMVK:()=>h,initBrowserUtils:()=>_});n(30522),n(91181),n(79665),n(95767),n(66108),n(96253),n(59357),n(51876),n(21466);var r=n(42699),o=n(20848),i=n(27813),a=n(82408);function s(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==s.return||s.return()}finally{if(o)throw i}}return n}(e,t)||l(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(e,t){if(e){if("string"==typeof e)return u(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?u(e,t):void 0}}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var c=navigator.userAgent.toLowerCase(),d={version:(c.match(/.+(?:me|ox|on|rv|it|era|opr|ie|edge)[\/: ]([\d.]+)/)||[0,"0"])[1],opera:/opera/i.test(c)||/opr/i.test(c),vivaldi:/vivaldi/i.test(c),amigo:/amigo.*mrchrome soc/i.test(c),msie:/msie/i.test(c)&&!/opera/i.test(c)||/trident\//i.test(c)||/edge/i.test(c),msie6:/msie 6/i.test(c)&&!/opera/i.test(c),msie7:/msie 7/i.test(c)&&!/opera/i.test(c),msie8:/msie 8/i.test(c)&&!/opera/i.test(c),msie9:/msie 9/i.test(c)&&!/opera/i.test(c),msie_edge:/edge/i.test(c)&&!/opera/i.test(c),mozilla:/firefox/i.test(c),yabrowser:/yabrowser/i.test(c),whale:/whale/i.test(c),chrome:/chrome/i.test(c)&&!/edge/i.test(c),safari:!/chrome/i.test(c)&&/webkit|safari|khtml/i.test(c),iphone:/iphone/i.test(c),ipod:/ipod/i.test(c),iphone4:/iphone.*OS 4/i.test(c),ipod4:/ipod.*OS 4/i.test(c),ipad:/ipad/i.test(c),android:/android/i.test(c),bada:/bada/i.test(c),mobile:/iphone|ipod|ipad|opera mini|opera mobi|iemobile|android/i.test(c),msie_mobile:/iemobile/i.test(c),safari_mobile:/iphone|ipod|ipad/i.test(c),opera_mobile:/opera mini|opera mobi/i.test(c),opera_mini:/opera mini/i.test(c),mac:/mac/i.test(c),windows7:/windows nt 6.1/i.test(c),windowsVista:/windows nt 6.0/i.test(c),windowsXp:/windows nt (5.2|5.1)/i.test(c),search_bot:/(yandex|google|stackrambler|aport|slurp|msnbot|bingbot|twitterbot|ia_archiver|facebookexternalhit)/i.test(c),smart_tv:/smart-tv|smarttv/i.test(c)},f={1:1,2:1,3:1,4:1,5:1,8:1},p={wheelEvent:"onwheel"in document.createElement("div")?"wheel":void 0!==document.onmousewheel?"mousewheel":d.mozilla?"MozMousePixelScroll":"DOMMouseScroll",hasBoundingClientRect:"getBoundingClientRect"in document.createElement("div"),cmaEnabled:navigator.credentials&&navigator.credentials.preventSilentAccess&&window.vk&&vk.cma};function h(){var e,t=s(location.href.split("?"),2),n=t[0],o=t[1],i={},u=function(){}(new URLSearchParams(o));try{for(u.s();!(e=u.n()).done;){var c=e.value;i[c[0]]=c[1]}}catch(e){u.e(e)}finally{u.f()}if(i){if("1"===i.m)return;if(i.force_redirect_to_mvk){delete i.force_redirect_to_mvk;var d=(0,a.toQueryString)(i);return void(window.location=n.replace(/vk\.com/,"m.vk.com")+(d?"?"+d:""))}}if(/vk\.com/.test(n)&&!/vk\.com\/@/.test(n)){var f=(0,r.extend)(i,{force_redirect_to_mvk:1}),p=n+"?"+(0,a.toQueryString)(f);window.location=p}}function _(){(0,o.isIPadOS)(d)&&!(0,i.getCookie)("remixforce_full")&&h(),window._ua||(window._ua=navigator.userAgent.toLowerCase()),window.locDomain||(window.locDomain=location.host.toString().match(/[a-zA-Z]+\.[a-zA-Z]+\.?$/)[0]),window.locHost=location.host,window.locProtocol=location.protocol,window.locHash=location.hash.replace("#/","").replace("#!","")}},29327:(e,t,n)=>{"use strict";n.d(t,{isToday:()=>r,isYesterday:()=>o,isTomorrow:()=>i,isSameDate:()=>a,leadingZero:()=>s,formatTime:()=>l,getServerTime:()=>u,getLastDay:()=>c});n(16886),n(42699);function r(e){var t=new Date;return e.getFullYear()===t.getFullYear()&&e.getMonth()===t.getMonth()&&e.getDate()===t.getDate()}function o(e){return r(new Date(e.getTime()+864e5))}function i(e){return r(new Date(e.getTime()-864e5))}function a(e,t){var n=new Date(e),r=new Date(t);return n.getFullYear()===r.getFullYear()&&n.getMonth()===r.getMonth()&&n.getDate()===r.getDate()}function(){}function l(e,t){var n;e=Math.max(e,0);var r=Math.floor(e%60);n=r<10?"0"+r:r;var o=(e=Math.floor(e/60))%60;return n=o+":"+n,((e=Math.floor(e/60))>0||t)&&(o<10&&(n="0"+n),n=e+":"+n),n}function u(){return vk.ts+Math.floor(((new Date).getTime()-vk.started)/1e3)}function c(e,t){return 2==+t?function(e){return(e=parseInt(e))%4==0&&e%100!=0||e%400==0}(e)?29:28:t>0&&(t<8&&t%2==0||t>7&&t%2==1)?30:31}},19921:(e,t,n)=>{"use strict";n.d(t,{initDebugTools:()=>s,logEvalError:()=>l,debugLog:()=>u,debugEl:()=>c});n(66108),n(96253),n(59357);var r=n(6566),o=n(86353),i=n(11386);function a(){if((0,o.partConfigEnabled)("log_fetch_requests")){var e=(e,t)=>{try{if(~e.indexOf("/al_audio")||~e.indexOf("/like.php"))throw new Error(t)}catch(e){(0,i.debugBufferLog)(e)}};!function(e){var t=window.XMLHttpRequest;window.XMLHttpRequest=function(){var n,r,i=new t,a=i.open,s=i.send;return i.open=function(){var e=Array.prototype.slice.call(arguments);return r=e[0],n=e[1],a.apply(i,arguments)},i.send=function(){var t=arguments[0];return("POST"===(r=(r||"").toUpperCase())||"GET"===r&&(0,o.partConfigEnabled)("log_fetch_requests_get"))&&e(n,[r,n,t].join(":")),s.apply(i,arguments)},i},["DONE","HEADERS_RECEIVED","LOADING","OPENED","UNSENT"].forEach((e=>{Object.defineProperty(window.XMLHttpRequest,e,{enumerable:!1,configurable:!1,writable:!1,value:t[e]})}))}(e),window.fetch&&function(e){var t=window.fetch;window.fetch=function(){for(var n=new Array(arguments.length),r=0;r<n.length;++r)n[r]=arguments[r];var o,i=n[0],a="GET";"string"==typeof i?o=i:"Request"in window&&i instanceof window.Request?(o=i.url,i.method&&(a=i.method)):o=""+i,n[1]&&n[1].method&&(a=n[1].method);var s={method:a,url:o,status_code:null};return e(o,o),t.apply(this,n).then((function(e){return s.status_code=e.status,e})).catch((function(e){throw e}))}}(e)}}function s(){window._logTimer=(new Date).getTime(),a()}function l(e,t){if(window.Raven){if(t&&t.length>2e3){var n=t.indexOf("; window.TimeSpent && TimeSpent.setTimers && TimeSpent.setTimers(");~n&&(t=t.slice(0,n)),t=`${t.slice(0,1e3)}...${t.slice(-1e3)}`}e.message+=`: ${t}`,(0,i.logError)(e)}}function u(e){try{window.debuglogClient&&debuglogClient(e);var t="["+((new Date).getTime()-window._logTimer)/1e3+"] ";if(window.console&&console.log){var n=Array.prototype.slice.call(arguments);n.unshift(t),r.browser.msie||r.browser.mobile?console.log(n.join(" ")):console.log.apply(console,n)}}catch(e){}}function c(e){if(!e)return!1;var t=e.tagName,n=e.id,r=e.className,o=(t||"").toLowerCase();return r&&(o+="."+e.className.replace(/\s+/g,".")),n&&!/^__vk/.test(n)&&(o+=`#${e.id}`),o||(e.toString()||"[NULL]")}},14914:(e,t,n)=>{"use strict";n.d(t,{$:()=>s,$$:()=>l,emptyNode:()=>u,ge:()=>c,geByTag:()=>d,geByTag1:()=>f,geByClass:()=>p,geByClass1:()=>h,gpeByClass:()=>_,domQuery:()=>g,domQuery1:()=>v,domClosest:()=>m,domClosestByTag:()=>y,ce:()=>b,cf:()=>k,re:()=>S,domEL:()=>x,domNS:()=>T,domPS:()=>O,domFC:()=>P,domLC:()=>A,domPN:()=>L,se:()=>M,sech:()=>I,rs:()=>B,psr:()=>N,domReplaceEl:()=>F,domChildren:()=>R,domInsertBefore:()=>j,domInsertAfter:()=>U,domByClass:()=>W,domData:()=>H,domChildIndex:()=>z,domCA:()=>K,domClosestSibling:()=>V,matchesSelector:()=>q,isHover:()=>$,isAncestor:()=>Y,getScroll:()=>G,domClosestPositioned:()=>Q,domClosestOverflowHidden:()=>X,show:()=>J,hide:()=>Z,isVisible:()=>ee,clientHeight:()=>te,getClientRectOffsetY:()=>ne,toggle:()=>re,boundingRectEnabled:()=>oe,getXYRect:()=>ie,getXY:()=>ae,isWindow:()=>se,getSize:()=>le,getW:()=>ue,getH:()=>ce,hasClass:()=>de,addClass:()=>fe,addClassDelayed:()=>pe,removeClass:()=>he,removeClassDelayed:()=>_e,toggleClass:()=>ge,toggleClassDelayed:()=>ve,replaceClass:()=>me,getStyle:()=>ye,setStyle:()=>be,data:()=>we,attr:()=>Ee,removeAttr:()=>De,removeData:()=>Ce,cleanElems:()=>ke,setTitle:()=>Se,getZoom:()=>xe,val:()=>Te,elfocus:()=>Oe,traverseParent:()=>Pe,setDocumentTitle:()=>Le,lockDocumentTitle:()=>Me,initDomScripts:()=>Ie});n(51876),n(21466),n(66108),n(96253),n(83946),n(59357);var r=n(42699),o=n(17685),i=n(6566),a=n(19921);function s(e,t){return(t||document).querySelector(e)}function(){}function u(e){if(e)for(;e.firstChild;)e.removeChild(e.firstChild)}var c=e=>"string"==typeof e||"number"==typeof e?document.getElementById(e):e;function d(e,t){return(t=c(t)||document).getElementsByTagName(e)}function f(e,t){return(t=c(t)||document).querySelector&&t.querySelector(e)||d(e,t)[0]}function p(e,t,n){return t=c(t)||document,n=n||"*",e=("."+e).replace(/\s+/gm,"."),Array.prototype.slice.call(t.querySelectorAll(n+e))}function h(e,t,n){return n=n||"*",(t=c(t)||document).querySelector&&t.querySelector(n+("."+e).replace(/\s+/gm,"."))||p(e,t,n)[0]}function _(e,t,n){if(!(t=c(t)))return null;for(;n!==t&&(t=t.parentNode);)if(de(t,e))return t;return null}function g(e,t){return(t||document).querySelectorAll(e)}function v(e,t){return(t||document).querySelector(e)}function(){}function y(e,t){return e=e.toUpperCase(),t.nodeType===Node.ELEMENT_NODE&&t.tagName.toUpperCase()===e?t:function(e,t){if(!(t=c(t)))return null;e=e.toUpperCase();for(;t=t.parentNode;)if(t.tagName&&t.tagName.toUpperCase()===e)return t;return null}(e,t)}function b(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,o=document.createElement(e);return t&&(0,r.extend)(o,t),n&&be(o,n),o}var w,E,D,C,k=(w=document,E=w.createDocumentFragment(),D=w.createElement("div"),C=w.createRange&&w.createRange(),E.appendChild(D),C&&C.selectNodeContents(D),C&&C.createContextualFragment?e=>e?C.createContextualFragment(e):w.createDocumentFragment():e=>{if(!e)return w.createDocumentFragment();D.innerHTML=e;for(var t=w.createDocumentFragment();D.firstChild;)t.appendChild(D.firstChild);return t});function S(e){return(e=c(e))&&e.parentNode&&e.parentNode.removeChild(e),e}function x(e,t){for(t=t?"previousSibling":"nextSibling";e&&!e.tagName;)e=e[t];return e}var T=e=>x((e||{}).nextSibling),O=e=>x((e||{}).previousSibling,1),P=e=>x((e||{}).firstChild),A=e=>x((e||{}).lastChild,1),L=,M=e=>P(b("div",{innerHTML:e})),I=e=>R(b("div",{innerHTML:e}));function B(e,t){return(0,r.each)(t,(function(t,n){e=e.replace(new RegExp("%"+t+"%","g"),(void 0===n?"":n).toString().replace(/\$/g,"&#036;"))})),e}function N(e){return"https:"!==locProtocol?e:e=(e=(e=(e=(e=e.replace(/http:\/\/(cs(\d+)\.vk\.me\/c(\d+)\/)/gi,"https://$1")).replace(/http:\/\/cs(\d+)\.(userapi\.com|vk\.com|vk\.me|vkontakte\.ru)\/c(\d+)\/(v\d+\/|[a-z0-9\/_:\-]+\.jpg)/gi,"https://pp.vk.me/c$3/$4")).replace(/http:\/\/cs(\d+)\.(userapi\.com|vk\.com|vk\.me|vkontakte\.ru)\/([a-z0-9\/_:\-]+\.jpg)/gi,"https://pp.vk.me/c$1/$3")).replace(/http:\/\/cs(\d+)\.(userapi\.com|vk\.com|vk\.me|vkontakte\.ru)\//gi,"https://ps.vk.me/c$1/")).replace(/http:\/\/video(\d+)\.vkadre\.ru\//gi,"https://ps.vk.me/v$1/")}function F(e,t){return(0,r.isString)(t)&&(t=M(t)),L(e).replaceChild(t,e),t}function R(e){for(var t=[],n=e.childNodes,r=0;r<n.length;r++)n[r].tagName&&t.push(n[r]);return t}function j(e,t){var n=L(t);return n&&n.insertBefore(e,t)}function U(e,t){var n=L(t);return n&&n.insertBefore(e,T(t))}function(){}function H(e,t,n){return e?void 0!==n?(null===n?e.removeAttribute("data-"+t):e.setAttribute("data-"+t,n),n):e.getAttribute("data-"+t):null}function z(e){for(var t=0;null!=(e=O(e));)t++;return t}function K(e,t){do{e=L(e)}while(e&&!q(e,t));return e}function V(e,t,n){for(var r=null;null===r&&e;)(e=-1===n?O(e):T(e))&&q(e,t)&&(r=e);return r}function q(e,t){return!(!(e=c(e))||e===document)&&(e.matches||e.matchesSelector||e.mozMatchesSelector||e.msMatchesSelector||e.oMatchesSelector||e.webkitMatchesSelector||function(e){for(var t=(this.document||this.ownerDocument).querySelectorAll(e),n=t.length;--n>=0&&t.item(n)!==this;);return n>-1}).call(e,t)}function $(e){return q(e,":hover")}function Y(e,t){var n=c(e);if(t=c(t),!e||!t)return!1;for(;n=n.parentNode;)if(n===t)return!0;return!1}function G(){var e=i.browser.msie6?c("PageContainer"):document.body,t=document.documentElement;return[e.scrollLeft||t.scrollLeft||window.pageXOffset||0,e.scrollTop||t.scrollTop||window.pageYOffset||0,t.clientWidth||e.clientWidth||0,t.clientHeight||e.clientHeight||0]}function Q(e,t){for(var n=(t=t||{}).fromEl||L(e),o=t.positions||["relative","absolute","fixed"];n&&n!==bodyNode;){var i=ye(n,"position");if((0,r.inArray)(i,o)&&(!t.noOverflow||"hidden"!==ye(n,"overflow")))break;n=L(n)}return n}function X(e,t){for(var n,r,o,a=e=c(e),s=!1;a&&a.tagName&&a!==bodyNode;){if(n=ye(a,"position"),r=ye(a,"overflow"),o=ye(a,"transform"),t&&i.browser.mozilla){if("page_wrap"!=a.id&&a!==e&&"visible"!==r&&("static"===n?!s||"relative"===s:"fixed"!==s))break}else if(a!==e&&"visible"!==r&&("static"===n?!s||"relative"===s:"fixed"!==s))break;"none"!==o?s=void 0:"static"!==n&&"fixed"!==s&&(s=n),a=L(a)}return a}function J(e){var t=arguments.length;if(t>1)for(var n=0;n<t;n++)J(arguments[n]);else if((e=c(e))&&e.style){var r=e.olddisplay,o=e.tagName.toLowerCase(),a="block";e.style.display=r||"","none"===ye(e,"display")&&(a=de(e,"inline")||de(e,"_inline")?"inline":de(e,"_inline_block")?"inline-block":"tr"!==o||i.browser.msie?"table"!==o||i.browser.msie?"block":"table":"table-row",e.style.display=e.olddisplay=a)}}function Z(e){var t=arguments.length;if(t>1)for(var n=0;n<t;n++)Z(arguments[n]);else if((e=c(e))&&e.style){var r=ye(e,"display");e.olddisplay="none"!==r?r:"",e.style.display="none"}}function ee(e){return!(!(e=c(e))||!e.style)&&"none"!==ye(e,"display")}function te(){return window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight}function ne(e,t,n){n=n||0;var o=ae(e=c(e))[1],i=le(e)[1],a=window,s=document.documentElement,l=Math.max((0,r.intval)(a.innerHeight),(0,r.intval)(s.clientHeight)),u=c("page_header_cont"),d=s.scrollTop||bodyNode.scrollTop||window.scrollY||0,f=vk.staticheader?Math.max(0,le(u)[1]-d):le(u)[1];if(t){if(o+i<d+f+n)return o+i-d-f-n;if(o>d+l-n)return o-d-l+n}else{if(o<d+f+n)return o-d-f-n;if(o+i>d+l-n)return o+i-d-l+n}return 0}function re(e,t){return void 0===t&&(t=!ee(e)),t?J(e):Z(e),t}function oe(e){return void 0!==e.getBoundingClientRect}function ie(e,t){var n;if(t&&"inline"===ye(e,"display")){var r=e.getClientRects();n=r&&r[0]||e.getBoundingClientRect()}else n=e.getBoundingClientRect();return n}function ae(e,t){if(!(e=c(e)))return[0,0];var n=e.ownerDocument,r={top:0,left:0};if(!n)return[0,0];var o=n.documentElement;oe(e)&&(r=ie(e,!0));var i=n===n.window?n:9===n.nodeType&&(n.defaultView||n.parentWindow);return[r.left+(t?0:i.pageXOffset||o.scrollLeft)-(o.clientLeft||0),r.top+(t?0:i.pageYOffset||o.scrollTop)-(o.clientTop||0)]}function se(e){return null!=e&&e===e.window}function le(e,t,n){e=c(e);var o,i=document.documentElement,a=[0,0];if(t&&"border-box"===ye(e,"boxSizing")&&(t=!1),e===document)a=[Math.max(i.clientWidth,bodyNode.scrollWidth,i.scrollWidth,bodyNode.offsetWidth,i.offsetWidth),Math.max(i.clientHeight,bodyNode.scrollHeight,i.scrollHeight,bodyNode.offsetHeight,i.offsetHeight)];else if(e){function s(){a=oe(e)&&(o=ie(e,n))&&void 0!==o.width?[o.width,o.height]:[e.offsetWidth,e.offsetHeight],t&&(0,r.each)(a,(function(t,n){var o=t?["Top","Bottom"]:["Left","Right"];(0,r.each)(o,(function(){a[t]-=parseFloat(ye(e,"padding"+this))||0,a[t]-=parseFloat(ye(e,"border"+this+"Width"))||0}))}))}if(ee(e))s();else{var l={position:"absolute",visibility:"hidden",display:"block"},u={},d=!1;e.style.cssText.indexOf("!important")>-1&&(d=e.style.cssText),(0,r.each)(l,(function(t,n){u[t]=e.style[t],e.style[t]=n})),s(),(0,r.each)(l,(function(t,n){e.style[t]=u[t]})),d&&(e.style.cssText=d)}}return a}function ue(e){return le(e)[0]}function(){}function de(e,t){var n=c(e);return n&&n.classList&&n.classList.contains(t)}function fe(e,t){var n=c(e);n&&n.classList&&(t.includes(" ")?` ${n.className} `.includes(` ${t} `)||(n.className=(n.className?`${n.className} `:"")+t):t.length&&!n.classList.contains(t)&&n.classList.add(t))}var pe=(e,t,n)=>{n=(0,r.positive)(n),setTimeout(fe.pbind(e,t),n)};function he(e,t){var n=c(e);t.length&&n&&n.classList&&n.classList.contains(t)&&n.classList.remove(t)}var _e=(e,t,n)=>{n=(0,r.positive)(n),setTimeout(he.pbind(e,t),n)};function ge(e,t,n){var r=c(e);if(!t.length||!r||!r.classList)return!1;if(void 0===n)return r.classList.toggle(t);var o=r.classList.contains(t);return n&&!o?r.classList.add(t):!n&&o&&r.classList.remove(t),n}function ve(e,t,n,o){return o=(0,r.positive)(o),void 0===n&&(n=!de(e,t)),(n?pe:_e)(e,t,o),n}function(){}function ye(e,t,n){if(e=c(e),(0,r.isArray)(t)){var o={};return(0,r.each)(t,()),o}if(!e)return"";if(void 0===n&&(n=!0),!n&&"opacity"===t&&i.browser.msie){var a=e.style.filter;return a?a.indexOf("opacity=")>=0?parseFloat(a.match(/opacity=([^)]*)/)[1])/100+"":"1":""}if(!n&&e.style&&(e.style[t]||"height"===t))return e.style[t];var s,l=document.defaultView||window;if(l.getComputedStyle){t=t.replace(/([A-Z])/g,"-$1").toLowerCase();var u=l.getComputedStyle(e,null);u&&(s=u.getPropertyValue(t))}else if(e.currentStyle){if("opacity"===t&&i.browser.msie){var d=e.currentStyle.filter;return d&&d.indexOf("opacity=")>=0?parseFloat(d.match(/opacity=([^)]*)/)[1])/100+"":"1"}var f=t.replace(/\-(\w)/g,(function(e,t){return t.toUpperCase()}));"auto"===(s=e.currentStyle[t]||e.currentStyle[f])&&(s=0),s=(s+"").split(" "),(0,r.each)(s,(function(t,n){if(!/^\d+(px)?$/i.test(n)&&/^\d/.test(n)){var r=e.style,o=r.left,i=e.runtimeStyle.left;e.runtimeStyle.left=e.currentStyle.left,r.left=n||0,s[t]=r.pixelLeft+"px",r.left=o,e.runtimeStyle.left=i}})),s=s.join(" ")}if(n&&("width"===t||"height"===t)){var p=le(e,!0)[{width:0,height:1}[t]];s=((0,r.intval)(s)?Math.max((0,r.floatval)(s),p):p)+"px"}return s}function be(e,t,n){if(e=c(e))if((0,r.isObject)(t))(0,r.each)(t,());else if("opacity"===t)i.browser.msie&&((n+"").length?e.style.filter=1!==n?"alpha(opacity="+100*n+")":"":e.style.cssText=e.style.cssText.replace(/filter\s*:[^;]*/gi,""),e.style.zoom=1),e.style.opacity!==n&&(e.style.opacity=n);else try{var o="number"==typeof n;o&&/height|width/i.test(t)&&(n=Math.abs(n)),n=o&&!/z-?index|font-?weight|opacity|zoom|line-?height/i.test(t)?n+"px":n,e.style[t]!==n&&(e.style[t]=n)}catch(e){(0,a.debugLog)("setStyle error: ",[t,n],e)}}function we(e,t,n){if(!e)return!1;var r=e[vkExpand];return r||(r=e[vkExpand]=++vkUUID),void 0!==n&&(vkCache[r]||(vkCache[r]={},window.__debugMode&&(vkCache[r].__elem=e)),vkCache[r][t]=n),t?vkCache[r]&&vkCache[r][t]:r}function Ee(e,t,n){return e=c(e),void 0===n?e.getAttribute(t):(e.setAttribute(t,n),n)}function De(e){for(var t=0,n=arguments.length;t<n;++t){var r=arguments[t];if(void 0!==e[r])try{delete e[r]}catch(t){try{e.removeAttribute(r)}catch(e){}}}}function Ce(e,t){var n=!!e&&e[vkExpand];if(n)if(t){if(vkCache[n]){delete vkCache[n][t],t="";var r=0;for(var i in vkCache[n])if("__elem"!==i){r++;break}r||Ce(e)}}else(0,o.removeEvent)(e),De(e,vkExpand),delete vkCache[n]}function ke(){for(var e=arguments,t=0;t<e.length;++t){var n=c(e[t]);n&&(Ce(n),De(n,"btnevents"))}}function Se(e,t,n){if((e=c(e))&&!e.titleSet){if(t||(t=e),t.scrollWidth>t.clientWidth||t.scrollHeight>t.clientHeight)e.setAttribute("title",n||e.innerText||e.textContent);else{var r=f("b",e);r&&(r.scrollWidth>r.clientWidth||r.scrollHeight>r.clientHeight)?e.setAttribute("title",n||e.innerText||e.textContent):e.removeAttribute("title")}e.titleSet=1}}function xe(){var e=c("zoom_test_1")||document.body.appendChild(b("div",{id:"zoom_test_1"},{left:"10%",position:"absolute",visibility:"hidden"}));return(c("zoom_test_2")||document.body.appendChild(b("div",{id:"zoom_test_2"},{left:e.offsetLeft+"px",position:"absolute",visibility:"hidden"}))).offsetLeft/e.offsetLeft}function Te(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;if(e=c(e))return void 0!==t&&(e.setValue?(e.setValue(t),!n&&e.phonblur&&e.phonblur()):"INPUT"===e.tagName||"TEXTAREA"===e.tagName?e.value=t:void 0!==e.emojiId&&window.Emoji?Emoji.val(e,t):e.innerHTML=t,!n&&(0,o.triggerEvent)(e,"valueChanged")),e.getValue?e.getValue():("INPUT"===e.tagName||"TEXTAREA"===e.tagName?e.value:e.innerHTML)||""}function Oe(e,t,n){e=c(e);try{if(e.focus(),void 0!==t&&!1!==t||(t=e.value.length),void 0!==n&&!1!==n||(n=t),e.setSelectionRange)e.setSelectionRange(t,n);else if(window.getSelection&&document.createRange){var r=document.createRange();r.selectNodeContents(e),r.collapse(!1);var o=window.getSelection();o.removeAllRanges(),o.addRange(r)}}catch(e){}}function Pe(e,t,n){for(e=c(e),n=n||999;e&&!t(e);){if(0===--n)return!1;try{if((e=L(e))===document)return!1}catch(t){e=!1}}return e}window.cssTransformProp=function(){}();var Ae=!1;function Le(e){if(!Ae)return window.document.title=(0,r.replaceEntities)(e)}function Me(e){Ae=e,e&&window.cur&&window.cur.destroy.push(())}function Ie(){window.vkExpand=window.vkExpand||"VK"+(0,r.vkNow)(),window.vkUUID=window.vkUUID||0,window.vkCache=window.vkCache||{}}},17685:(e,t,n)=>{"use strict";n.d(t,{KEY:()=>a,addEvent:()=>s,removeEvent:()=>l,triggerEvent:()=>u,cancelEvent:()=>c,stopEvent:()=>d,normEvent:()=>p,checkEvent:()=>h,checkKeyboardEvent:()=>_,checkOver:()=>g});n(30522),n(51876);var r=n(14914),o=n(42699),i=n(6566),a={LEFT:37,UP:38,RIGHT:39,DOWN:40,DEL:8,TAB:9,RETURN:13,ENTER:13,ESC:27,PAGEUP:33,PAGEDOWN:34,SPACE:32,CTRL:17,ALT:18,SHIFT:16};function s(e,t,n,i,a,s){if((e=(0,r.ge)(e))&&3!=e.nodeType&&8!=e.nodeType){var l,u=a?((l=function(e){var t=e.data;e.data=a;var r=n.apply(this,[e]);return e.data=t,r}).handler=n,l):n;e.setInterval&&e!==window&&(e=window);var c=(0,r.data)(e,"events")||(0,r.data)(e,"events",{}),d=(0,r.data)(e,"handle")||(0,r.data)(e,"handle",function(){}(e));(0,o.each)(t.split(/\s+/),(function(t,n){c[n]||(c[n]=[],!i&&e.addEventListener?e.addEventListener(n,d,s):!i&&e.attachEvent&&e.attachEvent("on"+n,d)),c[n].push(u)}))}}function l(e,t,n,i){if(void 0===i&&(i=!1),e=(0,r.ge)(e)){var a=(0,r.data)(e,"events");if(a)if("string"==typeof t)(0,o.each)(t.split(/\s+/),(function(t,s){if((0,o.isArray)(a[s])){var l=a[s].length;if((0,o.isFunction)(n)){for(var u=l-1;u>=0;u--)if(a[s][u]&&(a[s][u]===n||a[s][u].handler===n)){a[s].splice(u,1),l--;break}}else{for(var c=0;c<l;c++)delete a[s][c];l=0}l||(e.removeEventListener?e.removeEventListener(s,(0,r.data)(e,"handle"),i):e.detachEvent&&e.detachEvent("on"+s,(0,r.data)(e,"handle")),delete a[s])}})),(0,o.isEmpty)(a)&&((0,r.removeData)(e,"events"),(0,r.removeData)(e,"handle"));else for(var s in a)a.hasOwnProperty(s)&&l(e,s)}}function u(e,t,n,i){e=(0,r.ge)(e);var a=(0,r.data)(e,"handle");if(a){var s=()=>a.call(e,(0,o.extend)(n||{},{type:t,target:e}));i?s():setTimeout(s,0)}}function c(e){if(!(e=e||window.event))return!1;for(;e.originalEvent;)e=e.originalEvent;return e.preventDefault&&e.preventDefault(),e.stopPropagation&&e.stopPropagation(),e.stopImmediatePropagation&&e.stopImmediatePropagation(),e.cancelBubble=!0,e.returnValue=!1,!1}function d(e){if(!(e=e||window.event))return!1;for(;e.originalEvent;)e=e.originalEvent;return e.stopPropagation&&e.stopPropagation(),e.cancelBubble=!0,!1}function f(e){e=p(e);var t=Array.from(arguments);t[0]=e;var n=(0,r.data)(this,"events");if(n&&"string"==typeof e.type&&n[e.type]&&n[e.type].length){var o=(n[e.type]||[]).slice();for(var i in o)if(o.hasOwnProperty(i)){if("mouseover"===e.type||"mouseout"===e.type){for(var a=e.relatedElement;a&&a!==this;)a=a.parentNode;if(a===this)continue}var s=o[i].apply(this,t);if(!1!==s&&-1!==s||c(e),-1===s)return!1}}}function p(e){var t=e=e||window.event;if((e=(0,o.clone)(t)).originalEvent=t,e.target||(e.target=e.srcElement||document),3==e.target.nodeType&&(e.target=e.target.parentNode),!e.relatedTarget&&e.fromElement&&(e.relatedTarget=e.fromElement===e.target),null==e.pageX&&null!=e.clientX){var n=document.documentElement,r=bodyNode;e.pageX=e.clientX+(n&&n.scrollLeft||r&&r.scrollLeft||0)-(n.clientLeft||0),e.pageY=e.clientY+(n&&n.scrollTop||r&&r.scrollTop||0)-(n.clientTop||0)}return!e.which&&(e.charCode||0===e.charCode?e.charCode:e.keyCode)&&(e.which=e.charCode||e.keyCode),!e.metaKey&&e.ctrlKey?e.metaKey=e.ctrlKey:!e.ctrlKey&&e.metaKey&&i.browser.mac&&(e.ctrlKey=e.metaKey),!e.which&&e.button&&(e.which=1&e.button?1:2&e.button?3:4&e.button?2:0),e}function h(e){var t=e||window.event;return t&&("click"===t.type||"mousedown"===t.type||"mouseup"===t.type)&&(t.which>1||t.button>1||t.ctrlKey||t.shiftKey||i.browser.mac&&t.metaKey)||!1}function _(e){if(!(e=p(e))||!e.target)return!1;if(!e.screenX)return!0;var t=(0,r.getSize)(e.target),n=(0,r.getXY)(e.target),o=e.pageX-n[0],i=e.pageY-n[1];return o<-1||o>t[0]+1||i<-1||i>t[1]+1||Math.abs(e.pageX-n[0]-t[0]/2)<1&&Math.abs(e.pageY-n[1]-t[1]/2)<1}function g(e,t){if(!e)return!0;e=e.originalEvent||e,t=t||e.target;var n=e.fromElement||e.relatedTarget;if(!n||n===t||n===t.parentNode)return!0;for(;n!==t&&n.parentNode&&n.parentNode!==bodyNode;)n=n.parentNode;return n!==t}},69433:(e,t,n)=>{"use strict";n.d(t,{initTopNotifier:()=>w,isPhotoeditor3Available:()=>E,showPhoto:()=>D,showManyPhoto:()=>C,showAlbums:()=>k,showAlbum:()=>S,showPhotoTags:()=>x,showVideoTags:()=>T,videoCallback:()=>O,showAttachProductBox:()=>P,showWiki:()=>A,showApp:()=>L,showPodcast:()=>M,podcastStartFrom:()=>I,articlePrepare:()=>B,openArticleEditor:()=>N,bookmark:()=>F,bookmarkPost:()=>R,bookmarkArticle:()=>j,bookmarkLink:()=>U,bookmarkPodcast:()=>W,bookmarkNarrative:()=>H,bookmarkEvent:()=>z,bookmarkYoulaProduct:()=>K,shareAudioPlaylist:()=>V,getAudioPlayer:()=>q,deleteAudioOnClaim:()=>$,initTopAudioPlayer:()=>Y,AudioMessagePlayer:()=>G,mentionClick:()=>Q,isArticleLayerOpen:()=>X,showDonutSubscribePopup:()=>J,sendCoronaStatusStat:()=>Z,sendImageStatusStat:()=>ee});n(21466),n(59357),n(20075),n(75115);var r=n(17685),o=n(42699),i=n(91563),a=n(14914),s=n(6566),l=n(5456),u=n(16886),c=n(82408),d=n(21260),f=n(30242),p=n(86900),h=n(24961),_=n(7851),g=n(74854),v=n(40469),m=n(26934),y=n(69455);function b(){return(b=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function w(){var e=["notifier.js","notifier.css"];return{preload:function(){stManager.add(e,())},show:function(t){if(!0!==(0,r.checkEvent)(t))return stManager.add(e,(()=>window.TopNotifier.show(t))),(0,r.cancelEvent)(t)},showTooltip:function(t){stManager.add(e,(()=>window.TopNotifier.showTooltip(t)))},invalidate:()=>{},setCount:()=>{},createNewEventsBox:()=>{}}}function E(){return!s.browser.msie||parseInt(s.browser.version)>10}function D(e,t){var n,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=arguments.length>3?arguments[3]:void 0;if(i&&i.additional&&i.additional.open_pe&&i.temp&&(0,f.isImgBlurred)(i.temp)){var s=function(){D(e,t,i,a)};Page.showUnblurBox(i.temp.restrictionTitle,i.temp.restrictionText,i.temp.photoRaw,i.temp.unblurHash,s)}else{if(i&&i.additional&&i.additional.open_pe&&i.temp&&i.temp.restrictionGeo&&delete i.additional.open_pe,cur.viewAsBox)return cur.viewAsBox();if(!((0,r.checkEvent)(a)||cur._editMode&&cur._editMode(a))){if((0,g.isUnauthorizedMediaLayerBoxAvailable)()&&!i.forceUnauth)return window.Unauthorized.showMoreBox(null,0,g.UnauthorizedSourceType.PHOTO,(()=>{D(e,t,b({},i,{forceUnauth:!0}),a)})),!1;var u=[jsc("web/photoview.js"),"photoview.css","page.js","page.css"];if(i.img&&(i.showProgress=function(){},i.hideProgress=function(){(0,l.hideProgress)(i.img)}),!e)return!1;var c=1;if(((null==i||null===(n=i.additional)||void 0===n?void 0:n.open_pe)||(null==i?void 0:i.noCache))&&(c=0),window.Photoview&&!1===Photoview.showPhoto(e,t,i)&&c)return!1;var d=!0;if(cur.pvOptions||(cur.pvOptions={}),cur.pvOptions.isLightMode=i.isLightMode,i.temp&&!(cur.pvNoTemp||{})[e]&&stManager.add(u,(function(){(0,o.extend)(cur,{pvCancelLoad:function(){d=!1},pvData:cur.pvData||{},pvOptions:cur.pvOptions||{}}),cur.pvData.temp=[i.temp],cur.pvOptions.temp_final=i.temp_final,cur.pvOptions.temp_summary=i.temp_summary,cur.pvOptions.queue=i.queue,Photoview.show("temp",0)})),(0,o.extend)(i,{onDone:function(n){Photoview.list(e,t,n),i.blog_text&&arguments[3]&&arguments[3][0]&&(arguments[3][0].album=i.blog_text),Photoview.loaded.apply(window,arguments),d&&("deleted"===n?Photoview.showDeleted.apply(window,arguments):Photoview.showPhoto(e,t,i,!0))},stat:u,cache:c}),i.temp_final)return!1;var p="";return nav.objLoc.dmcah&&(p=nav.objLoc.dmcah),ajax.post("al_photos.php",(0,o.extend)({act:"show",gid:cur.gid,photo:e,list:t,dmcah:p,module:cur.module||"",list_info:i.list_info||null},i.additional),i),!1}}}function(){}function k(e,t,n){return cur.viewAsBox?cur.viewAsBox():(0,r.checkEvent)(n)?void 0:(stManager.add([jsc("web/photoview.js"),"photoview.css"],(function(){Photoview.showAlbums(e,t)})),!1)}function S(e,t,n){return cur.viewAsBox?cur.viewAsBox():(0,r.checkEvent)(n)?void 0:(stManager.add([jsc("web/photoview.js"),"photoview.css"],(function(){Photoview.showAlbum(e,t)})),!1)}function x(e,t,n){return cur.viewAsBox?cur.viewAsBox():(0,r.checkEvent)(n)?void 0:(stManager.add([jsc("web/photoview.js"),"photoview.css"],(function(){Photoview.showTagged(e,t)})),!1)}function T(e,t,n){return cur.viewAsBox?cur.viewAsBox():(0,r.checkEvent)(n)?void 0:(stManager.add([jsc("web/video.js"),"video.css",jsc("web/photoview.js"),"photoview.css"],(function(){Photoview.showVideoTags(e,t)})),!1)}function O(e){var t=e.shift();if(window.Videoview&&Videoview.playerCallback[t])return Videoview.playerCallback[t].apply(Videoview,e);throw Error("Unregistered player callback: "+t)}function P(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return curBox()||(0,i.showBox)("al_market.php",{act:"show_attach_product_box"},{onDone:function(e,n){window.MarketProductBox.init(e,n,t)}}),(0,r.cancelEvent)(e)}function A(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};if((0,r.checkEvent)(n))return!0;if(0!==cur.gid&&(e.gid=cur.gid),e.location_owner_id=cur.oid,window.wkcur&&wkcur.shown&&wkcur.wkRaw===e.w&&e.w&&!e.reply)return WkView.restoreLayer(i),(0,r.cancelEvent)(n);(window.wkcur&&wkcur.hideTitle||e.hide_title)&&(i.hide_title=e.hide_title=1);var a=i.stat||[jsc("web/wkview.js"),"wkview.css","wk.css",jsc("web/wk.js")];t&&a.push(jsc("web/wk_editor.js"),"wk_editor.css");var s,l,u={stat:a,loader:!i.noloader,onDone:function(e,t,r,a){WkView.show(e,t,(0,o.extend)(r,i),a,n)},onFail:function(e){return(0,o.isFunction)(i.onFail)?i.onFail(e):WkView.showError(e)}};if(nav.objLoc.claim&&(e.claim=nav.objLoc.claim),e.w&&"/query"===e.w.substr(-6)){var c=(0,o.clone)(nav.objLoc);delete c[0],delete c.w,e.query=JSON.stringify(c)}i.preload&&(0,o.extend)(u,i.preload),i.ads_params&&(s=i.ads_params,(l=nav.getPostParams(n&&n.target)).post_click_url&&(s._post_click_url=l.post_click_url));var d="";"feed"===cur.module&&window.feed?d=window.feed.getModuleRef():"public"===cur.module?d="club":"profile"===cur.module&&(d="profile"),i.customRef&&(d=i.customRef);var f="",p=(0,o.clone)(nav.objLoc);return p.dmcah&&(f=p.dmcah),ajax.post("wkview.php",(0,o.extend)({act:"show",loc:nav.objLoc[0],is_znav:i.isZnav,dmcah:f,ref:d},e,s,cur.getWkviewOpts&&cur.getWkviewOpts()),u),(0,r.cancelEvent)(n)}function L(e,t,n,r,i,a){a||(a={});var s=!1,l=(0,o.extend)({w:"app"+t},a);if(n=(0,o.intval)(n),r&&((0,o.isObject)(r)?l=(0,o.extend)(l,r):l.ref=r),a.layer&&(s=!0),(cur.apps&&cur.apps[t]||!n)&&!s){delete l.w;var u="app"+t+(i?"_"+i:""),c=nav.objLoc&&!nav.objLoc[1]&&nav.objLoc[0]===u;return nav.go("/"+u+nav.toStr(l),e,{nocur:c})}i&&(l.mid=i);var d={stat:[jsc("web/wkview.js"),"wkview.css","apps.js","apps.css"]};if(a.queue&&(d.queue=1),a.urlHash&&(l.url_hash=a.urlHash),l["#"]){var f=l["#"];delete l["#"],d.onLoaded=()=>{nav.setLoc((0,o.extend)(nav.objLoc,{"#":f}))}}return A(l,!1,e,d)}function M(e,t,n,o,i){if(!vk.widget)return(0,a.show)(boxLoader),(0,a.show)(boxLayerWrap),(0,d.boxRefreshCoords)(boxLoader),stManager.add([jsc("web/podcast.js")],(function(){Podcast.show(e,t,null,o,i)})),n&&(0,r.cancelEvent)(n)}function I(e,t,n,o){return stManager.add([jsc("web/podcast.js")],(function(){Podcast.goToTime(e,t,n,o)})),n&&(0,r.cancelEvent)(n)}function B(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e&&!vk.isBanned&&stManager.add([jsc("web/article_layer.js"),"article.css"],(function(){window.ArticleLayer.prepare(e,n,t)}))}function N(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};if(cur.articleEditorLayer)cur.articleEditorLayer.openById(e,t);else{var a=[jsc("web/article_editor_layer.js"),"article.css","article_editor.css"];stManager.add(a,(()=>{}));var s=Object.assign({act:"open_editor",article_owner_id:e,article_id:t,from_post_convert:n?1:0,post_data_medias:n?n.medias.join(","):""},r);ajax.post("al_articles.php",s,{loader:!0,onFail:function(e){return"app"===o.from?o.errorHandler&&o.errorHandler("ServerError: Can't open article editor."):(0,i.showFastBox)((0,u.getLang)("global_error"),e),window.SAKIntegration&&window.SAKIntegration.isIntegrated&&window.SAKIntegration.sendMessage("error",{error:e}),!0},onDone:function(e,t,r,i){window.WkView&&WkView.hide(),window.boxQueue&&boxQueue.hideAll(),n&&(i.postData=n),i.articleOwnerId?stManager.add(a,(function(){if(layers.fullhide=function(){cur.articleEditorLayer&&cur.articleEditorLayer.hide()},window.AuthorPage&&window.AuthorPage.isOpen()&&(cur.needAuthorPageHardBack=!0),cur.articleEditorLayer=new ArticleEditorLayer(e,t,r,i,()),"app"===o.from){var n=e=>t=>{t.type=e,"publish"!==e&&"close"!==e||cur.articleEditorLayer&&cur.articleEditorLayer.hide(),o.eventHandler&&o.eventHandler(t)};cur.articleVkAppEditor={onSaveDraft:n("draft"),onPublish:n("publish"),onClose:n("close")}}})):nav.change({z:!1})}})}}function F(e,t,n,r){var s=arguments.length>4&&void 0!==arguments[4]&&arguments[4],l=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"",c=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"",d=arguments.length>7&&void 0!==arguments[7]?arguments[7]:"";ajax.post("al_bookmarks.php",{act:"bookmark",owner_id:e,object_id:t,type:n,state:s?1:0,hash:r,item_access_hash:l,ref:c||cur.module,track_code:d},{onDone:(n,r,s,l)=>{if(n&&!vk.widget){window.showDoneBox(n,{tooltipHandler:function(n){var c=(0,a.geByClass1)("bookmarks_tag_set",n);if(c&&!isEmpty(r)){var d=[];each(r,()),d.sort(((e,t)=>e.order-t.order));for(var f='<div class="bookmarks_tags_list">',p=0;p<d.length;p++){var h=d[p];f+=`<div class="bookmarks_tags_list_item" data-id="${h.id}">${h.name}</div>`}f+="</div>",(f=se(f)).addEventListener("click",(n=>{var r=domClosest("bookmarks_tags_list_item",n.target);if(r){var c=(0,a.domData)(r,"id"),d=toggleClass(r,"bookmarks_tags_list_item--selected");ajax.post("al_bookmarks.php",{act:"set_tag",item_type:s,item_oid:e,item_id:t,hash:l,tag_id:c,is_tagged:(0,o.intval)(!d),is_from_snackbar:!0},{onFail:e=>((0,i.showFastBox)((0,u.getLang)("global_error"),e),!0)})}})),cur.setBookmarksTagTooltip&&cur.setBookmarksTagTooltip.destroy(),stManager.add(["ui_common.css","ui_common.js"],(()=>{}));var _=new ElementTooltip(c,{content:f,appendToParent:!0,cls:"bookmarks_tag_set_tt",autoShow:!0,offset:[0,-36],onFirstTimeShow:e=>{stManager.add(["ui_common.css","ui_common.js"],(()=>{cur.setBookmarksTagTooltipScrolls||(cur.setBookmarksTagTooltipScrolls=[]),cur.setBookmarksTagTooltipScrolls.push(new uiScroll(domFC(e),{theme:"dark"}))}))},onShow:function(){Notifier.freezeEvents(),curNotifier.tooltipShown=!0},onHide:function(){}});cur.destroy.push((()=>{cur.setBookmarksTagTooltipScrolls&&(cur.setBookmarksTagTooltipScrolls.forEach((function(e){e.destroy()})),delete cur.setBookmarksTagTooltipScrolls),_.destroy()}))}},link:"/bookmarks"})}}})}function R(e,t,n,r,i,s){var l=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"";if((0,o.isObject)(window.cur)&&(0,o.isFunction)(window.cur.viewAsBox))return window.cur.viewAsBox();var u=parseInt((0,a.domData)(e,"state"));e.innerHTML=u?(0,a.domData)(e,"add"):(0,a.domData)(e,"remove"),(0,a.domData)(e,"state",u?0:1),F(t,n,r,i,u,s,l)}function j(e,t,n,o,i,s,l){return t&&(l=parseInt((0,a.domData)(t,"state")),(0,a.domData)(t,"state",l?0:1)),F(n,o,i,s,l),each(geByClass(`_article_${n}_${o}`),((e,t)=>{var n=(0,a.geByClass1)("_bookmark_btn",t);(0,a.domData)(n,"state",l?0:1)})),(0,r.cancelEvent)(e)}function U(e,t,n){var o=parseInt((0,a.domData)(t,"state"));return(0,a.domData)(t,"state",o?0:1),ajax.post("al_bookmarks.php",{act:"bookmark_link",state:o?1:0,hash:n,url:(0,a.domData)(t,"link-url"),img:(0,a.domData)(t,"link-img"),title:(0,a.domData)(t,"link-title"),ref:cur.module,track_code:(0,a.domData)(t,"track-code")},{onDone:e=>{e&&!vk.widget&&window.showDoneBox(e)}}),(0,r.cancelEvent)(e)}function W(e,t,n,o,i){return stManager.add([jsc("web/podcast.js")],(function(){Podcast.toggleFave(e,t,n,i)})),o&&(0,r.cancelEvent)(o)}function H(e,t,n,o,i,s){var l=parseInt((0,a.domData)(t,"state"));(0,a.domData)(t,"state",l?0:1);var u="";return u=l?(0,m.getIcon24FavoriteOutline)().icon:(0,y.getIcon24Favorite)().icon,t.innerHTML=u,F(n,o,i,s,l),l||(0,v.sendNarrativeAnalytic)(v.NarrativeAnalyticEventType.addToBookmarks,{ownerId:n,id:o},window.cur.module),(0,r.cancelEvent)(e)}function z(e,t,n,o){var i=parseInt((0,a.domData)(t,"state"));return(0,a.domData)(t,"state",i?0:1),ajax.post("fave.php",{act:i?"a_delete_group":"a_add_group",gid:n,hash:o},{onDone:(e,t)=>{i||vk.widget||showDoneBox(t)}}),(0,r.cancelEvent)(e)}function K(e,t,n,o,i,s){var l=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"",u=arguments.length>7&&void 0!==arguments[7]?arguments[7]:"",c=parseInt((0,a.domData)(t,"state"));return(0,a.domData)(t,"state",c?0:1),F(n,o,i,s,c,l,"",u),(0,r.cancelEvent)(e)}function V(e,t,n,o){return(0,i.showBox)("like.php",{act:"publish_box",object:"audio_playlist"+t+"_"+n,list:o},{stat:["wide_dd.js","wide_dd.css",jsc("web/sharebox.js")]}),(0,r.cancelEvent)(e)}function(){}function $(e,t){var n=e+"_"+t,r=(0,a.geByClass1)("_audio_row_"+n);AudioUtils.deleteAudio(r,AudioUtils.getAudioFromEl(r,!0)),cur.claimWarning&&cur.claimWarning.hide()}function Y(){window.TopAudioPlayer.init()}var G={loaded:!1,events:{on(e,t){stManager.add("voice_message_player.js",(()=>{window.AudioMessagePlayer.events.on(e,t)}))}},togglePlay:function(e,t){stManager.add("voice_message_player.js",())},detachPlayer:function(e){stManager.add("voice_message_player.js",())}};function Q(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};e&&e.tt&&e.tt.hide&&e.tt.hide({fasthide:1});var r=e,i=!1;if(X()&&ArticleLayer.isStandalone()&&(i=!0),r.tagName&&"a"===r.tagName.toLowerCase()&&!r.getAttribute("target")&&!nav.baseBlank){var a,s=r.getAttribute("hrefparams");s&&(n.params=(0,o.extend)(n.params||{},(0,c.fromQueryString)(s))),(r=(r=r.href||"").replace(/^https?:\/\//i,"")).indexOf(location.hostname)||(r=r.replace(location.hostname,"")),((r=r.replace(/^(vkontakte\.ru\/|vk\.com\/)/,"/")).match(/#$/)||!(a=r.match(/^\/(.*?)(\?|#|$)/))||(a=a[1]).indexOf(".php")>0||a.match(/^(doc\-?\d+_\d+|graffiti\d+|reg\d+|images|utils|\.js|js\/|\.css|css\/)/))&&(i=!0)}if(i){var l=!!(n&&n.params&&n.params._post&&n.params._post_click_type);if(!l)return!0;e.setAttribute("data-change-location-with-post-away",1),r=e}return nav.go(r,t,n)}function(){}function J(e,t,n,a,s){var l=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"";if(n||u){var c=`donut_payment${n}`,d=a,f=(0,i.showBox)("al_donut.php",b({act:"subscribe_popup",ownerId:n,ownerDomain:u,source:a,hash:s,type:l.type},l.params),{stat:["donut_subscribe_popup.css",window.jsc("web/donut_subscribe_popup.js")],params:{width:450,hideButtons:!0,containerClass:"DonutSubscribePopup",onDestroy:()=>{if(window.DonutSubscribePopup&&window.DonutSubscribePopup.onDestroy(),!l.fromSnippet){(0,r.removeEvent)(window,"popstate",p);var e=nav.objLoc,t=e.w,n=e.source;t===c&&d===n&&(delete nav.objLoc.w,delete nav.objLoc.source,nav.setLoc(nav.objLoc))}}},onDone:(e,t)=>{if(window.DonutSubscribePopup.init({ownerId:n||t.owner_id,source:a,type:l.type,onSuccessPayment:l.onSuccessPayment},e,t),!l.fromSnippet&&"subscribe"===l.type){(0,r.addEvent)(window,"popstate",p);var i=(0,o.extend)(nav.objLoc,{w:c,source:a});nav.setLoc(i)}},onFail:e=>{if(e&&"string"==typeof e)return"group_doesnt_exists"===e&&l.onFailCallback&&"function"==typeof l.onFailCallback?(l.onFailCallback(),f.hide(),!0):(f.hide(),(0,_.showErrorBox)(e),!0)}},t);(0,r.cancelEvent)(t)}function p(){f.hide()}}function(){}function ee(e){e&&(0,h.saveStatlogEvents)({name:"image_status",value:e,keys:["popup_action"]})}},90148:(e,t,n)=>{"use strict";n.d(t,{Fx:()=>a,animate:()=>s,cubicBezier:()=>l,fadeTo:()=>u,genFx:()=>d,slideDown:()=>f,slideUp:()=>p,slideToggle:()=>h,fadeIn:()=>_,fadeOut:()=>g,fadeToggle:()=>v,getRGB:()=>m,getColor:()=>y,animateCount:()=>b});n(59357),n(66108),n(96253),n(21466);var r=n(42699),o=n(14914),i=n(6566),a={Transitions:{linear:,sineInOut:(e,t,n,r)=>-n/2*(Math.cos(Math.PI*e/r)-1)+t,halfSine:(e,t,n,r)=>n*Math.sin(Math.PI*(e/r)/2)+t,easeOutBack:function(){},easeInCirc:(e,t,n,r)=>-n*(Math.sqrt(1-(e/=r)*e)-1)+t,easeOutCirc:(e,t,n,r)=>n*Math.sqrt(1-(e=e/r-1)*e)+t,easeInQuint:(e,t,n,r)=>n*(e/=r)*e*e*e*e+t,easeOutQuint:(e,t,n,r)=>n*((e=e/r-1)*e*e*e*e+1)+t,easeOutCubic:(e,t,n,r)=>n*((e=e/r-1)*e*e+1)+t,swiftOut:(e,t,n,r)=>n*l(.4,0,.22,1,e/r,4/r)+t},Attrs:[["height","marginTop","marginBottom","paddingTop","paddingBottom"],["width","marginLeft","marginRight","paddingLeft","paddingRight"],["opacity","left","top"]],Timers:[],TimerId:null};function s(e,t,n,a){if(e=(0,o.ge)(e)){var s,l=(0,r.isFunction)(a)?a:()=>{},u=(0,r.extend)({},"object"==typeof n?n:{duration:n,onComplete:l}),d={},f={},p=(0,o.isVisible)(e);u.orig={},(t=(0,r.clone)(t)).discrete&&(u.discrete=1,delete t.discrete),i.browser.iphone&&(u.duration=0);var h=(0,o.data)(e,"tween"),_=p?"hide":"show";for(var g in h&&h.isTweening&&(u.orig=(0,r.extend)(u.orig,h.options.orig),h.stop(!1),h.options.show?_="hide":h.options.hide&&(_="show")),t)if(t.hasOwnProperty(g)){if(!h&&("show"===t[g]&&p||"hide"===t[g]&&!p))return u.onComplete.call(this,e);if("height"!==g&&"width"!==g||!e.style||(t.overflow||(void 0===u.orig.overflow&&(u.orig.overflow=(0,o.getStyle)(e,"overflow")),e.style.overflow="hidden"),(0,o.hasClass)(e,"inl_bl")||"TD"===e.tagName||(e.style.display="block")),/show|hide|toggle/.test(t[g]))if("toggle"===t[g]&&(t[g]=_),"show"===t[g]){s=0,u.show=!0,void 0===u.orig[g]&&(u.orig[g]=(0,o.getStyle)(e,g,!1)||"",(0,o.setStyle)(e,g,0));var v=e.style[g];e.style[g]=u.orig[g],t[g]=parseFloat((0,o.getStyle)(e,g,!0)),e.style[g]=v,"height"===g&&i.browser.msie&&!t.overflow&&(e.style.overflow="hidden")}else void 0===u.orig[g]&&(u.orig[g]=(0,o.getStyle)(e,g,!1)||""),u.hide=!0,t[g]=0}return u.show&&!p&&(0,o.show)(e),h=new c(e,u),(0,r.each)(t,(function(t,n){if(/backgroundColor|borderBottomColor|borderLeftColor|borderRightColor|borderTopColor|color|borderColor|outlineColor/.test(t)){if(s=y(e,"borderColor"===t?"borderTopColor":t),n=m(n),void 0===s)return}else{var i=n.toString().match(/^([+-]=)?([\d+-.]+)(.*)$/);i&&(n=parseFloat(i[2]),i[1]&&(n=("-="==i[1]?-1:1)*n+n)),0!=(s=h.cur(t,!0))||"width"!==t&&"height"!==t||(s=1),"opacity"===t&&n>0&&!p&&((0,o.setStyle)(e,"opacity",0),s=0,(0,o.show)(e))}(s!=n||(0,r.isArray)(s)&&s.join(",")===n.join(","))&&(d[t]=s,f[t]=n)})),h.start(d,f),(0,o.data)(e,"tween",h),h}}function l(e,t,n,r,o,i){var a,s,l=function(t){var r=1-t;return 3*r*r*t*e+3*r*t*t*n+t*t*t},u=function(){},c=function(){},d=o;for(a=d,s=0;s<8;s++){var f=l(a)-d;if(Math.abs(f)<i)return u(a);var p=c(a);if(Math.abs(p)<1e-6)break;a-=f/p}var h=0,_=1;if((a=d)<h)return u(h);if(a>_)return u(_);for(;h<_;){var g=l(a);if(Math.abs(g-d)<i)return u(a);d>g?h=a:_=a,a=.5*(_-h)+h}return u(a)}function u(e,t,n,r){return s(e,{opacity:n},t,r)}class c{constructor(e,t,n){this.el=(0,o.ge)(e),this.name=n,this.options=(0,r.extend)({onStep:()=>{},onComplete:()=>{},transition:t.transition||a.Transitions.sineInOut,duration:500},t||{})}start(e,t){this.from=e,this.to=t,this.time=(0,r.vkNow)(),this.isTweening=!0;var n=e=>this.step(e);return n.el=this.el,n()&&a.Timers.push(n)&&!a.TimerId&&(a.TimerId=setInterval((function(){for(var e=a.Timers,t=e.length,n=0;n<t;n++)e[n]()||(e.splice(n--,1),t--);t||(clearInterval(a.TimerId),a.TimerId=null)}),13)),this}stop(e){for(var t=a.Timers,n=t.length-1;n>=0;n--)t[n].el===this.el&&(e&&t[n](!0),t.splice(n,1));this.isTweening=!1}step(e){var t=(0,r.vkNow)();if(!e&&t<this.time+this.options.duration){for(var n in this.cTime=t-this.time,this.now={},this.to)if((0,r.isArray)(this.to[n])){for(var i=[],a=0;a<3;a++){if(void 0===this.from[n]||void 0===this.to[n])return!1;i.push(Math.min(parseInt(this.compute(this.from[n][a],this.to[n][a])),255))}this.now[n]=i}else this.now[n]=this.compute(this.from[n],this.to[n]),this.options.discrete&&(this.now[n]=(0,r.intval)(this.now[n]));return this.update(),!0}return setTimeout(this.options.onComplete.bind(this,this.el),10),this.now=(0,r.extend)(this.to,this.options.orig),this.update(),this.options.hide&&(0,o.hide)(this.el),this.isTweening=!1,!1}computeupdate(){for(var e in this.options.onStep(this.now),this.now)(0,r.isArray)(this.now[e])?(0,o.setStyle)(this.el,e,"rgb("+this.now[e].join(",")+")"):void 0!==this.el[e]?this.el[e]=this.now[e]:(0,o.setStyle)(this.el,e,this.now[e])}cur(e,t){return null==this.el[e]||this.el.style&&null!=this.el.style[e]?parseFloat((0,o.getStyle)(this.el,e,t))||0:this.el[e]}}function d(e,t){var n={};return(0,r.each)(a.Attrs.concat.apply([],a.Attrs.slice(0,t)),(function(){n[this]=e})),n}a.Base=c;var f=(e,t,n)=>s(e,d("show",1),t,n),p=(e,t,n)=>s(e,d("hide",1),t,n),h=(e,t,n)=>s(e,d("toggle",1),t,n),_=(e,t,n)=>s(e,{opacity:"show"},t,n),g=(e,t,n)=>s(e,{opacity:"hide"},t,n),v=(e,t,n)=>s(e,{opacity:"toggle"},t,n);function m(e){var t;return e&&(0,r.isArray)(e)&&3==e.length?e:(t=/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/.exec(e))?[parseInt(t[1]),parseInt(t[2]),parseInt(t[3])]:(t=/rgb\(\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*\)/.exec(e))?[2.55*parseFloat(t[1]),2.55*parseFloat(t[2]),2.55*parseFloat(t[3])]:(t=/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/.exec(e))?[parseInt(t[1],16),parseInt(t[2],16),parseInt(t[3],16)]:(t=/#([a-fA-F0-9])([a-fA-F0-9])([a-fA-F0-9])/.exec(e))?[parseInt(t[1]+t[1],16),parseInt(t[2]+t[2],16),parseInt(t[3]+t[3],16)]:void 0}function y(e,t){var n;do{if(0===(n=(0,o.getStyle)(e,t)).indexOf("rgba")&&(n=""),""!=n&&"transparent"!==n||"body"===e.nodeName.toLowerCase())break;t="backgroundColor",e=e.parentNode}while(e);return m(n)}function b(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(e=(0,o.ge)(e),t=n.str?(0,r.trim)(t.toString())||"":(0,r.positive)(t),e)if(!i.browser.mobile||i.browser.safari_mobile||i.browser.android){var l=(0,o.data)(e,"curCount"),u=(0,o.data)(e,"nextCount");if("number"==typeof u||n.str&&"string"==typeof u)t!=u&&(0,o.data)(e,"nextCount",t);else if("number"==typeof l||n.str&&"string"==typeof l)t!==l&&(0,o.data)(e,"nextCount",t);else if(l=n.str?(0,r.trim)((0,o.val)(e).toString())||"":(0,r.positive)((0,o.val)(e)),"auto"===n.str&&(n.str=!l.match(/^\d+$/)||!t.match(/^\d+$/),n.str||(l=(0,r.positive)(l),t=(0,r.positive)(t))),l!==t){(0,o.data)(e,"curCount",t);var c,d,f=n.str?l.length===t.length?l<t:l.length<t.length:l<t,p=(f?t:l).toString(),h=(f?l:t).toString(),_=[],g=[];for(n.str||(h=new Array(p.length-h.length+1).join("0")+h),c=0,d=p.length;c<d;c++){var v=p.charAt(c);if(v!==h.charAt(c))break;_.push(v)}var m=p.substr(c),y=h.substr(c);if(n.str){for(c=m.length;c>0;c--){var w=m.charAt(c);if(w!==y.charAt(c))break;g.unshift(w)}g.length&&(m=m.substr(0,c+1),y=y.substr(0,c+1))}_=_.join("").replace(/\s$/,"&nbsp;"),g=g.join("").replace(/^\s/,"&nbsp;"),(0,r.trim)((0,o.val)(e))||n.noSpaceIfEmpty||(0,o.val)(e,"&nbsp;");var E=e.clientHeight||e.offsetHeight;(0,o.val)(e,'<div class="counter_wrap inl_bl"></div>');var D,C,k,S,x=e.firstChild,T=!0;_.length&&x.appendChild(D=(0,o.ce)("div",{className:"counter_const inl_bl",innerHTML:_})),_.length||n.allowZero||(y=y.replace(/^0+/,"")),y&&("0"!==y||n.allowZero||_.length)||(y=n.noSpaceIfEmpty?"":"&nbsp;",T=!!_.length),x.appendChild(k=(0,o.ce)("div",{className:"counter_anim_wrap inl_bl"})),k.appendChild(S=(0,o.ce)("div",{className:"counter_anim "+(f?"counter_anim_inc":"counter_anim_dec"),innerHTML:`<div class="counter_anim_big"><span class="counter_anim_big_c">${m}</span></div>`+(T?`<div class="counter_anim_small"><span class="counter_anim_small_c">${y}</span></div>`:"")},T?{marginTop:f?-E:0}:{right:0})),n.str&&(0,o.setStyle)(S,{textAlign:"right",right:0});var O=(0,o.getSize)((0,o.geByClass1)("counter_anim_big_c",S,"span"))[0],P=T?"&nbsp;"===y?O:(0,o.getSize)((0,o.geByClass1)("counter_anim_small_c",S,"span"))[0]:0;!y&&n.noSpaceIfEmpty&&(P=0),g.length&&x.appendChild(C=(0,o.ce)("div",{className:"counter_const inl_bl",innerHTML:g})),n.noWrapWidth||(0,o.setStyle)(x,{width:(D&&(0,o.getSize)(D)[0]||0)+(C&&(0,o.getSize)(C)[0]||0)+O+0}),void 0===i.browser.csstransitions&&(i.browser.csstransitions=i.browser.chrome&&i.browser.version>=9||i.browser.mozilla&&i.browser.version>=4||i.browser.opera&&i.browser.version>=10.5||i.browser.safari&&i.browser.version>=3.2||i.browser.safari_mobile||i.browser.android);var A=i.browser.csstransitions;(0,o.setStyle)(k,{width:f?P:O});var L=function(){(0,o.val)(e,t||(n.noSpaceIfEmpty?"":" "));var r=(0,o.data)(e,"nextCount");(0,o.data)(e,"curCount",!1),(0,o.data)(e,"nextCount",!1),("number"==typeof r||n.str&&"string"==typeof r)&&setTimeout(b.pbind(e,r,n),0),n.onDone&&n.onDone()},M=T?{marginTop:f?0:-E}:{marginRight:f?-P:0};A?((0,o.getStyle)(k,"width"),(0,o.addClass)(k,"counter_css_anim_wrap"),O!==P&&(0,o.setStyle)(k,{width:f?O:P}),T&&(0,o.setStyle)(S,M),setTimeout(L,300),n.fadeMode&&((0,o.setStyle)((0,o.geByClass1)("counter_anim_big",e),"opacity",1),(0,o.setStyle)((0,o.geByClass1)("counter_anim_small",e),"opacity",0))):(O!==P&&s(k,{width:f?O:P},{duration:100}),T?s(S,M,{duration:300,transition:a.Transitions.easeOutCirc,onComplete:L}):setTimeout(L,300))}}else(0,o.val)(e,t||"")}},97557:(e,t,n)=>{"use strict";n.d(t,{decodeHTMLEntities:()=>s});n(30522),n(66108),n(96253),n(91181),n(79665),n(95767),n(83946),n(59357),n(19018);var r=n(58862);function o(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==s.return||s.return()}finally{if(o)throw i}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return i(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var a=r.symbols;r.encodeHTMLEntities,r.escape;function s(e){return a.reduce(((e,t)=>{var n=o(t,2),r=n[0],i=n[1];return e.replace(new RegExp(r,"ig"),i)}),e).replace(/&#(\d+);/g,((e,t)=>String.fromCodePoint(t)))}},13075:(e,t,n)=>{"use strict";n.d(t,{isWeirdLogging:()=>a,imWeirdCatch:()=>l});n(40851),n(96253);var r=n(68660),o=n(27192),i=1;function a(){return!!window.imwl}function s(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];a()&&(n&&window.console&&(console.error(e,t),console.trace&&console.trace()),(0,o.retryFn)(r.post,3,(()=>2))("al_im.php",{act:"a_weird_log",kind:e,data:JSON.stringify(extend({errIdx:i++,ua:navigator.userAgent},t))}))}function l(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return s(e,extend({err:t&&t.message||t},n)),Promise.reject(t)}},13020:(e,t,n)=>{"use strict";n.d(t,{placeholderSetup:()=>c,placeholderInit:()=>d});n(21466);var r=n(14914),o=n(17685),i=n(90148),a=n(42699),s=n(6566),l=n(86353);function u(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0,l=e.phshown,u=e.phcont,c=n.back,d=n.editable,f=n.hideBackAfter,p=n.timeout,h=n.phColor,_=void 0===h?"#8C8E91":h,g=n.activeColor,v=void 0===g?"#C0C8D0":g,m=p||0===p?p:100,y=n.period||200;if(t=d?(void 0!==e.textContent?e.textContent:e.innerText)||(0,r.geByTag)("img",e).length:e.value,l&&(c&&t||!c&&(o&&!o.type||t))?((0,r.hide)(u),e.phshown=!1):l||t||!c&&!a||((0,r.show)(u),e.phshown=!0,s.browser.opera&&a&&(e.setAttribute("placeholder",""),e.removeAttribute("placeholder",""))),c&&!t){if(o&&!o.type){var b=f?r.hide.pbind(u.firstChild.firstChild):null;clearTimeout(e.phanim),e.phanim=setTimeout((function(){(0,i.animate)(u.firstChild.firstChild,{color:v},y,b)}),m)}a&&(clearTimeout(e.phanim),f&&(0,r.show)(u.firstChild.firstChild),e.phanim=setTimeout((function(){(0,i.animate)(u.firstChild.firstChild,{color:_},y)}),m))}}function c(e,t){var n=(0,r.ge)(e);if(!n)return!1;if(!(n.getAttribute?n.getAttribute("contenteditable"):n.contenteditable)&&(0,l.partConfigEnabled)("native_placeholder_enable"))return!1;var i=t?(0,a.clone)(t):{};if(!n.phevents||i.reload){var c=n.getAttribute?n.getAttribute("placeholder"):n.placeholder;if(c){n.removeAttribute("placeholder");var d={},f=!1,p=["Top","Bottom","Left","Right"];if(i.pad)d=i.pad;else{if(i.fast){for(var h=0;h<4;h++)d["padding"+p[h]]=3,d["margin"+p[h]]=0,d["border"+p[h]+"Width"]=1;(0,a.extend)(d,i.styles||{})}else{for(var _=[],g=0;g<4;g++)_.push("margin"+p[g]),_.push("padding"+p[g]),_.push("border"+p[g]+"Width");d=(0,r.getStyle)(n,_)}for(var v=0;v<4;v++){var m="margin"+p[v],y="border"+p[v]+"Width";d[m]=(0,a.intval)(d[m])+(0,a.intval)(d[y])+"px",delete d[y]}}if(i.reload){var b=n.previousSibling;b&&(0,r.hasClass)(b,"input_back_wrap")&&(0,r.re)(b)}var w=i.big?" big":"",E=(0,r.getSize)(n)[0]-20,D=n.phcont=n.parentNode.insertBefore((0,r.ce)("div",{className:"input_back_wrap no_select",innerHTML:`<div class="input_back"><div class="input_back_content${w}" style="width: ${E}px;">${c}</div></div>`}),n),C=(0,r.domFC)(D);(0,r.setStyle)(C,d);var k=u.pbind(n,i),S=s.browser.mobile?k:(e,t)=>setTimeout(k.pbind(e,t),0);s.browser.msie&&s.browser.version<8&&(0,r.setStyle)(C,{marginTop:1}),n.phonfocus=function(e){f||(n.focused=!0,cur.__focused=n,!0===e&&((0,r.setStyle)(n,{backgroundColor:"#FFF"}),(0,r.hide)(C)),S(!0,!1))},n.phonblur=function(){f||(cur.__focused=n.focused=!1,(0,r.show)(C),S(!1,!0))},n.phshown=!0,n.phanim=null,(n.value||i.editable&&((void 0!==n.textContent?n.textContent:n.innerText)||(0,r.geByTag)("img",n).length))&&(n.phshown=!1,(0,r.hide)(D)),s.browser.opera_mobile||((0,o.addEvent)(D,"focus click",(function(e){f||(i.editableFocus?(setTimeout(i.editableFocus.pbind(n),0),n.phonfocus()):(n.blur(),n.focus()))})),(0,o.addEvent)(n,"focus"+(i.editable?" click":""),n.phonfocus),(0,o.addEvent)(n,"keydown paste cut input",S)),(0,o.addEvent)(n,"blur",n.phonblur),n.check=S,n.getValue=()=>i.editable?n.innerHTML:n.value,n.setPlaceholder=e=>(0,r.geByClass1)("input_back_content",D).textContent=e,n.setDisabled=,n.setValue=function(e){i.editable?n.innerHTML=e:n.value=e,u(n,i)},n.phevents=!0,n.phonsize=function(){},i.global||i.reload||(cur.__phinputs||(cur.__phinputs=[],cur.destroy.push(function(e){for(var t=0,n=e.length;t<n;t++)(0,r.removeData)(e[t])}.pbind(cur.__phinputs))),cur.__phinputs.push(n))}}}function d(e,t){var n=(0,r.ge)(e);if(!n)return!1;if(!(n.getAttribute?n.getAttribute("contenteditable"):n.contenteditable)&&(0,l.partConfigEnabled)("native_placeholder_enable"))return!1;var i=t?(0,a.clone)(t):{},u=void 0===(0,r.ce)("input").placeholder||n&&n.getAttribute&&n.getAttribute("contenteditable");if(!n.phevents||i.reload){var c=n.getAttribute?n.getAttribute("placeholder"):n.placeholder;if(c&&(n.getValue=function(){return i.editable?n.innerHTML:n.value},n.setValue=function(e){i.editable?n.innerHTML=e:n.value=e,u&&_(n,i)},n.phonfocus=function(){},n.phonblur=function(){},u)){if(n.removeAttribute("placeholder"),i.reload){var d=(0,r.domNS)(n);d&&(0,r.hasClass)(d,"placeholder")&&(0,r.re)(d)}var f=n.phcont=(0,r.domInsertAfter)((0,r.ce)("div",{className:"placeholder",innerHTML:'<div class="ph_input"><div class="ph_content">'+c+"</div></div>"}),n),p=_.pbind(n,i),h=s.browser.mobile?p:(e,t)=>setTimeout(p.pbind(e,t),0);n.phonfocus=function(){n.focused=!0,cur.__focused=n,h(!0,!1)},n.phonblur=function(){cur.__focused=n.focused=!1,h(!1,!0)},n.phshown=!0,(n.value||i.editable&&((void 0!==n.textContent?n.textContent:n.innerText)||(0,r.geByTag)("img",n).length))&&(n.phshown=!1,(0,r.hide)(f)),s.browser.opera_mobile||((0,o.addEvent)(f,"focus click contextmenu",(function(e){i.editableFocus?(setTimeout(i.editableFocus.pbind(n),0),"contextmenu"===e.type&&s.browser.msie&&i.editableFocus(n),n.phonfocus()):(n.blur(),n.focus())})),(0,o.addEvent)(n,"focus"+(i.editable?" click":""),n.phonfocus),(0,o.addEvent)(n,"keydown paste cut input",h)),(0,o.addEvent)(n,"blur",n.phonblur),n.check=h,n.phevents=!0,n.phonsize=function(){},i.global||i.reload||(cur.__phinputs||(cur.__phinputs=[],cur.destroy.push((function(){if(cur.__phinputs)for(var e=0,t=cur.__phinputs.length;e<t;++e)(0,r.removeData)(cur.__phinputs[e])}))),cur.__phinputs.push(n))}}function _(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=e.phshown,i=e.phcont,a=n.editable;a?((t=void 0!==e.textContent?e.textContent:e.innerText)&&s.browser.opera&&t.match(/^[ ]+$/)&&(t=""),t||(t=(0,r.geByTag)("img",e).length>0),t||(t=(0,r.geByTag)("br",e).length>1),t||(t=(0,r.geByTag)("p",e).length>1)):t=e.value,o&&t?((0,r.hide)(i),e.phshown=!1):o||t||((0,r.show)(i),e.phshown=!0)}}},16886:(e,t,n)=>{"use strict";n.d(t,{parseLatin:()=>s,parseCyr:()=>l,parseLatKeys:()=>u,langNumeric:()=>c,langSex:()=>d,langStr:()=>f,addLangKeys:()=>p,getLang:()=>h,langDate:()=>_,getShortDate:()=>g,getShortDateWithTime:()=>v,getShortDateOrTime:()=>m,langWordNumeric:()=>y,getDateText:()=>b,getBigDateNew:()=>w,getSmDate:()=>E});n(30522),n(59357),n(66108),n(96253),n(51876);var r=n(17999),o=n(29327),i=n(42699),a=n(19921);function s(e){for(var t=["yo","zh","kh","ts","ch","sch","shch","sh","eh","yu","ya","YO","ZH","KH","TS","CH","SCH","SHCH","SH","EH","YU","YA","'"],n=["ё","ж","х","ц","ч","щ","щ","ш","э","ю","я","Ё","Ж","Х","Ц","Ч","Щ","Щ","Ш","Э","Ю","Я","ь"],r=e,o=0,i=t.length;o<i;o++)r=r.split(t[o]).join(n[o]);for(var a="abvgdezijklmnoprstufhcyABVGDEZIJKLMNOPRSTUFHCYёЁ",s=0,l=a.length;s<l;s++)r=r.split(a.charAt(s)).join("абвгдезийклмнопрстуфхцыАБВГДЕЗИЙКЛМНОПРСТУФХЦЫеЕ".charAt(s));return r===e?null:r}function l(e){for(var t=["yo","zh","kh","ts","ch","sch","shch","sh","eh","yu","ya","YO","ZH","KH","TS","CH","SCH","SHCH","SH","EH","YU","YA","'"],n=["ё","ж","х","ц","ч","щ","щ","ш","э","ю","я","Ё","Ж","Х","Ц","Ч","Щ","Щ","Ш","Э","Ю","Я","ь"],r="абвгдезийклмнопрстуфхцыАБВГДЕЗИЙКЛМНОПРСТУФХЦЫеЕ",o=e,i=0;i<n.length;i++)o=o.split(n[i]).join(t[i]);for(var a=0;a<r.length;a++)o=o.split(r.charAt(a)).join("abvgdezijklmnoprstufhcyABVGDEZIJKLMNOPRSTUFHCYёЁ".charAt(a));return o===e?null:o}function u(e){for(var t="qwertyuiop[]asdfghjkl;'zxcvbnm,./`",n=e,r=0;r<t.length;r++)n=n.split(t.charAt(r)).join("йцукенгшщзхъфывапролджэячсмитьбю.ё".charAt(r));return n==e?null:n}function c(e,t,n){if(!t||!window.langConfig){if(!(0,r.isNumeric)(e)){var o=new Error("Non-numeric value passed to langNumeric");throw console.log(e,o),o}return String(e)}var a;if((0,i.isArray)(t)?(a=t[1],e!=Math.floor(e)?a=t[langConfig.numRules.float]:(0,i.each)(langConfig.numRules.int,(function(n,r){if("*"==r[0])return a=t[r[2]],!1;var o=r[0]?e%r[0]:e;return-1!=(0,i.indexOf)(r[1],o)?(a=t[r[2]],!1):void 0}))):a=t,n){for(var s=e.toString().split("."),l=[],u=s[0].length-3;u>-3;u-=3)l.unshift(s[0].slice(u>0?u:0,u+3));s[0]=l.join(langConfig.numDel),e=s.join(langConfig.numDec)}return a=(a||"%s").replace("%s",e)}function d(e,t){if(!(0,i.isArray)(t))return t;var n=t[1];return window.langConfig?((0,i.each)(langConfig.sexRules,(function(r,o){return"*"==o[0]||e==o[0]&&t[o[1]]?(n=t[o[1]],!1):void 0})),n):n}function f(e){for(var t=arguments,n=t.length,r=e+"",o=1;o<n;o+=2){var i="%"===t[o][0]?t[o]:"{"+t[o]+"}";r=r.replace(i,t[o+1])}return r}function p(e,t){var n=t?window:window.cur;n.lang?(0,i.extend)(n.lang,e):n.lang=e}function h(){try{var e=Array.from(arguments),t=e.shift();if(!t)return"...";var n=window.cur&&window.cur.lang&&window.cur.lang[t]||window.lang&&window.lang[t]||window.langpack&&window.langpack[t]||window[t];if(!n){var r=t.split("_");return r.shift(),r.join(" ")}return(0,i.isFunction)(n)?n.apply(null,e):void 0===e[0]&&!(0,i.isArray)(n)||"raw"===e[0]?n:c(e[0],n,e[1])}catch(e){(0,a.debugLog)("lang error:"+e.message+"("+Array.from(arguments).join(", ")+")")}}function _(e,t,n,r,a,s){var l;if(s||(s=""),(0,i.isArray)(t)||(t=["",t,t,t,t]),"number"==typeof e||"string"==typeof e?(e>2147483646e3&&(e=0),e+=n,l=new Date(e)):l=e,a)t=t[1];else{var u="";!(u=(0,o.isToday)(l)?t[3]:(0,o.isYesterday)(l)?t[2]:(0,o.isTomorrow)(l)?t[4]:t[1])&&t[1]&&(u=t[1]),t=u}var c={hours:l.getHours(),minutes:l.getMinutes(),seconds:l.getSeconds(),day:l.getDate(),month:l.getMonth()+1,year:l.getFullYear()},d="";switch(3===vk.lang&&(d=l.getHours()>11?"pm":"am",c.hours=l.getHours()%12==0?12:l.getHours()%12),vk.lang){case 1:switch(l.getHours()){case 11:t=t.replace(" о "," об ");break;case 0:t=t.replace(" о "," в ")}break;case 3:!(0,o.isToday)(l)||(0,o.isYesterday)(l)||(0,o.isTomorrow)(l)||(t=s+t);break;case 12:case 73:1==l.getHours()&&(t=t.replace(" &#224;s "," &#224; "))}return 68===vk.lang&&(c.year=c.year+543),t.replace("{hour}",c.hours).replace("{num_hour}",(0,o.leadingZero)(c.hours)).replace("{minute}",(0,o.leadingZero)(c.minutes)).replace("{day}",c.day).replace("{num_day}",(0,o.leadingZero)(c.day)).replace("{month}",r[c.month]).replace("{year}",c.year).replace("{short_year}",c.year%100).replace("{second}",(0,o.leadingZero)(c.seconds)).replace("{am_pm}",d)}function g(e,t,n,r,o){e*=1e3,void 0===n&&(n=!0),void 0===r&&(r=h("months_of","raw")),t*=1e3;var i=Date.now(),a=new Date(i),s=new Date(e+t);return!o&&e>i&&e-i<864e5&&a.getDate()===s.getDate()?_(e,"{hour}:{minute} {am_pm}",t,[],!n):s.getYear()!==a.getYear()||e<i-157248e5?_(e,h("global_date","raw"),t,r,!n):_(e,h("global_short_date","raw"),t,r,!n)}function v(e,t,n,r){return(0,o.isToday)(new Date(1e3*e+1e3*t))?_(1e3*e,"{hour}:{minute} {am_pm}",1e3*t,[],!n):`${g(e,t,n,r)} ${_(1e3*e,"{hour}:{minute} {am_pm}",1e3*t,[],!n)}`}function m(e,t,n,r){return(0,o.isToday)(new Date(1e3*e+1e3*t))?_(1e3*e,"{hour}:{minute} {am_pm}",1e3*t,[],!n):g(e,t,n,r)}function y(e,t,n){return(0,i.isArray)(t)&&e<t.length?t[e]:c(e,n)}function b(e,t){e+=t;var n=parseInt(Date.now()/1e3)-e,r="";if(n<60)r=h("global_just_now");else if(n<3600){r=y((0,i.intval)(n/60),h("global_word_mins_ago","raw"),h("global_mins_ago","raw"))}else if(n<14400){r=y((0,i.intval)(n/3600),h("global_word_hours_ago","raw"),h("global_hours_ago","raw"))}else r=w(e,0,!0,"_l");return r}function w(e,t,n,r){void 0===n&&(n=!0),void 0===t&&(t=0),void 0===r&&(r=""),t*=1e3;var o=new Date(1e3*e),i=new Date;return o.getFullYear()!==i.getFullYear()&&o.getTime()<i.getTime()-1728e5||Math.abs(o.getTime()-i.getTime())>157248e5?_(1e3*e,h("global_date"+r,"raw"),t,h("months_sm_of"),!n):_(1e3*e,h("global_short_date_time"+r,"raw"),t,h("months_sm_of"),!n)}function E(e,t,n){void 0===n&&(n=!0),void 0===t&&(t=0);var r=new Date,o=r.getFullYear(),i=r.getMonth(),a=new Date(1e3*e),s=a.getFullYear(),l=a.getMonth();return _(1e3*e,h(s<o&&(i>1||l<9||o-s>=2)?"global_date":"global_short_date_time","raw"),t,h("months_sm_of","raw"),!n)}},91563:(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{MessageBox:()=>MessageBox,showBox:()=>showBox,showTabbedBox:()=>showTabbedBox,showFastBox:()=>showFastBox,showCaptchaBox:()=>showCaptchaBox,showReCaptchaBox:()=>showReCaptchaBox});var core_js_modules_es6_regexp_to_string__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(66108),core_js_modules_es6_object_to_string__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(96253),core_js_modules_es6_regexp_split__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(51876),_ui__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(5456),_debug_tools__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(19921),_dom_events__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(17685),_ui_util__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(60139),_dom__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(14914),_fx__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(90148),_utils_common__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(42699),_lang__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(16886),_shared_lib_convert__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(82408),_box_utils__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(21260),_accessibility__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(53439),_web_helpers_classnames__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(21265),_icons_desktop_getIcon24Cancel__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(78787),_icons_desktop_getIcon24BrowserBack__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__(17770);function MessageBox(_options){var defaults={title:!1,titleControls:"",containerClass:"",width:450,height:"auto",animSpeed:0,bodyStyle:"",grey:!1,white:!1,selfDestruct:!0,progress:!1,hideOnBGClick:!1,hideButtons:!1,onShow:!1,onHideAttempt:!1,onBeforeHide:!1,onHide:!1,onClean:!1,onDestroy:!1,preventHideLastWithCheck:!1,refreshCoordsOnTimeout:!1},options=(0,_utils_common__WEBPACK_IMPORTED_MODULE_9__.extend)(defaults,_options),guid=window._message_box_guid++,visible=!1,btns={ok:[],cancel:[]},boxTitleBck,retBox;options.progress||(options.progress="box_progress"+guid);var controlsStyle=options.hideButtons?' style="display: none"':"",boxContainer=(0,_dom__WEBPACK_IMPORTED_MODULE_7__.ce)("div",{className:(0,_web_helpers_classnames__WEBPACK_IMPORTED_MODULE_14__.classNames)("popup_box_container",options.containerClass),innerHTML:`\n<div class="box_layout" onclick="boxQueue.skip=true;">\n  <div class="box_title_wrap">\n    <div class="box_x_button" aria-label="${(0,_lang__WEBPACK_IMPORTED_MODULE_10__.getLang)("global_close")}" tabindex="0" role="button">${(0,_icons_desktop_getIcon24Cancel__WEBPACK_IMPORTED_MODULE_15__.getIcon24Cancel)().icon}</div>\n    <div class="box_title_controls"></div>\n    <div class="box_title"></div>\n  </div>\n\n  <div class="box_body" style="${options.bodyStyle}"></div>\n  ${options.noControls?"":`\n  <div class="box_controls_wrap" ${controlsStyle}>\n    <div class="box_controls">\n      <table cellspacing="0" cellpadding="0" class="fl_r">\n        <tr></tr>\n      </table>\n      <div class="progress" id="${options.progress}"></div>\n\n      <div class="box_controls_text _box_controls_text">${options.textControls||""}</div>\n    </div>\n  <div>`}\n</div>`},{display:"none"});(0,_dom__WEBPACK_IMPORTED_MODULE_7__.hide)(boxContainer);var boxLayout=(0,_dom__WEBPACK_IMPORTED_MODULE_7__.domFC)(boxContainer),boxTitleWrap=(0,_dom__WEBPACK_IMPORTED_MODULE_7__.domFC)(boxLayout),boxCloseButton=(0,_dom__WEBPACK_IMPORTED_MODULE_7__.domFC)(boxTitleWrap),boxTitle=(0,_dom__WEBPACK_IMPORTED_MODULE_7__.domLC)(boxTitleWrap),boxTitleControls=(0,_dom__WEBPACK_IMPORTED_MODULE_7__.domNS)(boxCloseButton);options.noCloseButton&&(0,_dom__WEBPACK_IMPORTED_MODULE_7__.hide)(boxCloseButton);var boxBody=(0,_dom__WEBPACK_IMPORTED_MODULE_7__.domNS)(boxTitleWrap),boxControlsWrap=(0,_dom__WEBPACK_IMPORTED_MODULE_7__.domNS)(boxBody),boxControls=(0,_dom__WEBPACK_IMPORTED_MODULE_7__.domFC)(boxControlsWrap),boxButtons=(0,_dom__WEBPACK_IMPORTED_MODULE_7__.domFC)(boxControls),boxProgress=(0,_dom__WEBPACK_IMPORTED_MODULE_7__.domNS)(boxButtons),boxControlsText=(0,_dom__WEBPACK_IMPORTED_MODULE_7__.domNS)(boxProgress);boxLayer.appendChild(boxContainer),boxContainer.setAttribute("tabindex",0),boxContainer.focus(),refreshBox(),(0,_box_utils__WEBPACK_IMPORTED_MODULE_12__.boxRefreshCoords)(boxContainer);var emitter=new EventEmitter;function refreshBox(){boxTitleBck||(options.title?(boxTitle.innerHTML=options.title,(0,_dom__WEBPACK_IMPORTED_MODULE_7__.removeClass)(boxBody,"box_no_title"),(0,_dom__WEBPACK_IMPORTED_MODULE_7__.show)(boxTitleWrap)):((0,_dom__WEBPACK_IMPORTED_MODULE_7__.addClass)(boxBody,"box_no_title"),(0,_dom__WEBPACK_IMPORTED_MODULE_7__.hide)(boxTitleWrap))),options.titleControls&&(boxTitleControls.innerHTML=options.titleControls),(0,_dom__WEBPACK_IMPORTED_MODULE_7__.toggleClass)(boxBody,"box_no_buttons",options.hideButtons),(0,_dom__WEBPACK_IMPORTED_MODULE_7__.toggleClass)(boxTitleWrap,"box_grey",options.grey),(0,_dom__WEBPACK_IMPORTED_MODULE_7__.toggleClass)(boxTitleWrap,"box_white",options.white),boxContainer.style.width="string"==typeof options.width?options.width:options.width+"px",boxContainer.style.height="string"==typeof options.height?options.height:options.height+"px"}function addButtonInternal(e,t,n,r){var o="flat_button";"no"===n||"gray"===n?(o+=" secondary",n="cancel"):n="ok";var i=(0,_dom__WEBPACK_IMPORTED_MODULE_7__.ce)("button",{className:o,innerHTML:e,id:r});return boxButtons.rows[0].insertCell(0).appendChild(i),(0,_ui__WEBPACK_IMPORTED_MODULE_3__.createButton)(i,(function(){})),btns[n].push(i),i}function setControlsText(e){boxControlsText.innerHTML=e}function _removeButtons(){for(var e=boxButtons.rows[0];e.cells.length;)(0,_dom__WEBPACK_IMPORTED_MODULE_7__.cleanElems)(e.cells[0]),e.deleteCell(0);btns.ok.length=btns.cancel.length=0}var destroyMe=function(){(0,_utils_common__WEBPACK_IMPORTED_MODULE_9__.isFunction)(options.onClean)&&options.onClean(),(0,_utils_common__WEBPACK_IMPORTED_MODULE_9__.isFunction)(options.onDestroy)&&options.onDestroy(),options.noControls||_removeButtons(),(0,_dom__WEBPACK_IMPORTED_MODULE_7__.cleanElems)(boxContainer,boxCloseButton,boxTitleWrap,options.noControls?void 0:boxControlsWrap),boxLayer.removeChild(boxContainer),delete window._message_boxes[guid]},hideMe=function(e,t,n){if(visible){visible=!1;var r=!0===e?0:options.animSpeed;options.hideOnBGClick&&(0,_dom_events__WEBPACK_IMPORTED_MODULE_5__.removeEvent)(document,"click",boxQueue.hideBGClick),(0,_utils_common__WEBPACK_IMPORTED_MODULE_9__.isFunction)(options.onBeforeHide)&&options.onBeforeHide();var o=function(){boxQueue.currHiding===_message_boxes[guid]&&(boxQueue.currHiding=!1),_message_boxes[guid].shOther||e||layers.boxhide(),!t&&options.selfDestruct?destroyMe():(0,_dom__WEBPACK_IMPORTED_MODULE_7__.hide)(boxContainer),(0,_utils_common__WEBPACK_IMPORTED_MODULE_9__.isFunction)(options.onHide)&&options.onHide(n),retBox.emit("afterHide",retBox)};r>0?(boxQueue.currHiding=_message_boxes[guid],(0,_fx__WEBPACK_IMPORTED_MODULE_8__.fadeOut)(boxContainer,r,o)):o()}};function showMe(e,t,n){if(!visible&&window._message_boxes[guid]&&!window._message_boxes[guid].forceHide){visible=!0;var r=!0===e||t?0:options.animSpeed;if(options.hideOnBGClick&&(0,_dom_events__WEBPACK_IMPORTED_MODULE_5__.addEvent)(document,"click",boxQueue.hideBGClick),t||layers.boxshow(),boxQueue.currHiding){boxQueue.currHiding.shOther=!0;var o=boxQueue.currHiding.bodyNode.parentNode.parentNode;(0,_dom__WEBPACK_IMPORTED_MODULE_7__.data)(o,"tween").stop(!0)}r>0?(0,_fx__WEBPACK_IMPORTED_MODULE_8__.fadeIn)(boxContainer,r):(0,_dom__WEBPACK_IMPORTED_MODULE_7__.show)(boxContainer),(0,_box_utils__WEBPACK_IMPORTED_MODULE_12__.boxRefreshCoords)(boxContainer),options.onShow&&options.onShow(n)}}return(0,_dom_events__WEBPACK_IMPORTED_MODULE_5__.addEvent)(boxCloseButton,"click",boxQueue.hideLast),retBox=window._message_boxes[guid]={guid:guid,_show:showMe,_hide:hideMe,bodyNode:boxBody,controlsTextNode:boxControlsText,titleWrap:boxTitleWrap,btns:btns,show:function(){},progress:boxProgress,showCloseProgress:_dom__WEBPACK_IMPORTED_MODULE_7__.addClass.pbind(boxTitleWrap,"box_loading"),hideCloseProgress:_dom__WEBPACK_IMPORTED_MODULE_7__.removeClass.pbind(boxTitleWrap,"box_loading"),showProgress:function(){(0,_dom__WEBPACK_IMPORTED_MODULE_7__.hide)(boxControlsText),(0,_dom__WEBPACK_IMPORTED_MODULE_7__.show)(boxProgress)},hideProgress:function(){(0,_dom__WEBPACK_IMPORTED_MODULE_7__.hide)(boxProgress),(0,_dom__WEBPACK_IMPORTED_MODULE_7__.show)(boxControlsText)},hide:function(e){return!((0,_utils_common__WEBPACK_IMPORTED_MODULE_9__.isFunction)(options.onHideAttempt)&&!options.onHideAttempt(e))&&(boxQueue._hide(guid),!0)},isVisible:function(){return visible},bodyHeight:function(){},content:function(e){return options.onClean&&options.onClean(),"string"==typeof e?boxBody.innerHTML=e:e instanceof HTMLElement&&(boxBody.innerHTML="",boxBody.appendChild(e)),options.refreshCoordsOnTimeout?setTimeout(()):(0,_box_utils__WEBPACK_IMPORTED_MODULE_12__.boxRefreshCoords)(boxContainer),boxContainer.focus(),refreshBox(),(0,_accessibility__WEBPACK_IMPORTED_MODULE_13__.updateAriaElements)(),this},emit:function(e,t){emitter.emit(e,t)},addButton:function(e,t,n,r,o){var i=addButtonInternal(e,t||this.hide,n,o);return r?i:this},setButtons:function(e,t,n,r){var o=this.removeButtons();return e?(o.addButton(e,t),n&&o.addButton(n,r,"no"),o):o.addButton((0,_lang__WEBPACK_IMPORTED_MODULE_10__.getLang)("box_close"))},setControlsText:setControlsText,removeButtons:function(){},setBackTitle:function(e){e?(boxTitle.innerHTML='<div class="back"><span class="back__icon">'+(0,_icons_desktop_getIcon24BrowserBack__WEBPACK_IMPORTED_MODULE_16__.getIcon24BrowserBack)().icon+"</span>"+(0,_lang__WEBPACK_IMPORTED_MODULE_10__.getLang)("global_box_title_back")+"</div>",boxTitleBck=options.title,options.title=boxTitle.innerHTML,setTimeout((function(){(0,_dom__WEBPACK_IMPORTED_MODULE_7__.geByClass1)("back",boxTitle).onclick=e}),100)):boxTitleBck&&(boxTitle.innerHTML=options.title=boxTitleBck,boxTitleBck=!1)},destroy:destroyMe,getOptions:function(){return options},on:function(e,t){emitter.on(e,t)},once:function(e,t){emitter.once(e,t)},updateBoxCoords:function(){},setOptions:function(e){if(options.hideOnBGClick&&(0,_dom_events__WEBPACK_IMPORTED_MODULE_5__.removeEvent)(document,"click",boxQueue.hideBGClick),options=(0,_utils_common__WEBPACK_IMPORTED_MODULE_9__.extend)(options,e),"bodyStyle"in e)for(var t=options.bodyStyle.split(";"),n=0,r=t.length;n<r;n++){var o=t[n].split(":");o.length>1&&o[0].length&&(boxBody.style[(0,_utils_common__WEBPACK_IMPORTED_MODULE_9__.trim)(o[0])]=(0,_utils_common__WEBPACK_IMPORTED_MODULE_9__.trim)(o[1]),boxBody.style.setProperty&&boxBody.style.setProperty((0,_utils_common__WEBPACK_IMPORTED_MODULE_9__.trim)(o[0]),(0,_utils_common__WEBPACK_IMPORTED_MODULE_9__.trim)(o[1]),""))}return options.hideOnBGClick&&(0,_dom_events__WEBPACK_IMPORTED_MODULE_5__.addEvent)(document,"click",boxQueue.hideBGClick),(0,_dom__WEBPACK_IMPORTED_MODULE_7__.toggle)(boxControlsWrap,!options.hideButtons),refreshBox(),options.noRefreshCoords||(0,_box_utils__WEBPACK_IMPORTED_MODULE_12__.boxRefreshCoords)(boxContainer),this},evalBox:function evalBox(js,url,params){var scr="((function() { return function() { var box = this; "+(js||"")+";}; })())";if(__debugMode){var fn=eval(scr);fn.apply(this,[url,params])}else try{var _fn=eval(scr);_fn.apply(this,[url,params])}catch(e){(0,_ui_util__WEBPACK_IMPORTED_MODULE_6__.topError)(e,{dt:15,type:7,url:url,query:params?(0,_shared_lib_convert__WEBPACK_IMPORTED_MODULE_11__.toQueryString)(params):void 0,js:js}),(0,_debug_tools__WEBPACK_IMPORTED_MODULE_4__.logEvalError)(e,scr)}},preventHideLastWithCheck:options.preventHideLastWithCheck,execInline:function(e){window.vk.inline[e](this),delete window.vk.inline[e]}},retBox}function showBox(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3?arguments[3]:void 0;if((0,_dom_events__WEBPACK_IMPORTED_MODULE_5__.checkEvent)(r))return!1;var o=n.params||{};n.containerClass&&(o.containerClass=n.containerClass);var i=Date.now().toString(36);t&&(t.boxhash=i);var a=new MessageBox(o);a.boxhash=i;var s={onDone:function(r,s,l,u){if(n.preOnDone&&n.onDone&&n.onDone(a),t&&"function"==typeof t.onMessageSend&&window.WriteBox&&window.WriteBox.once("message_sended",t.onMessageSend),a.isVisible())if(__debugMode)c();else try{c()}catch(n){(0,_ui_util__WEBPACK_IMPORTED_MODULE_6__.topError)(n,{dt:15,type:103,url:e,query:(0,_shared_lib_convert__WEBPACK_IMPORTED_MODULE_11__.toQueryString)(t),answer:Array.prototype.slice.call(arguments).join("<!>")}),a.isVisible()&&a.hide()}else n.onDone&&n.onDone(a,u);function c(){(0,_dom__WEBPACK_IMPORTED_MODULE_7__.show)(boxLayerBG),(0,_dom__WEBPACK_IMPORTED_MODULE_7__.addClass)(bodyNode,"layers_shown"),a.setOptions({title:r,hideButtons:o.hideButtons||!1}),n.showProgress?a.show():(0,_dom__WEBPACK_IMPORTED_MODULE_7__.show)(a.bodyNode),a.content(s),n.noEval?a.execInline(i):a.evalBox(l,e,t),n.onDone&&n.onDone(a,u)}},onFail:function(e){if(a.failed=!0,setTimeout(a.hide,0),(0,_utils_common__WEBPACK_IMPORTED_MODULE_9__.isFunction)(n.onFail))return n.onFail(e)},cache:n.cache,stat:n.stat,fromBox:!0};return n.prgEl&&(n.showProgress=_ui_util__WEBPACK_IMPORTED_MODULE_6__.showGlobalPrg.pbind(n.prgEl,{cls:n.prgClass,w:n.prgW,h:n.prgH,hide:!0}),n.hideProgress=_dom__WEBPACK_IMPORTED_MODULE_7__.hide.pbind("global_prg")),n.showProgress?(0,_utils_common__WEBPACK_IMPORTED_MODULE_9__.extend)(s,{showProgress:n.showProgress,hideProgress:n.hideProgress}):(a.setOptions({title:!1,hideButtons:!0}).show(),boxQueue.count()<2&&((0,_dom__WEBPACK_IMPORTED_MODULE_7__.hide)(boxLayerBG),(0,_dom__WEBPACK_IMPORTED_MODULE_7__.removeClass)(bodyNode,"layers_shown")),(0,_dom__WEBPACK_IMPORTED_MODULE_7__.hide)(a.bodyNode),s.showProgress=function(){},s.hideProgress=_dom__WEBPACK_IMPORTED_MODULE_7__.hide.pbind(boxLoader)),a.removeButtons().addButton((0,_lang__WEBPACK_IMPORTED_MODULE_10__.getLang)("global_close")),ajax.post(e,t,s),a}function showTabbedBox(e,t,n,r){return(n=n||{}).stat=n.stat||[],n.stat.push(jsc("web/box.js"),"boxes.css"),showBox(e,t,n,r)}function showFastBox(e,t,n,r,o,i){return new MessageBox("string"==typeof e?{title:e}:e).content(t).setButtons(n,r,o,i).show()}function showCaptchaBox(e,t,n,r){var o=function(t){if(!t||void 0===t.keyCode||10===t.keyCode||13===t.keyCode){var o=(0,_dom__WEBPACK_IMPORTED_MODULE_7__.geByTag1)("input",n.bodyNode);if((0,_utils_common__WEBPACK_IMPORTED_MODULE_9__.trim)(o.value)||!0===t){var i=(0,_dom__WEBPACK_IMPORTED_MODULE_7__.geByTag1)("img",n.bodyNode)[0];(0,_dom_events__WEBPACK_IMPORTED_MODULE_5__.removeEvent)(o),(0,_dom_events__WEBPACK_IMPORTED_MODULE_5__.removeEvent)(i),(0,_dom__WEBPACK_IMPORTED_MODULE_7__.show)((0,_dom__WEBPACK_IMPORTED_MODULE_7__.geByClass1)("progress",n.bodyNode)),(0,_dom__WEBPACK_IMPORTED_MODULE_7__.hide)(o),r.onSubmit(e,o.value)}else(0,_dom__WEBPACK_IMPORTED_MODULE_7__.elfocus)(o)}},i=!!n,a=(0,_utils_common__WEBPACK_IMPORTED_MODULE_9__.intval)(t)?"":"&s=1",s=r.imgSrc||"/captcha.php?sid="+e+a;if(!i){var l=`\n<div class="captcha">\n  <div><img src="${s}"/></div>\n  <div>\n    <input type="text" class="big_text" maxlength="7" placeholder="${(0,_lang__WEBPACK_IMPORTED_MODULE_10__.getLang)("global_captcha_input_here")}" />\n    <div class="progress" /></div>\n  </div>\n</div>`+(r.addText||"");n=showFastBox({title:(0,_lang__WEBPACK_IMPORTED_MODULE_10__.getLang)("captcha_enter_code"),width:305,onHide:r.onHide,onDestroy:r.onDestroy||!1},l,(0,_lang__WEBPACK_IMPORTED_MODULE_10__.getLang)("captcha_send"),(function(){n.submit()}),(0,_lang__WEBPACK_IMPORTED_MODULE_10__.getLang)("captcha_cancel"),(function(){var e=(0,_dom__WEBPACK_IMPORTED_MODULE_7__.geByTag1)("input",n.bodyNode),t=(0,_dom__WEBPACK_IMPORTED_MODULE_7__.geByTag1)("img",n.bodyNode);(0,_dom_events__WEBPACK_IMPORTED_MODULE_5__.removeEvent)(e),(0,_dom_events__WEBPACK_IMPORTED_MODULE_5__.removeEvent)(t),n.hide()}))}n.submit=o.pbind(!0),n.changed=!0;var u=(0,_dom__WEBPACK_IMPORTED_MODULE_7__.geByTag1)("input",n.bodyNode),c=(0,_dom__WEBPACK_IMPORTED_MODULE_7__.geByTag1)("img",n.bodyNode);return i&&(u.value="",c.src="/captcha.php?sid="+e+a,(0,_dom__WEBPACK_IMPORTED_MODULE_7__.hide)((0,_dom__WEBPACK_IMPORTED_MODULE_7__.geByClass1)("progress",n.bodyNode))),(0,_dom__WEBPACK_IMPORTED_MODULE_7__.show)(u),(0,_dom_events__WEBPACK_IMPORTED_MODULE_5__.addEvent)(u,"keypress",o),(0,_dom_events__WEBPACK_IMPORTED_MODULE_5__.addEvent)(c,"click",(function(){this.src="/captcha.php?sid="+e+a+"&v="+(0,_utils_common__WEBPACK_IMPORTED_MODULE_9__.irand)(1e6,2e6)})),(0,_dom__WEBPACK_IMPORTED_MODULE_7__.elfocus)(u),n}function showReCaptchaBox(e,t,n,r){window.recaptchaResponse=function(e){r.onSubmit(e)};var o=!!n,i=!!window.grecaptcha;if(!o){i||(window.recaptchaCallback=function(){var t=(0,_box_utils__WEBPACK_IMPORTED_MODULE_12__.curBox)();if(t){var n=(0,_dom__WEBPACK_IMPORTED_MODULE_7__.geByClass1)("recaptcha",t.bodyNode);n&&((0,_dom__WEBPACK_IMPORTED_MODULE_7__.val)(n,""),window.grecaptcha.render(n,{sitekey:e,callback:window.recaptchaResponse}))}},headNode.appendChild((0,_dom__WEBPACK_IMPORTED_MODULE_7__.ce)("script",{type:"text/javascript",src:"https://www.google.com/recaptcha/api.js?onload=recaptchaCallback&render=explicit&hl="+t})));var a='<div class="recaptcha"></div>'+(r.addText||"");n=showFastBox({title:(0,_lang__WEBPACK_IMPORTED_MODULE_10__.getLang)("global_recaptcha_title"),width:354,onHide:r.onHide,onDestroy:r.onDestroy||!1},a,(0,_lang__WEBPACK_IMPORTED_MODULE_10__.getLang)("captcha_cancel"));var s=(0,_dom__WEBPACK_IMPORTED_MODULE_7__.geByClass1)("recaptcha",n.bodyNode);s.id="recaptcha"+(n.guid?n.guid:"0"),(0,_ui__WEBPACK_IMPORTED_MODULE_3__.showProgress)(s)}return o&&i?window.grecaptcha.reset():i&&window.recaptchaCallback(),n.changed=!0,n}},27663:(e,t,n)=>{"use strict";n.d(t,{scrollToY:()=>s,scrollToTop:()=>l,scrollGetX:()=>u,scrollGetY:()=>c,disableBodyScroll:()=>d,enableBodyScroll:()=>f});var r=n(5456),o=n(90148),i=n(14914);function a(){return bodyNode}function s(e,t,n,l,d){if(null==t&&(t=400),"ontouchstart"in document.documentElement&&(t=0),l||(e=Math.max(0,e-(vk.staticheader?0:(0,i.getSize)("page_header_cont")[1]))),(0,i.data)(a(),"tween")&&(0,i.data)(a(),"tween").stop(!1),(0,i.data)(htmlNode,"tween")&&(0,i.data)(htmlNode,"tween").stop(!1),window.scrollAnimation=!1,t){var f=function(){window.scrollAnimation=!1,2===n&&("profile"!=cur.module&&"public"!=cur.module&&"group"!=cur.module&&"groups"!=cur.module&&"event"!=cur.module||!window.Wall||Wall.scrollCheck(!1,void 0,!0),(0,r.updSideTopLink)()),"function"==typeof d&&d()};window.scrollAnimation=!0,(0,o.animate)(htmlNode,{scrollTop:e},{duration:t,transition:o.Fx.Transitions.sineInOut,onComplete:f}),(0,o.animate)(a(),{scrollTop:e},{duration:t,transition:o.Fx.Transitions.sineInOut,onComplete:f})}else{if(n&&2!==n){"profile"!=cur.module&&"public"!=cur.module&&"group"!=cur.module&&"event"!=cur.module||!window.Wall||Wall.scrollCheck(!1,e,!0);var p=c()-e;return Math.abs(p)>6&&s(e+(p>0?6:-6),0,2,!0),(0,r.updSideTopLink)(),clearTimeout(window.scrlToTO),void(window.scrlToTO=setTimeout(s.pbind(e,100,2,!0,d),0))}window.scroll(u(),e),"function"==typeof d&&d(),n||(0,r.updSideTopLink)()}}function l(e){return s(0,e)}function u(){return window.pageXOffset||scrollNode.scrollLeft||document.documentElement.scrollLeft}function(){}function d(){a().style.overflow="hidden"}function(){}},19016:(e,t,n)=>{"use strict";n.d(t,{showTooltip:()=>a,showTitle:()=>s,showHint:()=>l});var r=n(14914),o=n(17685),i=n(42699);function a(e,t){(vk.loaded||t.noload)&&e&&(e.temphide||(e.temphide=function(){e.showing=!1},(0,o.addEvent)(e,"mouseout",e.temphide)),e.showing=!0,"loadingstat"!==e.tt&&(e.tt||(e.tt="loadingstat"),cur.cancelTooltip=!1,t.stat&&stManager.add(t.stat),stManager.add([jsc("web/tooltips.js"),"tooltips.css"],(function(){"loadingstat"===e.tt&&(e.tt=!1),e.showing&&!cur.cancelTooltip&&(!function(e){e.temphide&&((0,o.removeEvent)(e,"mouseout",e.temphide),(0,r.removeAttr)(e,"temphide"),(0,r.removeAttr)(e,"showing"))}(e),e.tt&&e.tt.el&&!t.force||(tooltips.create(e,t),t.onCreate&&t.onCreate()),tooltips.show(e,t))}))))}function s(e,t,n,o){e=(0,r.ge)(e);n||(n=[Math.round(20-(0,r.getSize)(e)[0]/2),8]);a(e,(0,i.extend)({text:function(){},shift:n,black:1},o||{}))}function l(e,t){t=t||{};a(e=(0,r.ge)(e),(0,i.extend)({text:function(){return e.getAttribute("data-title")},dir:"auto",width:300,shift:[22,8]},t))}},5456:(e,t,n)=>{"use strict";n.d(t,{notaBene:()=>d,updSideTopLink:()=>f,createButton:()=>p,actionsMenuItemLocked:()=>h,lockActionsMenuItem:()=>_,unlockActionsMenuItem:()=>g,linkLocked:()=>v,lockLink:()=>m,unlockLink:()=>y,lockButton:()=>b,unlockButton:()=>w,buttonLocked:()=>E,isButtonLocked:()=>D,disableButton:()=>C,sbWidth:()=>k,isChecked:()=>S,checkbox:()=>x,disable:()=>T,radioval:()=>O,radiobtn:()=>P,showProgress:()=>A,hideProgress:()=>L,disableEl:()=>M,enableEl:()=>I,initUiHelpers:()=>B});var r=n(14914),o=n(17685),i=n(42699),a=n(27663),s=n(90148),l=n(6566),u=n(16886),c=n(73078);function d(e,t,n){if(e=(0,r.ge)(e)){n||(0,r.elfocus)(e),void 0===(0,r.data)(e,"backstyle")&&(0,r.data)(e,"backstyle",e.style.backgroundColor||"");var o=(0,r.data)(e,"back")||(0,r.data)(e,"back",(0,r.getStyle)(e,"backgroundColor")),i={notice:"#FFFFE0",warning:"#FAEAEA"};(0,r.setStyle)(e,"backgroundColor",i[t]||t||i.warning),setTimeout((()=>(0,s.animate)(e,{backgroundColor:o},300,(function(){e.style.backgroundColor=(0,r.data)(e,"backstyle")}))),400)}}function f(e){if(window.scrollNode&&!l.browser.mobile&&window._tbLink){var t=(0,r.ge)("page_body");if(t){var n=(0,r.getXY)(t),o=(0,a.scrollGetY)(),i=bodyNode.scrollLeft,c=(0,r.ge)("side_bar"),d=(0,r.isVisible)(c);if(window._stlSideTop=Math.max((d?(0,r.getSize)(c)[1]:0)-o-(l.browser.mozilla?(0,r.getXY)(pageNode)[1]:0),n[1]),e||i!=__scrLeft){var f=(0,r.ge)("page_layout"),p=vk.rtl?f.offsetLeft+f.offsetWidth:0,h=vk.rtl?(window.lastWindowWidth||0)-p:f.offsetLeft;(0,r.setStyle)(_stlLeft,{width:Math.max(h-1,0)});var _=vk.rtl?n[0]+t.offsetWidth+5:h,g=vk.rtl?p-_:n[0]-5-_;(0,r.setStyle)(_stlSide,{left:_-i,width:Math.max(g,0)}),__scrLeft=i}(0,r.setStyle)(_stlSide,{top:_stlSideTop,height:Math.max((window.lastWindowHeight||0)-_stlSideTop,0)}),__adsUpdate();var v=200,m=_tbLink.loc||_stlWas||o>v,y=o>250&&cur._regBar,b=0,w=!1;if(m){1!==_stlShown&&((0,r.show)(_stlLeft,_stlSide),(0,r.addClass)(_stlLeft,"stl_active"),(0,r.addClass)(_stlSide,"stl_active"),_stlShown=1),_tbLink.loc&&cur._noUpLink&&(o=0),_stlWas&&o>500&&(_stlWas=0),o>v?(b=(o-v)/v,(_stlWasSet||_stlBack)&&(_stlWasSet=_stlBack=0,w=1,(0,r.val)(_stlText,(0,u.getLang)("global_to_top")),(0,r.removeClass)(_stlText,"down"),(0,r.removeClass)(_stlText,"back"))):(b=(v-o)/v,_stlWas?_stlWasSet||(_stlWasSet=1,w=0,(0,r.val)(_stlText,""),(0,r.addClass)(_stlText,"down"),_stlBack&&(_stlBack=0,(0,r.removeClass)(_stlText,"back"))):_tbLink.loc&&(_stlBack||(_stlBack=1,w=_tbLink.fast?1:0,(0,r.val)(_stlText,(0,u.getLang)("global_back")),(0,r.addClass)(_stlText,"back"),_stlWasSet&&(_stlWasSet=0,(0,r.removeClass)(_stlText,"down"))))),!1!==w&&(0,r.toggleClass)(_stlLeft,"over_fast",(0,r.hasClass)(_stlLeft,"over")&&w);var E={opacity:Math.min(Math.max(b,0),1)};vk.staticheader&&(E.top=-Math.min((0,r.getSize)("page_header_cont")[1],o)),(0,r.setStyle)(_stlLeft,E)}else 0!==_stlShown&&((0,r.hide)(_stlLeft,_stlSide),_stlShown=0);vk.id||(!_regBar&&y?(_regBar=1,(0,r.val)((0,r.ge)("reg_bar_content"),cur._regBar),(0,s.animate)((0,r.ge)("reg_bar"),{top:0,transition:s.Fx.Transitions.sineInOut},400),(0,s.animate)((0,r.ge)("stl_bg"),{paddingTop:60,transition:s.Fx.Transitions.sineInOut},400)):_regBar&&!y&&(_regBar=0,(0,s.animate)((0,r.ge)("reg_bar"),{top:-56,transition:s.Fx.Transitions.sineInOut},400),(0,s.animate)((0,r.ge)("stl_bg"),{paddingTop:13,transition:s.Fx.Transitions.sineInOut},400)))}}}function p(e,t){if((e=(0,r.ge)(e))&&!e.btnevents)if((0,r.hasClass)(e,"flat_button"))(0,i.isFunction)(t)&&(e.onclick=t.pbind(e));else{var n=e.parentNode;if((0,r.hasClass)(n,"button_blue")||(0,r.hasClass)(n,"button_gray"))(0,i.isFunction)(t)&&(e.onclick=t.pbind(e));else{var a=!1;(0,o.addEvent)(e,"click mousedown mouseover mouseout",(function(i){if(!(0,r.hasClass)(n,"locked"))switch(i.type){case"click":if(!a)return;return e.className="button_hover",t(e),(0,o.cancelEvent)(i);case"mousedown":e.className="button_down";break;case"mouseover":a=!0,e.className="button_hover";break;case"mouseout":e.className="button",a=!1}})),e.btnevents=!0}}}function h(e){var t=(0,r.ge)(e);if(t)return(0,r.hasClass)(t,"ui_actions_menu_item_lock")}function _(e){if((e=(0,r.ge)(e))&&(0,r.hasClass)(e,"ui_actions_menu_item")&&!(0,r.hasClass)(e,"ui_actions_menu_item_lock")){(0,r.data)(e,"inner",e.innerHTML),(0,r.addClass)(e,"ui_actions_menu_item_lock");var t=(0,r.ce)("div",{className:"ui_actions_menu_item_lock_text"});(0,r.val)(t,e.innerHTML),e.appendChild(t),A(e)}}function g(e){(e=(0,r.ge)(e))&&(0,r.hasClass)(e,"ui_actions_menu_item")&&(0,r.hasClass)(e,"ui_actions_menu_item_lock")&&((0,r.removeClass)(e,"ui_actions_menu_item_lock"),e.innerHTML=(0,r.data)(e,"inner"))}function v(e){var t=(0,r.ge)(e);if(t)return(0,r.hasClass)(t,"link_lock")}function m(e,t){var n=(0,r.ge)(e);n&&"a"===n.tagName.toLowerCase()&&!v(n)&&((0,r.addClass)(n,"link_lock"),t&&(0,i.each)(t,((e,t)=>(0,r.addClass)(n,t))))}function y(e,t){var n=(0,r.ge)(e);n&&v(n)&&((0,r.removeClass)(n,"link_lock"),t&&(0,i.each)(t,()))}function b(e){var t=(0,r.ge)(e);if(t){if(c.FlatButton.isFlatButton(t))return c.FlatButton.lock(t);if(("button"===t.tagName.toLowerCase()||(0,r.hasClass)(t,"flat_button")||(0,r.hasClass)(t,"wr_header"))&&!D(t)){var n=(0,r.getSize)(t);(0,r.addClass)(t,"flat_btn_lock"),(0,r.data)(t,"inner",t.innerHTML),(0,r.setStyle)(t,{width:n[0],height:n[1]}),t.innerHTML="",A(t,"btn_lock")}}}function w(e){var t=(0,r.ge)(e);if(t)return c.FlatButton.isFlatButton(t)?c.FlatButton.unlock(t):void(D(t)&&(L(t),t.innerHTML=(0,r.data)(t,"inner"),(0,r.removeClass)(t,"flat_btn_lock"),(0,r.setStyle)(t,{width:null,height:null})))}function E(e){return D(e)}function D(e){var t=(0,r.ge)(e);if(t)return c.FlatButton.isFlatButton(t)?c.FlatButton.isLocked(t):(0,r.hasClass)(t,"flat_btn_lock")}function C(e,t){var n=(0,r.ge)(e);if(n&&"button"===n.tagName.toLowerCase()){if(c.FlatButton.isFlatButton(n))return c.FlatButton.setDisabled(n,t);if(t){if(!(0,r.isVisible)(n))return;n.parentNode.insertBefore((0,r.ce)("button",{innerHTML:n.innerHTML,className:n.className+" button_disabled"}),n),(0,r.hide)(n)}else{var o=(0,r.domPS)(n);o&&(0,r.hasClass)(o,"button_disabled")&&(0,r.re)(o),(0,r.show)(n)}}}function k(e){if(void 0===window._sbWidth||e){var t=(0,r.ce)("div",{innerHTML:'<div style="height: 75px;">1<br>1</div>'},{overflowY:"scroll",position:"absolute",width:"50px",height:"50px"});bodyNode.appendChild(t),window._sbWidth=Math.max(0,t.offsetWidth-t.firstChild.offsetWidth-1),bodyNode.removeChild(t)}return window._sbWidth}function S(e){return e=(0,r.ge)(e),(0,r.hasClass)(e,"on")?1:""}function x(e,t){var n=(0,r.ge)(e);if(n&&!(0,r.hasClass)(n,"disabled"))return void 0===t&&(t=!S(n)),(0,r.toggleClass)(n,"on",t),n.setAttribute("aria-checked",t?"true":"false"),!1}function T(e,t){return e=(0,r.ge)(e),void 0===t&&(t=!(0,r.hasClass)(e,"disabled")),(0,r.toggleClass)(e,"disabled",t),"INPUT"===e.tagName&&(t?e.setAttribute("readonly","readonly"):e.removeAttribute("readonly")),!1}function(){}function P(e,t,n){if(radioBtns[n]&&!(0,r.hasClass)(e,"disabled"))return(0,i.each)(radioBtns[n].els,(function(){this&&(this==e?((0,r.addClass)(this,"on"),this.setAttribute("aria-checked","true"),this.setAttribute("tabindex","0")):((0,r.removeClass)(this,"on"),this.setAttribute&&(this.setAttribute("aria-checked","false"),this.setAttribute("tabindex","-1"))))})),radioBtns[n].val=t}function A(e,t,n,o){var i;if(e=(0,r.ge)(e))return(0,r.hasClass)(e,"pr")?i=e:(i=(0,r.se)((0,r.rs)(vk.pr_tpl,{id:t||"",cls:n||""})),o?(0,r.domInsertBefore)(i,e):e.appendChild(i)),setTimeout((function(){})),i}function L(e){e&&((0,r.hasClass)(e,"pr")?(0,r.setStyle)(e,{opacity:0}):(0,r.re)((0,r.geByClass1)("pr",e)))}function M(e){(0,r.setStyle)(e,"pointer-events","none")}function I(e){(0,r.setStyle)(e,"pointer-events","")}function B(){window.__scrLeft=0,window.radioBtns={}}},60139:(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{topMsg:()=>topMsg,topError:()=>topError,showMsg:()=>showMsg,showGlobalPrg:()=>showGlobalPrg});var core_js_modules_es6_regexp_to_string__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(66108),core_js_modules_es6_object_to_string__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(96253),core_js_modules_es6_regexp_replace__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(59357),_dom__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(14914),_shared_user_user_env__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(86353),_shared_lib_js_logger__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(11386),_shared_lib_sentry_config__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(85124),_utils_common__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(42699);function topMsg(e,t,n){if(n||(n="#D6E5F7"),e){clearTimeout(window.topMsgTimer);var r=(0,_dom__WEBPACK_IMPORTED_MODULE_3__.ge)("system_msg");r.style.backgroundColor=n,r.innerHTML=e,(0,_dom__WEBPACK_IMPORTED_MODULE_3__.show)(r),t&&(window.topMsgTimer=setTimeout(topMsg.pbind(!1),1e3*t))}else(0,_dom__WEBPACK_IMPORTED_MODULE_3__.hide)("system_msg")}function topError(text,opts){var prefix="VK error: ";opts||(opts={});var hasDummyStacktrace=!opts.stack;if(text.message){var error=text;text="<b>JavaScript error</b>"+((0,_shared_user_user_env__WEBPACK_IMPORTED_MODULE_4__.partConfigEnabled)("extended_client_logging")?": "+error.message:""),opts.stack=error.stack,error.stack&&__debugMode&&(text+="<br/>"+error.stack.replace(/\n/g,"<br/>"));try{console.error(prefix,error.message),console.log(error.stack)}catch(e){}}else try{console.error(prefix,text)}catch(e){}if(!opts.stack){hasDummyStacktrace=!0;try{eval("0 = 1")}catch(e){opts.stack=e.stack}}if(-1!=opts.dt&&topMsg(text,opts.dt,"#FFB4A3"),1!==opts.type&&!__dev&&!(0,_dom__WEBPACK_IMPORTED_MODULE_3__.ge)("debuglogwrap")){delete opts.dt;var breadcrumb={message:text,data:{msg:opts.msg||text,module:(window.cur||{}).module,id:vk.id,host:locHost,lang:vk.lang,loc:(window.nav||{}).strLoc,realloc:location.toString()}};(0,_shared_lib_js_logger__WEBPACK_IMPORTED_MODULE_5__.logError)(opts,{environment:_shared_lib_sentry_config__WEBPACK_IMPORTED_MODULE_6__.topErrorModuleName,breadcrumb:breadcrumb,hasDummyStacktrace:hasDummyStacktrace})}}function showMsg(e,t,n,r){var o="msg"+("msg"!==n?" "+n:"");r&&(o+=" msg_appear"),e=(0,_dom__WEBPACK_IMPORTED_MODULE_3__.ge)(e);var i=(0,_dom__WEBPACK_IMPORTED_MODULE_3__.geByClass1)(n,e),a=i||(0,_dom__WEBPACK_IMPORTED_MODULE_3__.domFC)(e),s=e.insertBefore((0,_dom__WEBPACK_IMPORTED_MODULE_3__.ce)("div",{className:o,innerHTML:'<div class="msg_text">'+t+"</div>"}),a);i&&(0,_dom__WEBPACK_IMPORTED_MODULE_3__.re)(i),setTimeout(_dom__WEBPACK_IMPORTED_MODULE_3__.removeClass.pbind(s,"msg_appear"),0)}function showGlobalPrg(e,t){var n=(0,_dom__WEBPACK_IMPORTED_MODULE_3__.getXY)(e),r=(0,_dom__WEBPACK_IMPORTED_MODULE_3__.getSize)(e),o=t||{},i=o.w,a=void 0===i?32:i,s=o.h,l=void 0===s?13:s,u=(0,_dom__WEBPACK_IMPORTED_MODULE_3__.ge)("global_prg");u.className=o.cls||"progress",(0,_dom__WEBPACK_IMPORTED_MODULE_3__.setStyle)(u,{left:n[0]+Math.floor((r[0]-a)/2)+(0,_utils_common__WEBPACK_IMPORTED_MODULE_7__.intval)(o.shift?o.shift[0]:0),top:n[1]+Math.floor((r[1]-l)/2)+(0,_utils_common__WEBPACK_IMPORTED_MODULE_7__.intval)(o.shift?o.shift[1]:0),width:a,height:l,display:"block","z-index":o.zIndex?o.zIndex:null}),o.hide&&(e.style.visibility="hidden")}},7851:(e,t,n)=>{"use strict";n.d(t,{parseJSON:()=>p.parseJSON,throttle:()=>h,shuffle:()=>_,parallel:()=>g,hashCode:()=>v,checkTextLength:()=>m,getSelectionText:()=>y,goAway:()=>b,isFullScreen:()=>w,updateMoney:()=>E,toggleOnline:()=>D,onlinePlatformClass:()=>C,handleScroll:()=>k,showErrorBox:()=>S});n(51876),n(21466),n(66108),n(91181),n(96253);var r=n(42699),o=n(27813),i=n(17999),a=n(91563),s=n(14914),l=n(16886),u=n(6566),c=n(53439),d=n(17685),f=n(27663),p=(n(91257),n(20453));function h(e,t){var n;return function(){n||(e.apply(this,arguments),n=setTimeout((function(){n=!1}),t))}}function(){}function g(){var e=[].slice.call(arguments),t=e.pop(),n=new CallHub(t,e.length);(0,r.each)(e,((e,t)=>t((()=>n.done()))))}function v(e){var t=0;if(0===e.length)return t;for(var n=0,r=e.length;n<r;n++){t=(t<<5)-t+e.charCodeAt(n),t|=0}return t}function m(e,t,n,r,o,i,a){var u=t.getValue?t.getValue():t.value,c=t.lastLen||0;if(t.lastLen!==u.length||i){t.lastLen=u.length;var d={"&":5,"<":4,">":4,'"':6,"\n":r?1:4,"\r":0,"!":5,"'":5,$:6,"\\":6},f={1168:1,1169:1,8211:1,8212:1,8216:1,8217:1,8218:1,8230:1,8240:1,8249:1,8250:1,8364:1,8470:1,8482:1,65533:1},p={1037:1,1104:1,1117:1};o&&(d[","]=5);var h=function(e){for(var t=0,n=0,r=e.length;n<r;n++){var o=d[e.charAt(n)],i=e.charCodeAt(n);t+=void 0!==o?o:!a&&i>=128&&(i<1025||p[i]||i>1119)&&!f[i]&&(i<8220||i>8222)&&(i<8224||i>8226)?("&#"+i+";").length:1}return t}(u);if(n=(0,s.ge)(n),h>Math.max(e-100,.75*e))if((0,s.show)(n),h>e)if(o){var _=(0,s.val)(t,function(e,t){for(var n=0,r="",o=0,i=e.length;o<i;o++){var s=e.charAt(o),l=d[s],u=e.charCodeAt(o);if((n+=void 0!==l?l:!a&&u>=128&&(u<1025||p[u]||u>1119)&&!f[u]&&(u<8220||u>8222)&&(u<8224||u>8226)?("&#"+u+";").length:1)>t)break;r+=s}return r}(u,Math.min(e,c)));t.lastLen=_.length,n.innerHTML=(0,l.getLang)("text_N_symbols_remain",0)}else n.innerHTML=(0,l.getLang)("text_exceeds_symbol_limit",h-e);else n.innerHTML=(0,l.getLang)("text_N_symbols_remain",e-h);else(0,s.hide)(n)}}function y(){var e="";return window.getSelection?e=window.getSelection().toString():document.selection&&"Control"!==document.selection.type&&(e=document.selection.createRange().text),e}function b(e,t,n){if(-1!==(t||{}).h||(0,d.checkEvent)(n))return!0;if(-1!==(t||{}).h){var s=e.match(/https?:\/\/([a-zA-Z0-9\-_\.]+\.)?(vk\.com|vkontakte\.ru)(\/|$)/i);if(s&&"api."!==s[1].toLowerCase())return location.href=e,!1;var l=(0,r.intval)((0,o.getCookie)("remixsettings_bits"));if(/https?:\/\/([a-zA-Z0-9\-_]+\.)(vk\.com|vkontakte\.ru)(\/|$)/i.test((0,i.locBase)())||1&l)return window.open("/away.php?to="+encodeURIComponent(e)+(t&&void 0!==t.h?"&h="+t.h:""),"_blank"),!1}var u=(0,r.extend)({act:"a_go",to:e},t||{});return!(0,a.showBox)("away.php",u,{},n)}function w(){return!!(document.fullscreenElement||document.fullScreenElement||document.msFullscreenElement||document.mozFullScreen||document.webkitIsFullScreen||cur.pvPartScreen)}function E(e,t){if(void 0!==e&&!1!==e){var n="";!0===t?(vk.balanceEx=e,n="_ex"):vk.balance=e;var o=(0,s.geByClass)("votes_balance_nom"+n);(0,r.each)(o,((t,n)=>n.innerHTML=`${e} ${(0,l.getLang)("votes_flex",e)}`));var i=e*(vk.vcost||7),a=(0,s.geByClass)("money_balance_nom"+n);(0,r.each)(a,((e,t)=>t.innerHTML=(0,l.getLang)("global_money_amount_rub",i,!0))),void 0!==t&&!1!==t&&!0!==t&&E(t,!0),window.GamesCatalog&&window.GamesCatalog.updateMoney(e)}}function D(e,t){var n=C(t).split(" "),o=[];["online","mobile","_online"].forEach((function(t){(0,r.inArray)(t,n)&&!(0,s.hasClass)(e,t)?o.push(t):!(0,r.inArray)(t,n)&&(0,s.hasClass)(e,t)&&(0,s.removeClass)(e,t)})),o.length>0&&(0,s.addClass)(e,o.join(" "))}function C(e){var t=" _online";return e&&(t+=" online"),u.mobPlatforms[e]&&(t+=" mobile"),(0,c.updateOnlineText)(),t}function k(e){e=e.split(",");var t=cur.named||{},n=e[0]&&(t[e[0]]||(0,s.ge)(e[0]))||!1,r=e[1]&&(t[e[1]]||(0,s.ge)(e[1]))||!1;if(!n&&!r){if(!(n=document.getElementsByName(e[0])[0]))return;n=n.nextSibling}var o=(0,s.ge)("page_header_wrap")||(0,s.ge)("dev_top_nav_wrap");setTimeout((function(){n&&(0,f.scrollToY)((0,s.getXY)(n)[1]-(o?(0,s.getSize)(o)[1]:0),0),r&&(0,s.elfocus)(r)}),300)}function S(e,t){return void 0===t&&(t=1e4),setTimeout((0,a.showFastBox)({title:(0,l.getLang)("global_error")},e).hide,t)}},42699:(e,t,n)=>{"use strict";n.d(t,{rand:()=>a.rand,replaceEntities:()=>a.replaceEntities,isArray:()=>a.isArray,isEmpty:()=>a.isEmpty,isFunction:()=>a.isFunction,isObject:()=>a.isObject,isString:()=>a.isString,isUndefined:()=>a.isUndefined,irand:()=>a.irand,escapeRE:()=>a.escapeRE,each:()=>a.each,vkNow:()=>a.vkNow,vkLocal:()=>l,lTimeout:()=>u,vkImage:()=>c,trim:()=>d,stripHTML:()=>f,intval:()=>p,floatval:()=>h,positive:()=>_,isNumeric:()=>g,winToUtf:()=>v,clean:()=>m,unclean:()=>y,indexOf:()=>b,inArray:()=>w,clone:()=>E,arrayKeyDiff:()=>D,extend:()=>C,addTemplates:()=>k,getTemplate:()=>S,serializeForm:()=>x,extractUrls:()=>T,isRetina:()=>O,formatCount:()=>P,encodeHtml:()=>N,decodeHtml:()=>F,initUtilsCommon:()=>R});n(30522),n(91181),n(79665),n(95767),n(66108),n(96253),n(21466),n(59357);var r=n(14914),o=n(16886),i=n(6566),a=n(17999);function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function l(e){var t=PageID;return function(){t===PageID&&e.apply(this,arguments)}}function u(e,t){return setTimeout(l(e),t)}var c=()=>window.Image?new Image:(0,r.ce)("img"),d=e=>(e||"").replace(/^\s+|\s+$/g,""),f=;function p(e){return!0===e?1:parseInt(e)||0}function h(e){return!0===e?1:parseFloat(e)||0}function _(e){return(e=p(e))<0?0:e}function g(e){return!isNaN(e)}function v(e){return e.replace(/&#(\d\d+);/g,(function(e,t){return(t=p(t))>=32?String.fromCharCode(t):e})).replace(/&quot;/gi,'"').replace(/&lt;/gi,"<").replace(/&gt;/gi,">").replace(/&amp;/gi,"&")}function m(e){return e?e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;"):""}function y(e){return(0,a.replaceEntities)(e.replace(/\t/g,"\n"))}function(){}function(){}function E(e,t){var n=(0,a.isObject)(e)||void 0===e.length?{}:[];for(var r in e)(!/webkit/i.test(_ua)||"layerX"!=r&&"layerY"!=r&&"webkitMovementX"!=r&&"webkitMovementY"!=r)&&(t&&"object"==typeof e[r]&&"prototype"!==r&&null!==e[r]?n[r]=E(e[r]):n[r]=e[r]);return n}function D(e){var t={},n=arguments.length,r=arguments;for(var o in e)if(e.hasOwnProperty(o)){for(var i=!1,a=1;a<n;a++)r[a][o]&&r[a][o]===e[o]&&(i=!0);i||(t[o]=e[o])}return t}function C(){var e=arguments,t=e.length,n=e[0]||{},r=1,o=!1;for("boolean"==typeof n&&(o=n,n=e[1]||{},r=2),"object"==typeof n||(0,a.isFunction)(n)||(n={});r<t;r++){var i=e[r];if(null!=i)for(var s in i)if(i.hasOwnProperty(s)){var l=n[s],u=i[s];n!==u&&(o&&u&&"object"==typeof u&&!u.nodeType?n[s]=C(o,l||(null!=u.length?[]:{}),u):void 0!==u&&(n[s]=u))}}return n}function k(e){window.templates=window.templates||{},C(window.templates,e)}function S(e,t){var n=(window.templates=window.templates||{})[e];return"function"==typeof n&&(n=n()),n&&t?(0,r.rs)(n,t):n||""}function x(e){if("object"!=typeof e)return!1;var t={},n=,o=function(n,o){if(o.name)if("text"!==o.type&&o.type)if(o.getAttribute("bool")){var a=(0,r.val)(o);if(!a||"0"===a)return;t[o.name]=1}else t[o.name]=i.browser.msie&&!o.value&&e[o.name]?e[o.name].value:o.value;else t[o.name]=(0,r.val)(o)};return(0,a.each)(n("input"),(function(e,t){if("radio"!==t.type&&"checkbox"!==t.type||t.checked)return o(0,t)})),(0,a.each)(n("select"),o),(0,a.each)(n("textarea"),o),t}function T(e,t){for(var n,r=t?/(?:([!()?., \n\r\t \u00A0]|^)((https?:\/\/)?((?:[a-z0-9_\-]+\.)+(?:[a-z]{2,10}|xn--p1ai|xn--j1amh|xn--80asehdb|xn--80aswg))(\/.*?)?(\#.*?)?)(?:[\.!:;,\*\(\)&]*(&nbsp;|[ \t\r\n \u00A0]|$))|([!()?., \n\r\t \u00A0]|^)((https?:\/\/)?((?:[a-z0-9а-яєґї_\-]+\.)+(?:рф|укр|онлайн|сайт|срб))(\/.*?)?(\#.*?)?)(?:[\.!:;,\*\(\)&]*(&nbsp;|[ \t\r\n \u00A0]|$)))/i:/(?:([!()?., \n\r\t \u00A0]|^)((https?:\/\/)?((?:[a-z0-9_\-]+\.)+(?:[a-z]{2,10}|xn--p1ai|xn--j1amh|xn--80asehdb|xn--80aswg))(\/.*?)?(\#.*?)?)(?:[\.!:;,\*\(\)]*(&nbsp;|[ \t\r\n \u00A0]))|([!()?., \n\r\t \u00A0]|^)((https?:\/\/)?((?:[a-z0-9а-яєґї_\-]+\.)+(?:рф|укр|онлайн|сайт|срб))(\/.*?)?(\#.*?)?)(?:[\.!:;,\*\(\)]*(&nbsp;|[ \t\r\n \u00A0])))/i,o=[];e&&(n=e.match(r));){e=e.substr(n.index+n[0].length);var i=0;n[4]||(i=7),o.push({url:n[2+i],query:n[5+i]||"",domain:n[4+i]})}return o}var O=;function P(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.kLimit||1e3,r=t.mLimit||1e6;return e>=r&&!t.noCheck?P(e=(e=p(e/1e5))>1e3?p(e/10):e/10,C(t,{noCheck:!0}),!0)+"M":e>=n&&!t.noCheck?P(e=(e=p(e/100))>100?p(e/10):e/10,C(t,{noCheck:!0}),!0)+"K":(0,o.langNumeric)(e,"%s",!0).replace(/,/g,".")}var A,L,M,I=(M=null,[function(e){return M||(M=(0,r.se)("<span> </span>")),M.innerText=e,M.innerHTML},function(e){return M||(M=(0,r.se)("<span> </span>")),M.innerHTML=e.replace(/<br\s*\/?>/gim,"\n"),M.innerText}]),B=(L=2,function(e){if(Array.isArray(e))return e}(A=I)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==s.return||s.return()}finally{if(o)throw i}}return n}}(A,L)||function(e,t){if(e){if("string"==typeof e)return s(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?s(e,t):void 0}}(A,L)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),N=B[0],F=B[1];function R(){window.PageID=window.PageID||1}},38550:(e,t,n)=>{"use strict";n.d(t,{isEmail:()=>o});n(21466);var r=/^\S+@\S+\.\S+$/;var o=e=>(e=trim(e),Boolean(e.match(r)))},35969:(e,t,n)=>{"use strict";n.d(t,{default:()=>g});n(83946),n(21466),n(59357),n(75115);var r=n(67294),o=n(45697),i=n(5456),a=n(41437),s=n(40897),l=n(23558),u=n(95775),c=n(27273),d=n(79059),f=n(20931),p=n(48434),h=n(41142),_=n(33024);class g extends r.Component{constructor(e){var t;super(e),t=this,this.componentDidMount=()=>{document.addEventListener("keydown",this.onDocumentKeyDown),this.setInitialState(),this.synchronizeStateWithBackend()},this.componentWillUnmount=()=>{document.removeEventListener("keydown",this.onDocumentKeyDown),this.removeResendCodeButtonTimer()},this.componentDidUpdate=(e,t)=>{this.state.initialLoading||this.state.delayedUnblockExplanation||this.state.delayedUnblockFinished||t.phone===this.state.phone&&t.code===this.state.code&&t.codeSent===this.state.codeSent||this.updateFocus()},this.sendCode=()=>{if(!this.isBusy()){this.resetMessage();var e={act:g.acts.sendCode,phone:this.getPhonePrefix()+this.state.newPhone,hash:this.state.processHash,sure:1};ajax.post(g.controller,e,{onDone:,onFail:e=>(this.setErrorMessage(e),!0),showProgress:()=>this.setState({mainButtonLoading:!0}),hideProgress:()=>this.setState({mainButtonLoading:!1})})}},this.sendCodeToBoundPhone=()=>{if(!this.isBusy()){this.resetMessage();var e={act:g.acts.sendCodeToBoundPhone,hash:this.state.processHash};ajax.post(g.controller,e,{onDone:e=>{this.setStateByProcess(e),this.setResendCodeButtonTimer()},onFail:e=>(this.setErrorMessage(e),this.synchronizeStateWithBackend(),!0),showProgress:,hideProgress:()=>this.setState({mainButtonLoading:!1})})}},this.resetPhone=e=>{this.isBusy()||(this.removeResendCodeButtonTimer(),e&&this.resetMessage(),this.setState({phonePrefixIndex:g.constants.firstCountryIndex,backendCallResetsEnabled:null,phone:"",code:"",newPhone:"",newCode:"",phonePrefixInputNeeded:!0,codeSent:!1,checkCodeAttemptsAmount:void 0}))},this.resetUnblockForm=()=>{if(!this.isBusy()){var e={act:g.acts.resetUnblockForm,hash:this.state.processHash};ajax.post(g.controller,e,{onDone:e=>{this.setStateByProcess(e,{delayedUnblockExplanation:"",delayedUnblockFinished:!1})},onFail:e=>(this.setErrorMessage(e),this.synchronizeStateWithBackend(),!0),showProgress:()=>this.setState({resetUnblockDataButtonLoading:!0}),hideProgress:()=>this.setState({resetUnblockDataButtonLoading:!1})})}},this.checkCode=()=>{if(!this.isBusy())if(this.state.newCode.length<4)(0,i.notaBene)(this.references.validationCodeInput.element);else{this.resetMessage();var e={act:g.acts.checkCode,code:this.state.newCode,hash:this.state.processHash};ajax.post(g.controller,e,{onDone:e=>{this.setStateByProcess(e),this.references.passwordInput.element.focus(),this.setState({mainButtonLoading:!1})},onFail:e=>(this.synchronizeStateWithBackend((()=>{this.setErrorMessage(e),this.setState({mainButtonLoading:!1})})),!0),showProgress:()=>this.setState({mainButtonLoading:!0})})}},this.resendCode=()=>{if(!this.isBusy()){this.resetMessage();var e={act:g.acts.resendCode,hash:this.state.processHash};ajax.post(g.controller,e,{onDone:e=>{this.setStateByProcess(e,{newCode:""}),this.setInfoMessage(this.getResentInfoMessageText()),this.setResendCodeButtonTimer(),this.references.validationCodeInput.element.focus()},onFail:e=>(this.setErrorMessage(e),this.synchronizeStateWithBackend(),!0),showProgress:()=>this.setState({noCodeButtonLoading:!0}),hideProgress:()=>this.setState({noCodeButtonLoading:!1})})}},this.unblock=()=>{if(!this.isBusy())if(g.isBadPassword(this.state.newPassword))(0,i.notaBene)(this.references.passwordInput.element);else{this.resetMessage();var e={act:g.acts.unblock,pass:this.state.newPassword,hash:this.state.unblockHash};ajax.post(g.controller,e,{onDone:e=>{e.delayed_unblock_explanation?this.setState({delayedUnblockExplanation:e.delayed_unblock_explanation,mainButtonLoading:!1}):(this.setState({password:this.state.newPassword}),g.refreshAuthDataAndRedirectToFeed(e.login_hash,e.lg_domain_h,e.logout_hash,e.email,this.state.newPassword))},onFail:e=>(this.setErrorMessage(e),this.setState({mainButtonLoading:!1}),this.synchronizeStateWithBackend(),!0),showProgress:()=>this.setState({mainButtonLoading:!0})})}},this.redirectToAuth=()=>{this.setState({redirectToAuthButtonLoading:!0}),window.location.href=document.getElementById("top_logout_link").href},this.synchronizeStateWithBackend=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:()=>{},n={act:g.acts.getStatus};ajax.post(g.controller,n,{onDone:n=>{e(),t.setStateByProcess(n)},onFail:e=>(t.setErrorMessage(e),t.synchronizeStateWithBackend(),!0)})},this.setStateByProcess=function(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=t.getStateByProcess(e);t.state.initialLoading&&(r.initialLoading=!1),n&&Object.assign(r,n),0!==t.state.unbanDataId&&void 0!==t.state.unbanDataId&&r.unbanDataId!==t.state.unbanDataId&&t.setErrorMessage(a.default.getLang("login_unban_data_expired")),t.setState(r),r.delayedUnblockExplanation||r.delayedUnblockFinished||(r.codeSent&&r.resendButtonSecondsLeft&&t.setResendCodeButtonTimer(),0===r.checkCodeAttemptsAmount&&t.resetPhone(!1))},this.getStateByProcess=e=>({phone:e.phone,code:e.code,password:e.password,phonePrefixInputNeeded:!e.phone,canEditPhone:e.can_edit_phone,codeSent:e.code_sent,checkCodeAttemptsAmount:Number(e.check_code_attempts_amount),backendCallResetsEnabled:e.call_resets_enabled,phonePrefixesCallResetsEnabledConfig:e.phone_prefixes_call_resets_enabled_config,phonePrefixesToCountryMapping:e.country_to_phone_prefixes_map,unbanDataId:e.unban_data_id,delayedUnblockExplanation:e.delayed_unblock_explanation,delayedUnblockFinished:e.delayed_unblock_finished,resendCodeTimer:g.constants.noResetCodeTimerEnabled,resendButtonSecondsLeft:e.sms_resend_delay_timer_left,resendAttemptsAmount:e.resend_attempts_amount,resendCodeDelay:e.sms_resend_delay,phonePrefixIndex:this.getInitialPhonePrefixIndex(e.country_to_phone_prefixes_map,e.phone_prefix),newPhone:e.phone,newCode:e.code,newPassword:"",processHash:e.process_hash,unblockHash:e.unblock_hash}),this.areCallResetsEnabled=()=>{if(null!==this.state.backendCallResetsEnabled)return this.state.backendCallResetsEnabled;var e=String(this.state.phonePrefixesToCountryMapping[this.state.phonePrefixIndex][0]),t=Number(e.replace("_",""));return!this.state.phonePrefixesCallResetsEnabledConfig.includes(t)},this.updateFocus=()=>{this.state.phone?this.state.phone&&!this.state.code&&this.state.codeSent?this.references.validationCodeInput.element.focus():this.state.phone&&this.state.code&&this.references.passwordInput.element.focus():this.references.phoneInput.element.focus()},this.setErrorMessage=e=>{this.setState({message:e,isError:!0})},this.setInfoMessage=,this.resetMessage=,this.isBusy=()=>this.state.mainButtonLoading||this.state.noCodeButtonLoading||this.state.resetUnblockDataButtonLoading,this.onDocumentKeyDown=e=>{switch(e.keyCode){case KEY.ENTER:this.references.mainButton.props.onClick();break;default:return}e.stopPropagation(),e.preventDefault()},this.setResendCodeButtonTimer=()=>{if(this.state.resendCodeTimer===g.constants.noResetCodeTimerEnabled){var e=this.state.resendButtonSecondsLeft||this.state.resendCodeDelay;this.setState({resendCodeTimer:setInterval(this.resendCodeButtonTimerTick,c.SECOND),resendButtonSecondsLeft:e})}},this.resendCodeButtonTimerTick=()=>{var e=this.state.resendButtonSecondsLeft-1;this.setState({resendButtonSecondsLeft:e}),0===e&&this.removeResendCodeButtonTimer()},this.removeResendCodeButtonTimer=()=>{clearInterval(this.state.resendCodeTimer),this.setState({resendCodeTimer:g.constants.noResetCodeTimerEnabled,resendButtonSecondsLeft:0})},this.noResendsWereMade=()=>this.state.resendAttemptsAmount===g.constants.noCodeResentAmount,this.isLastResendStep=()=>this.state.resendAttemptsAmount===g.constants.maxCodeResentAmount,this.shouldRenderCallResetsSteps=,this.getCodeBlockHeaderLabel=()=>this.shouldRenderCallResetsSteps()?a.default.getLang("login_authcheck_called_phone_label"):a.default.getLang("login_confirmation_code"),this.getCodeBlockTooltipLabel=()=>this.shouldRenderCallResetsSteps()?this.props.tooltips.codeCallReset:this.props.tooltips.code,this.getResentInfoMessageText=()=>this.shouldRenderCallResetsSteps()?a.default.getLang("login_authcheck_call_reset_sent"):a.default.getLang("login_authcheck_sms_resent"),this.getResendCodeWaitingLabel=()=>{var e;e=this.areCallResetsEnabled()?this.noResendsWereMade()?a.default.getLang("join_send_code_via_sms_time"):a.default.getLang("join_resend_code_time"):this.noResendsWereMade()?a.default.getLang("join_resend_code_time"):a.default.getLang("login_authcheck_send_call_reset_delay");var t=Math.floor(this.state.resendButtonSecondsLeft/60)+":"+(this.state.resendButtonSecondsLeft%60<10?"0":"")+this.state.resendButtonSecondsLeft%60;return e.replace("%s",t)},this.getResendCodeButtonLabel=()=>this.areCallResetsEnabled()?this.noResendsWereMade()?a.default.getLang("join_send_code_via_sms"):a.default.getLang("join_no_code"):this.noResendsWereMade()?a.default.getLang("join_no_code"):a.default.getLang("login_authcheck_send_call_reset_message"),this.getInitialPhonePrefixIndex=(e,t)=>{var n=e.findIndex(());return-1===n&&(n=g.constants.firstCountryIndex),n},this.mapPhonePrefixesToOption=()=>this.state.phonePrefixesToCountryMapping.map(((e,t)=>({constant:t,name:e[1]}))),this.getPhonePrefix=()=>this.state.phonePrefixesToCountryMapping[this.state.phonePrefixIndex][3],this.renderResendCodeButton=()=>{var e;if(this.state.resendAttemptsAmount===g.constants.maxCodeResentAmount)e=r.createElement("div",{className:"resend_button resend_button--waiting"},a.default.getLang("reg_code_limit_exceeded"));else if(0===this.state.resendButtonSecondsLeft)e=r.createElement(l.default,{appearance:"link",loading:this.state.noCodeButtonLoading,className:"resend_button",onClick:this.resendCode},this.getResendCodeButtonLabel());else{var t=this.getResendCodeWaitingLabel();e=r.createElement("div",{className:"resend_button resend_button--waiting"},t)}return r.createElement("div",{className:"resend_button_wrap"},e)},this.renderPhonePrefixBlock=()=>{if(!this.state.phonePrefixInputNeeded)return"";var e=this.state.phone?g.constants.finishedClass:"";return r.createElement("div",{className:`input phone_number_prefix_input ${e}`},r.createElement("div",{className:"label"},a.default.getLang("join_country_label")),r.createElement(d.default,{className:`dark phone_number_prefix _phone_input_tooltip ${e}`,config:{id:"phone_number_prefix",placeholder:"",selected:[this.state.phonePrefixIndex],options:this.mapPhonePrefixesToOption()},singleSelectCrutch:!0,onFilterChange:(e,t)=>{this.setState({phonePrefixIndex:null===t?this.state.phonePrefixIndex:t})},readOnly:!!this.state.phone}))},this.renderPhoneBlock=()=>{var e=this.state.phone&&!this.state.code&&this.state.canEditPhone?r.createElement("a",{className:"_change_phone_button",onClick:},a.default.getLang("login_unblock_form_change_phone")):"",t=this.state.phonePrefixInputNeeded?this.getPhonePrefix():"",n=this.state.phone?g.constants.finishedClass:"",o=!this.state.phone&&!this.state.code&&this.state.phonePrefixInputNeeded,i=this.state.newPhone;return r.createElement("div",{className:"input phone_number_input"},r.createElement("div",{className:"label"},a.default.getLang("login_mobile_phone")),e,r.createElement(f.default,{text:this.getPhoneBlockTooltipLabel(),appearance:g.constants.tooltipAppearance,position:g.constants.tooltipPosition,width:g.constants.tooltipWidth,marginLeft:g.constants.tooltipMarginLeft,isShown:o},r.createElement("div",{id:"join_phone_prefixed",className:`prefix_input_wrap ${n}`},r.createElement("div",{id:"join_phone_prefix",className:"prefix_input_prefix"},r.createElement("nobr",null,t)),r.createElement("div",{className:"prefix_input_field"},r.createElement(u.default,{className:`prefix_input phone_number _phone_input_tooltip ${n}`,value:i,readOnly:!!this.state.phone,onChange:e=>this.setState({newPhone:e.target.value}),ref:e=>{this.references.phoneInput=e}}),r.createElement("div",{className:"prefix_input_border"})))))},this.renderCodeBlock=()=>{if(!this.state.phone)return"";if(!this.state.codeSent)return"";var e=this.getCodeBlockHeaderLabel(),t=this.state.code?g.constants.finishedClass:"",n=this.state.phone&&!this.state.code,o=!!this.state.code;return r.createElement("div",{className:"input verification_code_input"},r.createElement("div",{className:"label"},e),r.createElement(f.default,{text:this.getCodeBlockTooltipLabel(),appearance:g.constants.tooltipAppearance,position:g.constants.tooltipPosition,width:g.constants.tooltipWidth,marginLeft:g.constants.tooltipMarginLeft,isShown:n},r.createElement(u.default,{className:`verification_code _verification_code_input_tooltip dark ${t}`,ref:e=>{this.references.validationCodeInput=e},placeholder:a.default.getLang("login_authcheck_enter_code"),value:this.state.newCode,readOnly:o,onChange:})))},this.renderPasswordBlock=()=>{if(!this.state.phone||!this.state.code)return"";var e=g.checkPasswordStrength(this.state.newPassword),t=this.state.newPassword?r.createElement("div",{id:"blocked_about_pass",className:"blocked_pwd_level"+e}):"",n=this.state.newPassword?r.createElement("div",{className:"blocked_pass_strength blocked_about_login"},a.default.getLang(`join_pwd_level${e}`)):"",o=!this.state.password;return r.createElement("div",{className:"input new_password_input"},r.createElement("div",{className:"label"},a.default.getLang("login_new_password_label")),r.createElement(f.default,{text:this.props.tooltips.password,appearance:g.constants.tooltipAppearance,position:g.constants.tooltipPosition,width:g.constants.tooltipWidth,marginLeft:g.constants.tooltipMarginLeft,isShown:o},r.createElement(u.default,{className:"dark new_password _password_input_tooltip",ref:,placeholder:a.default.getLang("login_enter_password"),value:this.state.newPassword,onChange:e=>this.setState({newPassword:e.target.value})})),t,n)},this.renderMainButton=()=>{var e,t,n,o=this.areCallResetsEnabled()?a.default.getLang("reg_validate_call_reset_button"):a.default.getLang("login_receive_code");if(this.state.phone||this.state.code)if(this.state.phone&&!this.state.code)this.state.codeSent?(e=this.checkCode,t=a.default.getLang("login_check_code"),n=this.renderResendCodeButton()):(e=this.sendCodeToBoundPhone,t=o,n="");else{if(!this.state.phone||!this.state.code)return"";e=this.unblock,t=a.default.getLang("login_blocked_unblock_page"),n=""}else e=this.sendCode,t=o,n="";return r.createElement("div",null,r.createElement(l.default,{className:"UnblockForm__mainButton",loading:this.state.mainButtonLoading,onClick:e,ref:e=>{this.references.mainButton=e}},t),n)},this.renderMessage=()=>{if(!this.state.message)return"";var e=this.state.isError?"error":"";return r.createElement("div",{id:"unblock_box_errors_block"},r.createElement("div",{className:"msg submit_error "+e,dangerouslySetInnerHTML:{__html:this.state.message}}))},this.renderContent=()=>this.state.initialLoading?g.renderInitialLoading():this.state.delayedUnblockExplanation?this.renderDelayedWaitExplanation():this.state.delayedUnblockFinished?this.renderDelayedUnblockFinishedScreen():r.createElement("div",{className:"UnblockForm__content__inputs"},this.renderPhonePrefixBlock(),this.renderPhoneBlock(),this.renderCodeBlock(),this.renderPasswordBlock(),this.renderMainButton()),this.renderDelayedWaitExplanation=()=>r.createElement("div",{className:"DelayedWaitExplanation"},r.createElement("div",{className:"DelayedWaitExplanation__message msg submit_error ",dangerouslySetInnerHTML:{__html:a.default.getLang("restore_change_phone_done_wait_banned").replace("{date}",this.state.delayedUnblockExplanation)}}),r.createElement("div",{className:"DelayedWaitExplanation__progressWrap"},r.createElement(l.default,{appearance:"tertiary",loading:this.state.resetUnblockDataButtonLoading,onClick:this.resetUnblockForm},a.default.getLang("login_delayed_its_not_me")))),this.renderDelayedUnblockFinishedScreen=()=>r.createElement("div",{id:"unblock_box_errors_block"},r.createElement("div",{className:"msg submit_error ",dangerouslySetInnerHTML:{__html:a.default.getLang("login_delayed_request_finished")}}),r.createElement("div",{className:"DelayedRequestFinished__button"},r.createElement(l.default,{loading:this.state.redirectToAuthButtonLoading,onClick:this.redirectToAuth},a.default.getLang("login_unblock_redirect_to_auth"))),r.createElement("div",{className:"DelayedRequestFinished__notMeButton"},r.createElement(l.default,{appearance:"tertiary",loading:this.state.resetUnblockDataButtonLoading,onClick:this.resetUnblockForm},a.default.getLang("login_delayed_its_not_me")))),this.render=()=>r.createElement("div",{className:"UnblockForm"},r.createElement("div",{className:"UnblockForm__header box_title_wrap"},r.createElement("div",{className:"box_x_button",role:"button",onClick:s.destroyComponentInBox},r.createElement(_.default,null)),r.createElement("div",{className:"box_title"},a.default.getLang("login_blocked_call_title"))),r.createElement("div",{className:"UnblockForm__content box_body clear_fix"},r.createElement("div",{className:"login_blocked_wrap"},r.createElement("div",{className:"unblock_form"},r.createElement("div",{className:"UnblockForm__content__header"},r.createElement("div",{className:"antispam_team_logo"}),r.createElement("div",{className:"reason"},a.default.getLang("login_unblock_form_explanation"))),this.renderMessage(),this.renderContent())))),this.state={initialLoading:!0},this.references={phoneInput:null,validationCodeInput:null,passwordInput:null,mainButton:null}}setInitialState(){this.setState({message:"",isError:!1,initialLoading:!0,mainButtonLoading:!1,noCodeButtonLoading:!1,resetUnblockDataButtonLoading:!1,redirectToAuthButtonLoading:!1})}getPhoneBlockTooltipLabel}g.controller="/al_login.php",g.acts={getStatus:"get_unblock_process_status",sendCode:"send_unblock_code",sendCodeToBoundPhone:"send_unblock_code_to_bound_phone",resendCode:"resend_unblock_code",checkCode:"check_unblock_code",unblock:"unblock",resetUnblockForm:"reset_unblock_form"},g.constants={finishedClass:"finished",maxCodeResentAmount:2,noCodeResentAmount:0,firstCountryIndex:0,noResetCodeTimerEnabled:0,tooltipWidth:250,tooltipMarginLeft:5,tooltipAppearance:"white",tooltipPosition:"r",passwordStrengths:{none:-1,incorrectTooShort:0,weakTypical:1,good:2,veryGood:3,excellent:4,incorrectHasSpaces:5}},g.refreshAuthDataAndRedirectToFeed=(e,t,n,r,o)=>{var i=utilsNode.appendChild(ce("div",{innerHTML:'\n      <form id="login_block_auth_form" target="login_block_auth_frame" action="" method="POST">\n        <input type="hidden" name="_origin" id="login_server_origin" />\n        <input type="hidden" name="email" id="login_block_email" />\n        <input type="hidden" name="pass" id="login_block_pass" />\n      </form>\n      <iframe name="login_block_auth_frame" id="login_block_auth_frame"></iframe>'})),a=window.onLoginDone,s=ge("login_block_auth_form");s.action=(0,h.getLoginDomain)()+"?act=login&ip_h="+n+"&lg_h="+e+"&lg_domain_h="+t+"&redirect=1&role=al_frame",val("login_block_email",winToUtf(r)),val("login_block_pass",winToUtf(o)),val("login_server_origin",cur.serverOrigin),s.submit(),cur.destroy.push((()=>{re(i),window.onLoginDone=a})),window.onLoginDone=()=>{re(i),nav.go("/feed",!0)}},g.isBadPassword=e=>{var t=[g.constants.passwordStrengths.incorrectHasSpaces,g.constants.passwordStrengths.incorrectTooShort],n=g.checkPasswordStrength(e);return t.includes(n)},g.checkPasswordStrength=e=>{var t=g.constants.passwordStrengths.none,n=["qwerty","йцукен","gfhjkm","пароль","password","abc123","fuckyou","123abc","baseball","football","soccer","monkey","liverpool","princess","jordan","slipknot","superman","iloveyou"];if(e.length<6)t=g.constants.passwordStrengths.incorrectTooShort;else if(/\s/.test(e))t=g.constants.passwordStrengths.incorrectHasSpaces;else if(e.match(/^\d+$/)||n.indexOf(e)>=0||e.substr(-1).match(/\d/)&&n.indexOf(e.substr(0,e.length-1))>=0)t=g.constants.passwordStrengths.weakTypical;else{for(var r=[/[^a-z]/g,/[^A-Z]/g,/[^а-яё]/g,/[^А-ЯЁ]/g,/[^0-9]/g,/[a-zA-Zа-яА-ЯёЁ0-9]/g],o=[],i=0,a=0,s=r.length;a<s;++a){var l=e.replace(r[a],"").length;l&&(l>1&&i++,o.push({group:a,cnt:l}))}if(o.length<3&&o[o.length-1].group!=r.length-1&&i<2&&(t=g.constants.passwordStrengths.good),(i>2||o.length>2&&o[o.length-1].group==r.length-1)&&(t=g.constants.passwordStrengths.excellent),t<0&&i>1){var u=e.replace(r[r.length-1],"");u.length>1&&u.replace(new RegExp(escapeRE(u.charAt(0)),"g"),"").length&&(t=g.constants.passwordStrengths.excellent)}t<0&&(t=g.constants.passwordStrengths.veryGood),t&&t<3&&e.length>13&&t++}return t},g.renderInitialLoading=()=>r.createElement("div",{className:"InitialLoading"},r.createElement(p.default,null)),g.propTypes={tooltips:o.shape({phone:o.string,phoneCallReset:o.string,code:o.string,codeCallReset:o.string,password:o.string})}},20931:(e,t,n)=>{"use strict";n.d(t,{default:()=>l});n(75115);var r=n(67294),o=n(73935),i=n(45697),a=n(21265),s=n(63131);class l extends r.Component{constructor(e){super(e),this.addTooltip=e=>{if(this.el){var t=this.props,n=t.text,r=t.position,o=t.align,i=t.marginTop,a=t.marginLeft,l=(0,s.default)(this.el);this.update({text:n,position:r,align:o,rect:l,marginTop:i,marginLeft:a})}},this.removeTooltip=e=>{document.activeElement!==this.inputEl&&this.update({remove:!0})},this.renderTooltip=()=>{if(!this.state.tooltip)return null;var e=this.state.tooltip,t=e.x,n=e.y,o=e.position,i=e.align,s=e.text,l=e.removed,u=this.props,c=u.appearance,d=u.width,f=(0,a.classNames)("UnblockTooltip",`UnblockTooltip--${o}`,`UnblockTooltip--${c}`,{"UnblockTooltip--removed":!!l,[`UnblockTooltip--align-${i}`]:"t"===o||"b"===o}),p={top:n,left:t},h=d?{width:d}:{};return r.createElement("div",{className:f,style:p},r.createElement("div",{className:"UnblockTooltip__in",style:h,dangerouslySetInnerHTML:{__html:s}}))},this.state={}}componentDidMount(){this.el=o.findDOMNode(this),this.inputEl="INPUT"===this.el.tagName?this.el:this.el.getElementsByTagName("input")[0],this.backgroundElement=document.getElementById("box_layer_wrap"),this.el.addEventListener("mouseenter",this.addTooltip),this.el.addEventListener("mouseleave",this.removeTooltip),this.inputEl.addEventListener("focus",this.addTooltip),this.inputEl.addEventListener("blur",this.removeTooltip),this.backgroundElement.addEventListener("scroll",this.addTooltip),window.addEventListener("resize",this.addTooltip)}componentWillUnmount(){this.el.removeEventListener("mouseenter",this.addTooltip),this.el.removeEventListener("mouseleave",this.removeTooltip),this.inputEl.removeEventListener("focus",this.addTooltip),this.inputEl.removeEventListener("blur",this.removeTooltip),this.backgroundElement.addEventListener("scroll",this.addTooltip),window.removeEventListener("resize",this.addTooltip)}update(e){var t=e.position,n=e.align,r=e.text,o=e.rect,i=e.marginTop,a=e.marginLeft,s=!o||0===o.top&&0===o.left;if(!0!==e.remove&&this.props.isShown&&!s){var l=o.left,u=o.top;switch(t){case"t":l+=.5*o.width;break;case"r":l+=o.width,u+=.5*o.height;break;case"b":l+=.5*o.width,u+=o.height;break;case"l":u+=.5*o.height}l=Math.round(l+a),u=Math.round(u+i),this.setState({tooltip:{position:t,align:n,text:r,x:l,y:u}})}else this.setState({tooltip:Object.assign({},this.state.tooltip,{removed:!0})})}render(){var e=this.renderTooltip();return e?(this.defaultNode||"undefined"==typeof window||(this.defaultNode=document.createElement("div"),document.body.appendChild(this.defaultNode)),r.createElement(r.Fragment,null,this.props.children,o.createPortal(e,this.defaultNode))):this.props.children}}l.propTypes={appearance:i.oneOf(["black","white"]),text:i.string.isRequired,position:i.oneOf(["t","r","b","l"]),align:i.oneOf(["left","center","right"]),marginTop:i.number,marginLeft:i.number,width:i.number,isShown:i.bool,children:i.node},l.defaultProps={appearance:"black",position:"b",align:"center",marginTop:0,marginLeft:0}},63841:(e,t,n)=>{"use strict";n.d(t,{initLoginBoxForm:()=>f,initLoginCombinedBoxForm:()=>p,Login:()=>h});var r=n(31850),o=n(67294),i=n(35969),a=n(40897),s=n(14914),l=n(2372),u=n(76905),c=n(19369),d=n(38550);function f(e){e&&new u.LoginBoxForm(e)}function p(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.querySelector('.LoginRecentBox [name="ul"]'),r=e.querySelector(".LoginRecentBox__alternative"),o=e.querySelector(".LoginRecentBox .LoginBox__title");r.addEventListener("click",());var i=new l.LoginRecentUsersGallery(e.querySelector(".LoginRecentBox__users"));i.onChange=e=>{var r=t.users[e];r&&(o.innerHTML=r.title,n&&(n.value=r.encrypted))},i.init(),e.querySelectorAll(".LoginRecentBox__user").forEach(((e,t)=>{e.addEventListener("click",(()=>{i.setIndex(t)}))}))}var h={init(){each(geByClass("big_text","login_form_wrap"),()),setTimeout(s.elfocus.pbind(!isVisible("email")||val("email")?"pass":"email"),0);var e=ge("login_form"),t=ge("email"),n=ge("pass"),r=val("login_ul");return e.onsubmit=()=>{if(!window.submitQuickLoginForm)return!0;if(!r&&!trim(t.value))return notaBene(t),!1;if(!trim(n.value))return notaBene(n),!1;var e={expire_input:val("expire_input")};r&&(e.ul=r);var o=(0,d.isEmail)(t.value)?c.RegistrationItemEventTypes.INPUT_EMAIL:c.RegistrationItemEventTypes.INPUT_PHONE;return c.registrationItemStat.logEvent(o,cur.eventScreen,void 0,{force:!0}),submitQuickLoginForm(t.value,n.value,{prg:"login_button",params:e}),!1},window.loginByCredential&&!r&&(t.onclick=loginByCredential,n.onclick=loginByCredential),!0},initBlockedPage(){r.FAQTutorial.tryInit()},initBox(){var e=curBox();e.changed=!0,e.setOptions({width:560,onClean:()=>{},hideButtons:!0,bodyStyle:"padding: 0"}),f(document.querySelector(".LoginBox"))},changeMail(e,t,n){var r=trim(val("login_new_mail")),o=1;return r?(e&&(n=cur.changeMailHash),-1==r.indexOf("@")?showMsg("login_change_mail_error",getLang("reg0_error_bad_email"),"error"):(e&&(o=0),void ajax.post("/login?act=a_change_mail",{newmail:r,hash:n,from_page:o},{onDone(t){var n="login_change_mail_form";e&&(n="login_change_mail_box",curBox().removeButtons(),curBox().addButton(getLang("global_cancel"),null,"no")),val(n,t)},onFail:e=>(showMsg("login_change_mail_error",e,"error"),!0),showProgress:lockButton.pbind(t),hideProgress:unlockButton.pbind(t)}))):notaBene("login_new_mail")},initChangeMailBox(){curBox().removeButtons(),curBox().addButton(getLang("global_cancel"),null,"no"),curBox().addButton(getLang("reg0_change_mail"),h.changeMail.pbind(1)),(0,s.elfocus)("change_mail_new")},isBanExpired:()=>cur.unblockDate<Date.now()/1e3,canUnblockFast:()=>!0===cur.canUnblockFast,showUnblockForm(){(0,a.showComponentInBox)(o.createElement(i.default,{tooltips:{phone:cur.phoneTooltip,phoneCallReset:cur.phoneCallResetTooltip,code:cur.verificationCodeTooltip,codeCallReset:cur.verificationCodeCallResetTooltip,password:cur.passwordTooltip}}))},fastUnblock:e=>{var t={act:"fast_unblock",hash:e},n=document.getElementsByClassName("unblock_button--fast")[0];n?ajax.post("/al_login.php",t,{onDone:function(){showDoneBox(getLang("login_fast_unblocked_wait_description"),{out:5e3}),nav.reload()},onFail:function(){},showProgress:()=>lockButton(n)}):showFastBox(getLang("global_error"))},showDeletePageBox(){showFastBox(getLang("login_blocked_delete_page_header"),getLang("login_blocked_sure_delete_page_question"),getLang("box_yes"),(()=>{ajax.post("al_settings.php",{act:"a_deactivate",hash:cur.deactivate_hash},{onDone:e=>{showDoneBox(e),nav.go("/id"+vk.id)},onFail:e=>{showDoneBox(e),curBox().hideProgress()}})}),getLang("box_no"))}}},30242:(e,t,n)=>{"use strict";n.d(t,{isImgBlurred:()=>r});n(51876);function r(e){if(!e)return!1;var t=e.photoRaw?e.photoRaw.split("_")[0]:"";return!(!e.restrictionBlur||cur.unblurredPhotos&&cur.unblurredPhotos.indexOf(e.photoRaw)>-1||cur.unblurredOwners&&cur.unblurredOwners.indexOf(t)>-1)}},31850:(e,t,n)=>{"use strict";n.d(t,{FAQTutorial:()=>u});var r=n(14914),o=n(63841),i=n(5456),a="tutorial_step",s="finished";function l(){var e=geByClass(a).slice(-1)[0],t=geByClass1("content",e);t.innerHTML=getTemplate("login_tutorial_finish_appeal")+t.innerHTML}var u={tryInit(){geByClass1(a)&&l()},select(e,t,n){var u=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(!cur.tutorialProcessing&&!isChecked(e)){var c=gpeByClass(a,e);hasClass(c,s)||(removeClass(geByClass1("on",c),"on"),addClass(e,"on"),ajax.post("support?act=a_select_tutorial",{name:t,id:n,load:1,ban:nav.objLoc.ban||0},{onDone(e,t){u||addClass(c,s);var n,i=!0,a=ge("page_body").offsetHeight+(vk.staticheader?0:(0,r.getH)(ge("page_header_cont")));if(u)do{(n=domNS(c))&&(re(n),i=!1)}while(n);if(ge("login_blocked_wrap").innerHTML+=e,l(),"login"===nav.objLoc[0]&&t){var d=document.querySelectorAll(".tutorial_step"),f=d[d.length-1];if(o.Login.isBanExpired()){o.Login.canUnblockFast()?f.innerHTML+=getTemplate("login_unblock_by_phone_fast"):f.innerHTML+=getTemplate("login_unblock_by_phone");var p=d[d.length-1].querySelector(".help_table_question__m");p&&hide(p)}else f.innerHTML+=getTemplate("login_wait_for_ban_expiration_message")}i&&scrollToY(a)},onFail:,showProgress(){cur.tutorialProcessing=!0,(0,i.lockButton)(e)},hideProgress(){cur.tutorialProcessing=!1,(0,i.unlockButton)(e)}}))}},home:,back:e=>{var t=geByClass("tutorial_step"),n=t[t.length-1];2===t.length&&hide(e),hide(n),removeClass(geByClass1("on",t[t.length-2]),"on")}}},95775:(e,t,n)=>{"use strict";n.d(t,{default:()=>l});n(75115),n(95767),n(91181),n(96253);var r=n(67294),o=n(45697),i=n(59397);function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function s(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}class l extends r.Component{constructor(e){super(e),this.onChange=e=>{this.isControlledOutside||this.setState({value:e.target.value}),this.props.onChange&&this.props.onChange(e)},this.getRef=e=>{this.element=e},this.onFocus=,void 0!==e.value||e.isControlledOutside?this.isControlledOutside=!0:this.state={value:e.initialValue||""}}render(){var e=this.props,t=e.alignment,n=e.value,o=(e.onChange,e.initialValue,e.className),l=(e.isControlledOutside,s(e,["alignment","value","onChange","initialValue","className","isControlledOutside"])),u={"Input--left":"left"===t,"Input--center":"center"===t,"Input--right":"right"===t};return r.createElement("input",a({},l,{className:(0,i.classNames)("Input",u,o),ref:this.getRef,value:this.isControlledOutside?n:this.state.value,onChange:this.onChange,onFocus:this.onFocus}))}}l.propTypes={className:o.string,type:o.oneOf(["text","password","date","datetime-local","time","month","email","number","tel","url","hidden"]),alignment:o.oneOf(["left","center","right"]),value:o.oneOfType([o.string,o.number]),initialValue:o.string,onChange:o.func,isControlledOutside:o.bool,onFocus:o.func},l.defaultProps={type:"text",initialValue:"",alignment:"left"}},48434:(e,t,n)=>{"use strict";n.d(t,{default:()=>a});n(91181),n(66108),n(96253);var r=n(67294),o=n(45697),i=n(59397);class a extends r.Component{constructor(e){super(e),this.id=Math.round(1e6*Math.random()).toString(16),this.setSpinnerParams(e)}UNSAFE_componentWillReceiveProps(e){this.setSpinnerParams(e)}setSpinnerParams(e){this.offset=Math.round(Math.PI*e.size),this.c=.5*e.size,this.animation=function(e,t){if(!e||!t)return"";var n=Object.keys(t).map((e=>e+" {"+Object.keys(t[e]).map((n=>n+":"+t[e][n])).join(";")+"}")).join("");return`@-webkit-keyframes ${e} {${n}} @keyframes ${e} {${n}}`}("dash"+this.id,{"0%":{"stroke-dashoffset":this.offset},"50%":{"stroke-dashoffset":Math.round(.25*this.offset),transform:"rotate(135deg)"},"100%":{"stroke-dashoffset":this.offset,transform:"rotate(360deg)"}})}render(){var e=this.props,t=e.style,n=e.color,o=void 0===n?"var(--icon_secondary)":n,a=e.size,s=e.duration,l=e.strokeWidth,u=e.className,c=this.id,d=this.offset,f=this.animation,p=(0,i.classNames)("Spinner",u);return r.createElement("div",{className:p,style:t},r.createElement("svg",{className:"Spinner__svg",width:a,height:a,viewBox:`0 0 ${a} ${a}`,xmlns:"http://www.w3.org/2000/svg"},r.createElement("g",{style:{width:a,height:a,transformOrigin:.5*a+"px "+.5*a+"px"}},r.createElement("style",{dangerouslySetInnerHTML:{__html:f}}),r.createElement("circle",{className:"Spinner__path",fill:"none",stroke:o,strokeDasharray:d,strokeDashoffset:d,strokeWidth:l,style:{animationName:"dash"+c,animationTimingFunction:"ease-in-out",animationDuration:s+"s",animationIterationCount:"infinite"},cx:.5*a,cy:.5*a,r:.5*a-.5*l}))))}}a.propTypes={color:o.string,size:o.number,strokeWidth:o.number,duration:o.number,className:o.string,style:o.object},a.defaultProps={color:"#5181b8",size:19,strokeWidth:2,duration:1.4,className:""}},24963:,17722:,76793:,83328:,27007:,79315:,41488:,92032:,25645:,92811:,741:,91355:,67057:,62457:,74430:,5541:,42985:,74253:,28082:,53218:,3531:,40018:,3816:,79181:,87728:,40639:,1734:,40266:,97242:,49797:,86555:,4302:,55286:,55364:,28851:,49988:,42923:,7462:,15436:,87234:,4461:e=>{e.exports=!1},84728:,14351:,43499:,35345:,42503:,99275:,35588:,18693:,39327:,20616:,64548:(e,t)=>{t.f=Object.getOwnPropertySymbols},468:,60189:,47184:,14682:,10188:,50094:,90681:,24408:,77234:,27787:,21165:,27375:,2974:,22943:,69335:,3825:,58364:,77717:,24496:,74193:,92337:,81467:,22110:,10875:,20508:,21689:,93953:,30575:,36074:,28787:(e,t,n)=>{t.f=n(86314)},86314:,69002:,30522:,56997:,20075:,75115:,96253:,40851:,83946:,18269:,76774:,21466:,59357:,51876:,66108:,95767:,79665:,91181:,8091:e=>{"use strict";function(){}e.exports={assign:t,polyfill:function(){}}},92703:,45697:,50414:,64448:,73935:,25013:,72408:,67294:(e,t,n)=>{"use strict";e.exports=n(72408)},9424:e=>{"use strict";var t=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable;function o(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(e){return!1}}()?Object.assign:function(e,i){for(var a,s,l=o(e),u=1;u<arguments.length;u++){for(var c in a=Object(arguments[u]))n.call(a,c)&&(l[c]=a[c]);if(t){s=t(a);for(var d=0;d<s.length;d++)r.call(a,s[d])&&(l[s[d]]=a[s[d]])}}return l}},60053:,63840:,62548:function(e,t,n){e.exports=function(){"use strict";function e(e,t){return e(t={exports:{}},t.exports),t.exports}"undefined"!=typeof window?window:void 0!==n.g?n.g:"undefined"!=typeof self&&self;var t=e((function(e,t){!function(t,n){e.exports=n()}(0,(function(){function e(e){return e&&"object"==typeof e&&"[object RegExp]"!==Object.prototype.toString.call(e)&&"[object Date]"!==Object.prototype.toString.call(e)}function t(e){return Array.isArray(e)?[]:{}}function n(n,r){return r&&!0===r.clone&&e(n)?i(t(n),n,r):n}function r(t,r,o){var a=t.slice();return r.forEach((function(r,s){void 0===a[s]?a[s]=n(r,o):e(r)?a[s]=i(t[s],r,o):-1===t.indexOf(r)&&a.push(n(r,o))})),a}function o(t,r,o){var a={};return e(t)&&Object.keys(t).forEach((function(e){a[e]=n(t[e],o)})),Object.keys(r).forEach((function(s){e(r[s])&&t[s]?a[s]=i(t[s],r[s],o):a[s]=n(r[s],o)})),a}function i(e,t,i){var a=Array.isArray(t),s=(i||{arrayMerge:r}).arrayMerge||r;return a?Array.isArray(e)?s(e,t,i):n(t,i):o(e,t,i)}return i.all=function(e,t){if(!Array.isArray(e)||e.length<2)throw new Error("first argument should be an array with at least two elements");return e.reduce((function(e,n){return i(e,n,t)}))},i}))}));function(){}var o=e((function(e,t){var n={svg:{name:"xmlns",uri:"http://www.w3.org/2000/svg"},xlink:{name:"xmlns:xlink",uri:"http://www.w3.org/1999/xlink"}};t.default=n,e.exports=t.default})),i=function(e){return Object.keys(e).map((function(t){return t+'="'+e[t].toString().replace(/"/g,"&quot;")+'"'})).join(" ")},a=o.svg,s=o.xlink,l={};l[a.name]=a.uri,l[s.name]=s.uri;var u,c=function(e,n){void 0===e&&(e="");var r=t(l,n||{});return"<svg "+i(r)+">"+e+"</svg>"},d=o.svg,f=o.xlink,p={attrs:(u={style:["position: absolute","width: 0","height: 0"].join("; "),"aria-hidden":"true"},u[d.name]=d.uri,u[f.name]=f.uri,u)},h=function(){};h.prototype.add=function(){},h.prototype.remove=function(){},h.prototype.find=function(){},h.prototype.has=function(){},h.prototype.stringify=function(){},h.prototype.toString=function(){return this.stringify()},h.prototype.destroy=function(){this.symbols.forEach((function(e){return e.destroy()}))};var _=function(e){var t=e.id,n=e.viewBox,r=e.content;this.id=t,this.viewBox=n,this.content=r};_.prototype.stringify=function(){return this.content},_.prototype.toString=function(){return this.stringify()},_.prototype.destroy=function(){var e=this;["id","viewBox","content"].forEach((function(t){return delete e[t]}))};var g=function(e){var t=!!document.importNode,n=(new DOMParser).parseFromString(e,"image/svg+xml").documentElement;return t?document.importNode(n,!0):n},v=function(e){function t(){e.apply(this,arguments)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={isMounted:{}};return n.isMounted.get=function(){return!!this.node},t.createFromExistingNode=function(e){return new t({id:e.getAttribute("id"),viewBox:e.getAttribute("viewBox"),content:e.outerHTML})},t.prototype.destroy=function(){this.isMounted&&this.unmount(),e.prototype.destroy.call(this)},t.prototype.mount=function(e){if(this.isMounted)return this.node;var t="string"==typeof e?document.querySelector(e):e,n=this.render();return this.node=n,t.appendChild(n),n},t.prototype.render=function(){var e=this.stringify();return g(c(e)).childNodes[0]},t.prototype.unmount=function(){this.node.parentNode.removeChild(this.node)},Object.defineProperties(t.prototype,n),t}(_),m={autoConfigure:!0,mountTo:"body",syncUrlsWithBaseTag:!1,listenLocationChangeEvent:!0,locationChangeEvent:"locationChange",locationChangeAngularEmitter:!1,usagesToUpdate:"use[*|href]",moveGradientsOutsideSymbol:!1},y=function(e){return Array.prototype.slice.call(e,0)},b={isChrome:function(){return/chrome/i.test(navigator.userAgent)},isFirefox:function(){return/firefox/i.test(navigator.userAgent)},isIE:function(){},isEdge:function(){return/edge/i.test(navigator.userAgent)}},w=function(){},E=function(){},D=function(){},C=function(){},k="linearGradient, radialGradient, pattern, mask, clipPath",S=function(){};function(){}var T=o.xlink.uri,O="xlink:href",P=/[{}|\\\^\[\]`"<>]/g;function(){}function L(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function(){}var I=["clipPath","colorProfile","src","cursor","fill","filter","marker","markerStart","markerMid","markerEnd","mask","stroke","style"],B=I.map((function(e){return"["+e+"]"})).join(","),N=function(){},F={MOUNT:"mount",SYMBOL_MOUNT:"symbol_mount"};return function(e){function(){}e&&(n.__proto__=e),n.prototype=Object.create(e&&e.prototype),n.prototype.constructor=n;var o={isMounted:{}};return o.isMounted.get=function(){return!!this.node},n.prototype._autoConfigure=function(){},n.prototype._handleLocationChange=function(){},n.prototype.add=function(){},n.prototype.attach=function(){},n.prototype.destroy=function(){},n.prototype.mount=function(){},n.prototype.render=function(){return g(this.stringify())},n.prototype.unmount=function(){this.node.parentNode.removeChild(this.node)},n.prototype.updateUrls=function(){},Object.defineProperties(n.prototype,o),n}(h)}()},87854:function(e,t,n){e.exports=function(){"use strict";var e=function(){};e.prototype.stringify=function(){return this.content},e.prototype.toString=function(){return this.stringify()},e.prototype.destroy=function(){};var t=function(){};function r(e,t){return e(t={exports:{}},t.exports),t.exports}"undefined"!=typeof window?window:void 0!==n.g?n.g:"undefined"!=typeof self&&self;var o=r((function(e,t){!function(t,n){e.exports=n()}(0,(function(){}))})),i=r((function(){})),a=function(){},s=i.svg,l=i.xlink,u={};u[s.name]=s.uri,u[l.name]=l.uri;var c=function(){};return function(){}(e)}()},11317:function(e){e.exports=function(){"use strict";class e{constructor(e=0,t=0){this.first=null,this.items=Object.create(null),this.last=null,this.max=e,this.size=0,this.ttl=t}clear(){return this.first=null,this.items=Object.create(null),this.last=null,this.size=0,this}deleteevictgetset(e,t,n=!1){let r;if(n||this.has(e)){if(r=this.items[e],r.value=t,!1===n&&(r.expiry=this.ttl>0?(new Date).getTime()+this.ttl:this.ttl),this.last!==r){const e=this.last,t=r.next,n=r.prev;this.first===r&&(this.first=r.next),r.next=null,r.prev=this.last,e.next=r,null!==n&&(n.next=t),null!==t&&(t.prev=n)}}else this.max>0&&this.size===this.max&&this.evict(),r=this.items[e]={expiry:this.ttl>0?(new Date).getTime()+this.ttl:this.ttl,key:e,prev:this.last,next:null,value:t},1==++this.size?this.first=r:this.last.next=r;return this.last=r,this}}return function(t=1e3,n=0){if(isNaN(t)||t<0)throw new TypeError("Invalid max value");if(isNaN(n)||n<0)throw new TypeError("Invalid ttl value");return new e(t,n)}}()},72209:(e,t,n)=>{"use strict";n.d(t,{TaskQueue:()=>s});var r,o=n(70655),i=n(94795),a=n.n(i);!function(e){e.EV_GC_START="ev_gc_start",e.EV_GC_END="ev_gc_end",e.EV_PAUSED="ev_paused",e.EV_RESTARTED="ev_restarted",e.EV_NEW_HANDLER="ev_new_handler",e.EV_RM_HANDLER="ev_rm_handler",e.EV_TASK_START="ev_task_start"}(r||(r={}));var s=function(){function e(e){var t=this;void 0===e&&(e=function(){}),this._errorHandler=e,this._timerInterval=15,this._handlers=Object.create(null),this._emitter=new(a()),this._q=[],this.destroy=function(){},this.pause=function(){t._timer&&(clearTimeout(t._timer),t._timer=void 0,t._emitter.emit(r.EV_PAUSED))},this.restart=function(){t._timer||(t._next(),t._emitter.emit(r.EV_RESTARTED))},this.push=function(){},this.setHandler=function(e,n,o){void 0===o&&(o=!1),n.once=o,t._handlers[e]=n,t._emitter.emit(r.EV_NEW_HANDLER,e)},this.removeHandler=function(e){delete t._handlers[e],t._emitter.emit(r.EV_RM_HANDLER,e)},this._next()}return Object.defineProperty(e.prototype,"events",{get:function(){return this._emitter},enumerable:!1,configurable:!0}),e.migrate=function(t,n){void 0===n&&(n=function(){});var r=new e(n);return r.pause(),t&&t.destroy&&t._handlers&&t._q&&(t.destroy(),Object.keys(t._handlers).forEach((function(e){var n=t._handlers[e];r.setHandler(e,n,n.once)})),t._q.forEach((function(e){return r.push(e)}))),r.restart(),r},e.prototype.setupGc=function(t){this._gcTimer&&clearInterval(this._gcTimer),this._gcTimer=setInterval(this._gcTask.bind(this),t||e._gcDefaultInterval)},e.prototype._next=function(e){void 0===e&&(e=!1),this._timer=setTimeout(this._processNext.bind(this),e?0:this._timerInterval)},e.prototype._gcTask=function(){this.pause(),this._emitter.emit(r.EV_GC_START);var e=this._q.filter((function(e){return e.postponed}));this._q=this._q.filter((function(e){return!e.postponed})),this._emitter.emit(r.EV_GC_END,e),this.restart()},e.prototype._processNext=function(){var e=this,t=(0,o.__read)(this._q.splice(0,1),1)[0];if(t){var n,i=this._handlers[t.selector];if((null==i?void 0:i.once)&&this.removeHandler(t.selector),!i)return t.postponed||(t.postponed=!0),this._q.push(t),void(this._timer&&this._next());this._emitter.emit(r.EV_TASK_START,t.selector),window._tqVerbose&&console.info("Running evbus task",t.selector);try{n=Promise.resolve(i(t))}catch(e){n=Promise.reject(e)}n.then((function(){e._next(!0)}),(function(n){e._errorHandler&&e._errorHandler(t,n),e._next(!0)}))}else this.pause()},e._gcDefaultInterval=5e3,e}()},28533:(e,t,n)=>{"use strict";n.d(t,{init:()=>r.init,tq:()=>r.tq,processExecData:()=>o.processExecData});var r=n(57542),o=n(46333)},57542:(e,t,n)=>{"use strict";n.d(t,{init:()=>c,tq:()=>f,tqi:()=>p,tqs:()=>h});var r=n(72209),o=n(46333),i=n(11386),a=function(e,t){var n={message:"Task execution error",data:{taskName:e.selector,type:void 0===e.payload.dataAttrs?"startup_task":"interactive_task",params:JSON.stringify(void 0===e.payload.dataAttrs?e.payload.data:e.payload.dataAttrs)}};(0,i.logError)(t,{environment:"task_queue",breadcrumb:n}),console.error(t)},s=function(){},l=function(e){document.addEventListener("DOMContentLoaded",e),"interactive"!==document.readyState&&"complete"!==document.readyState||e()},u=function(){return l((function(){(0,o.unregisterGlobalTqHandlers)(document.body,s()._tqhl),s()._tqhl=(0,o.registerGlobalTqHandlers)(document.body)}))},c=function(){var e=s();e._tq?(e._tqi=r.TaskQueue.migrate(e._tqi,a),e._tqs=r.TaskQueue.migrate(e._tqs,a),u()):function(){var e=s();e._tqs=new r.TaskQueue(a),e._tqi=new r.TaskQueue(a),u(),e._tq={setInteractiveHandler:function(t,n,r){return void 0===r&&(r=!1),e._tqi.setHandler(t,n,r)},setStartupHandler:function(t,n,r){void 0===r&&(r=!1),e._tqs.setHandler(t,n,r),l((function(){e._tqs.setupGc(),e._tqs.restart()}))}},l((function(){e._tqi.setupGc(),(0,o.initMutationObserver)(),(0,o.processTreeOfNodes)(document)})),(0,o.registerCommonEvents)()}()},d=function(e){return function(){var t=s();if(!t["_"+e])throw new Error(e+" not initialized");return t["_"+e]}},f=d("tq"),p=d("tqi"),h=d("tqs")},46333:(e,t,n)=>{"use strict";n.d(t,{processExecData:()=>l,processTreeOfNodes:()=>d,initMutationObserver:()=>f,registerCommonEvents:()=>p,registerGlobalTqHandlers:()=>h,unregisterGlobalTqHandlers:()=>_});var r=n(70655),o=n(57542),i={click:1,mouseover:1,mouseout:1,keyup:1,keydown:1,change:1,paste:1},a=["focus"],s=function(e){return function(t){var n;if(t.type===e&&t.target&&e&&(n=t.target.nodeType===Node.TEXT_NODE?t.target.parentNode:t.target,r=n,!Object.keys(r).some((function(){}))&&n.dataset)){var r,i=n.dataset["task"+(e.toUpperCase()[0]+e.slice(1))];if(!i){if("click"!==t.type)return;var a=n.closest("[data-task-click]");if(!a)return;n=a,i=a.dataset["task"+(e.toUpperCase()[0]+e.slice(1))]}return i&&((0,o.tqi)().push({selector:i,payload:{target:n,dataAttrs:n.dataset,event:t},postponed:!1,createTime:Date.now()}),n.dataset.prevent)?(t.preventDefault(),!1):void 0}}},l=function(e,t){var n={};try{n=JSON.parse(e)}catch(t){console.error("Failed to parse JSON: ",e)}for(var r in n)n.hasOwnProperty(r)&&(0,o.tqs)().push({selector:r,payload:{target:t,data:n[r]},postponed:!1,createTime:Date.now()})},u=function(e){if(e.matches("[data-exec]")){var t=e.dataset.exec||"{}";e.removeAttribute("data-exec"),l(t,e)}},c=function(e){var t,n,i,s=function(t){var n="data-task-"+t;if(e.hasAttribute(n)){var r=null!==(i=e.getAttribute(n))&&void 0!==i?i:"";e.removeAttribute(n),e.addEventListener(t,(function(t){var n=(0,o.tqi)()._handlers[r];Promise.resolve(null).then((function(){return null==n?void 0:n({selector:r,payload:{dataAttrs:{},target:e,event:t},postponed:!1,createTime:Date.now()})})).catch((function(e){return console.error(e)}))}))}};try{for(var l=(0,r.__values)(a),u=l.next();!u.done;u=l.next()){s(u.value)}}catch(e){t={error:e}}finally{try{u&&!u.done&&(n=l.return)&&n.call(l)}finally{if(t)throw t.error}}},d=function(e){var t,n,o,i,s,l;void 0===e&&(e=document);try{for(var d=(0,r.__values)(e.querySelectorAll("[data-exec]")),f=d.next();!f.done;f=d.next()){((m=f.value)instanceof HTMLElement||m instanceof SVGElement)&&u(m)}}catch(e){t={error:e}}finally{try{f&&!f.done&&(n=d.return)&&n.call(d)}finally{if(t)throw t.error}}try{for(var p=(0,r.__values)(a),h=p.next();!h.done;h=p.next()){var _=h.value;try{for(var g=(s=void 0,(0,r.__values)(e.querySelectorAll("[data-task-"+_+"]"))),v=g.next();!v.done;v=g.next()){var m;((m=v.value)instanceof HTMLElement||m instanceof SVGElement)&&c(m)}}catch(e){s={error:e}}finally{try{v&&!v.done&&(l=g.return)&&l.call(g)}finally{if(s)throw s.error}}}}catch(e){o={error:e}}finally{try{h&&!h.done&&(i=p.return)&&i.call(p)}finally{if(o)throw o.error}}},f=function(){window._obs=new MutationObserver((function(e){var t,n,o,i;try{for(var a=(0,r.__values)(e),s=a.next();!s.done;s=a.next()){var l=s.value;try{for(var f=(o=void 0,(0,r.__values)(l.addedNodes)),p=f.next();!p.done;p=f.next()){var h=p.value;(h instanceof HTMLElement||h instanceof SVGElement)&&(u(h),c(h),d(h))}}catch(e){o={error:e}}finally{try{p&&!p.done&&(i=f.return)&&i.call(f)}finally{if(o)throw o.error}}}}catch(e){t={error:e}}finally{try{s&&!s.done&&(n=a.return)&&n.call(a)}finally{if(t)throw t.error}}})),window._obs.observe(document,{subtree:!0,childList:!0,attributes:!0})},p=function(){(0,o.tqi)().setHandler("Common/nav_go",(function(e){var t,n;(null===(t=e.payload.event)||void 0===t?void 0:t.target)&&window.nav.go(e.payload.event.target,e.payload.event,JSON.parse((null===(n=e.payload.dataAttrs)||void 0===n?void 0:n.options)||"{}"))}),!1),(0,o.tqi)().setHandler("Common/cur_box_hide",(function(){var e,t,n=null===(e=window._message_boxes)||void 0===e?void 0:e[null===(t=window.boxQueue)||void 0===t?void 0:t.curBox],r=(null==n?void 0:n.isVisible())?n:null;null==r||r.hide()}),!1)},h=function(e){var t={};for(var n in i)if(i.hasOwnProperty(n)){var r=s(n);e.addEventListener(n,r),t[n]=r}return t},_=function(){}},68660:(e,t,n)=>{"use strict";n.d(t,{post:()=>o});var r=n(70655);n(82408);function o(e,t,n){return t&&(t.im_v=3),new Promise((function(o,i){window.ajax.post(e,t,{timeout:n,onDone:function(){o.apply(null,[(0,r.__spreadArray)([],(0,r.__read)(arguments))])},onFail:function(){return i.apply(null,(0,r.__spreadArray)([],(0,r.__read)(arguments))),!0}})}))}},12459:(e,t,n)=>{"use strict";function(){}n.d(t,{emptyNode:()=>r,setGlobalCustomProperty:()=>o});var o=function(e,t){document.documentElement.style.setProperty(e,t)}},89722:(e,t,n)=>{"use strict";n.d(t,{logError:()=>i,debugBufferLog:()=>a});var r=n(98609),o=n(85124);function i(e,t){if(void 0===t&&(t={}),null===window||void 0===window?void 0:window.Raven){var n=t.breadcrumb,i=t.environment;n&&window.Raven.captureBreadcrumb({message:n.message,category:o.customBreadcrumbCategory,data:n.data}),i?window.Raven.captureException(e,{environment:i}):window.Raven.captureException(e),(0,r.logError)(e,t)}}function(){}},2013:(e,t,n)=>{"use strict";n.d(t,{isStuckError:()=>_,pruneRequestFromStuckErrors:()=>g});var r,o,i=n(70655),a=n(86353),s=n(36726),l=n(42604),u="mvk"===(null===(o=null===(r=window.vk)||void 0===r?void 0:r.statsMeta)||void 0===o?void 0:o.platform)&&(0,a.partConfigEnabled)("mute_mvk_err_peaks"),c=n(11317),d=10,f=u&&c(d),p=u&&c(d,5e3),h=function(e){var t=e.value,n=e.stacktrace,r=e.file,o=e.page;return[t,n.join(""),r,o].join("_")},_=function(e){if(!u||!p||!f)return!1;var t=h(e),n=(0,i.__read)([f.get(t)||0,p.get(t)||0],2),r=n[0],o=n[1];return f.set(t,++r),p.set(t,++o),o>=d||r>=50},g=u?function(e){var t,n,r=Date.now(),o="jsErrorLogs",a=(0,s.getWebStatsStringValue)(o,e);if(((null===(t=a.match(new RegExp("},{","g")))||void 0===t?void 0:t.length)||0)<d)return e;try{n=JSON.parse(a)}catch(e){(0,l.logProcessingTime)(1,"dedupe-fail")}if(!n)return e;var u=Object.values(n.reduce((function(e,t){var n,r=h(t),o=e[r]||[];return(0,i.__assign)((0,i.__assign)({},e),((n={})[r]=o.length<d?o.concat(t):o,n))}),{})),c=e.replace('"jsErrorLogs":'+a,'"jsErrorLogs":'+JSON.stringify([].concat.apply([],u))),f=Date.now()-r;return f>16&&(0,l.logProcessingTime)(f,"dedupe"),c}:function(e){return e}},11386:(e,t,n)=>{"use strict";n.d(t,{logError:()=>r.logError,debugBufferLog:()=>r.debugBufferLog});n(1479);var r=n(89722)},1479:,40469:(e,t,n)=>{"use strict";n.d(t,{NarrativeAnalyticEventType:()=>r,NarrativeAnalyticNavScreen:()=>o,sendNarrativeAnalytic:()=>s});var r,o,i=n(86900),a=n(86353);function s(e,t,n){var r;void 0===n&&(n=o.other);var s=(null==t?void 0:t.title)||void 0,l=(null==t?void 0:t.customCover)?0:(null==t?void 0:t.coverStoryId)||0,u=(null==t?void 0:t.id)||0,c=(null==t?void 0:t.ownerId)||0,d=null===(r=null==t?void 0:t.stories)||void 0===r?void 0:r.map((function(e){return e.id})),f={event_type:e,nav_screen:n,narrative_owner_id:c,narrative_id:u,narrative_title:s,story_ids:(null==d?void 0:d.length)?d:void 0,cover_story_id:l};(0,i.statlogsValueEvent)("narrative_product_analytic",f),(0,a.partConfigEnabled)("narratives_web_analytic_debug")&&console.log("-- narrative analytic",f)}!function(){}(r||(r={})),function(e){e.storyArchive="story_archive",e.storyViewer="story_viewer",e.profile="profile",e.feedBlock="narratives_feed_block",e.club="club",e.other="other"}(o||(o={}))},20453:(e,t,n)=>{"use strict";n.d(t,{parseJSON:()=>i});var r=n(11386),o=n(85124);function i(e){try{return JSON.parse(e)}catch(n){var t={environment:"parseJsonError",breadcrumb:{message:"Uncaught json parse error",data:{json:e},category:o.customBreadcrumbCategory}};return(0,r.logError)(n,t),{}}}},85124:(e,t,n)=>{"use strict";n.d(t,{PROTECTED_MODULE_NAME_TAG:()=>i,topErrorModuleName:()=>a,customBreadcrumbCategory:()=>s});var r,o=n(30360);!function(e){e.ERROR_OF_EXTENSION="ErrorOfExtension",e.KNOWN_ISSUE="KnownIssue"}(r||(r={}));var i="__protectedModuleName",a="genericVkError",s="custom";(0,o.getFunctionName)(void 0),["chrome","moz","safari","safari-web"].map((function(e){return e+"-extension://"}))},98609:(e,t,n)=>{"use strict";n.d(t,{logError:()=>i});var r=n(62844),o=n(85124);function i(e,t){var n=void 0===t?{}:t,i=n.breadcrumb,a=n.environment,s=n.hasDummyStacktrace,l=(0,r.getGlobalObject)();if(null==l?void 0:l.Sentry)return s&&"object"==typeof e&&(null==e?void 0:e.stack)&&delete e.stack,l.Sentry.captureException(e,(function(e){var t,n,r=a||(null===(n=l.cur)||void 0===n?void 0:n.module);return r&&e.setTags(((t={module:r})[o.PROTECTED_MODULE_NAME_TAG]=!0,t)),i&&e.addBreadcrumb({message:i.message,category:o.customBreadcrumbCategory,data:i.data}),e}))}},36557:(e,t,n)=>{"use strict";n.d(t,{isMvk:()=>r,loadImage:()=>o,getCroppedImage:()=>i});n(70655);function r(){return!!window.isMVK}function o(e){return new Promise((function(t,n){var r=new Image;r.crossOrigin=e.startsWith("data:")?null:"Anonymous",r.onerror=function(){},r.onload=function(){return t(r)},r.src=e}))}function i(e,t,n,r,i,a){return void 0===a&&(a=0),new Promise((function(s,l){("string"==typeof e?o(e):Promise.resolve(e)).then((function(e){var u=document.createElement("canvas");u.width=90===a||270===a?e.naturalHeight:e.naturalWidth,u.height=90===a||270===a?e.naturalWidth:e.naturalHeight;var c=u.getContext("2d");if(c){c.fillStyle="#fff",c.fillRect(0,0,c.canvas.width,c.canvas.height),a?(c.translate(u.width/2,u.height/2),c.rotate(a*Math.PI/180),c.drawImage(e,-e.naturalWidth/2,-e.naturalHeight/2)):c.drawImage(e,0,0);var d=c.getImageData(t,n,r,i),f=document.createElement("canvas");f.width=r,f.height=i;var p=f.getContext("2d");if(p)return p.putImageData(d,0,0),o(f.toDataURL("image/jpeg",1)).then(s).catch(l);s(e)}else s(e)})).catch(l)}))}},90302:(e,t,n)=>{"use strict";n.d(t,{vkLocalStorage:()=>c,vkSessionStorage:()=>f});var r,o=function(){function e(){var e=this;this.data={},this.getItem=function(){},this.keys=function(){return Object.keys(e.data)}}return e.prototype.setItem=function(){},e.prototype.removeItem=function(e){delete this.data[e]},e.prototype.clear=function(){this.data={}},Object.defineProperty(e.prototype,"length",{get:function(){return Object.keys(this.data).length},enumerable:!1,configurable:!0}),e.prototype.key=function(){},e}(),i="vk-ls-dummy",a=Math.random().toString();function s(e){var t=!1;try{var n=window[e];n.setItem(i,a),t=a===n.getItem(i),n.removeItem(i)}catch(e){return!1}return t}function l(){return r||(r=s("localStorage")?window.localStorage:new o)}var u,c={setItem:function(e,t){return l().setItem(e,t)},getItem:function(e){return l().getItem(e)},removeItem:function(e){return l().removeItem(e)},clear:function(){return l().clear()},length:function(){return l().length},key:function(e){return l().key(e)},keys:function(){var e=l();return e instanceof o?e.keys():Object.keys(e)},getPrefixedKeys:function(e){return c.keys().filter((function(t){return t.startsWith(e)}))}};function d(){return u||(u=s("sessionStorage")?window.sessionStorage:new o)}var f={setItem:function(e,t){return d().setItem(e,t)},getItem:function(e){return d().getItem(e)},removeItem:function(e){return d().removeItem(e)},clear:function(){return d().clear()},length:function(){},key:function(e){return d().key(e)},keys:function(){var e=d();return e instanceof o?e.keys():Object.keys(e)},getPrefixedKeys:function(){}}},27067:(e,t,n)=>{"use strict";n.d(t,{saveStats:()=>v});var r,o=n(70655),i=n(36726),a=n(37607),s=n(42604),l=n(14561),u=n(2013),c=n(35004),d=1e4,f=0,p=function(){return f*d},h=function(){return!(Date.now()-(0,i.getLastSendTime)()>45e3+p())},_=function(){},g=function(){!0!==r&&(clearTimeout(r),r=window.setTimeout((function(){var e=(0,i.getWebStatDataLs)();_(),e.length>i.emptyStatsDataLs.length&&v(e)}),Math.max(d,(0,i.getLastSendTime)()+45e3-Date.now()+p())))};function v(e,t){var n=e.length>=s.MAX_BODY_SIZE,p=(null==t?void 0:t.force)||n;return!p&&(r||h()||e.length<=i.emptyStatsDataLs.length)?((0,a.logWebStatsEvent)("WebStats delayed.",r),g()):(r=!0,function(e,t){var n=function(){};return(null==t?void 0:t.force)?n(0):window.requestIdleCallback((function(){return n(d)}),{timeout:5e3})}((function(){var e=(0,i.getWebStatDataLs)();if(p||!0===r&&!h()&&e.length>i.emptyStatsDataLs.length)return(0,i.setLastSendTime)(),function(e){var t=window.vk.wsTransport+"/web-stats/"+(window.vk.statsMeta.st?"s":"p"),n=e.length>s.MAX_BODY_SIZE,r=n?(0,c.getMaximumWebStats)(e):e,o=!1;if(!r)return _(),(0,i.clearLsData)();var a=new XMLHttpRequest;a.withCredentials=t.includes("tau.vk.com"),a.onreadystatechange=function(){if(a.readyState===XMLHttpRequest.DONE){var t=Date.now();a.status<500&&(n&&200===a.status?Object.keys((0,i.getEmptyStatsData)()).forEach((function(e){return(0,l.pullFromWebStats)(e,r)})):(0,i.clearLsData)(),f=0,o=!0),(n||400===a.status)&&(0,s.logProcessingTime)(Date.now()-t,(n?"prune":"clean")+(400===a.status?"-fail":""),(e.length>>>20)+"M "+(r.length>>>20)+"M"),_(),g()}},a.onerror=function(){return!o&&(0,i.clearLsData)()},a.open("POST",t,!0),a.setRequestHeader("Content-Type","application/json;charset=UTF-8"),a.send((0,u.pruneRequestFromStuckErrors)((0,s.appendStatsMeta)(++f,r)))}(e);clearTimeout(Number(r)),_(),g()}),(0,o.__assign)((0,o.__assign)({},t),{force:p})))}},35004:(e,t,n)=>{"use strict";n.d(t,{getMaximumWebStats:()=>a});var r=n(70655),o=n(36726),i=n(42604),a=function(e){var t=Date.now(),n=function(e){return"{"+(null==e?void 0:e.map((function(e){var t=(0,r.__read)(e,2);return'"'+t[0]+'":'+t[1]})).join(","))+"}"},a=(0,r.__read)(Object.keys((0,o.getEmptyStatsData)()).reduce((function(t,n){var i=(0,o.getWebStatsStringValue)(n,e);return"[]"===i?t:(0,r.__spreadArray)((0,r.__spreadArray)([],(0,r.__read)(t)),[[n,i]])}),[]).sort((function(e,t){var n=(0,r.__read)(e,2)[1];return(0,r.__read)(t,2)[1].length-n.length})).reduce((function(e,t){var o=(0,r.__read)(e,2),a=o[0],s=o[1],l=(0,r.__read)(t,2),u=l[0],c=l[1],d=[[u,c]];return c.length+n(a).length<i.MAX_BODY_SIZE?[a.concat(d),s]:[a,s.concat(d)]}),[[],[]]),2),s=a[0],l=a[1],u=n(s);if((0,i.logProcessingTime)(Date.now()-t,"chunk"),Date.now()-t<500&&l[0]&&u.length<.1*i.MAX_BODY_SIZE){var c=Date.now();try{var d=function(e,t){var n=(0,r.__read)(t,2),o=n[0],a=n[1],s='{"'+o+'":['+JSON.parse(a).reduce((function(t,n,r){return t.length<i.MAX_BODY_SIZE-e.length?t+(0===r?"":",")+JSON.stringify(n):t}),"")+"]}";return"{}"===e?s:(0,i.concatJSONS)(e,s)||e}(u,l.reverse()[0]);return(0,i.logProcessingTime)(Date.now()-c,"batch"),d}catch(e){return(0,i.logProcessingTime)(Date.now()-c,"batch-fail"),""}}return u}},24961:,42604:(e,t,n)=>{"use strict";n.d(t,{MAX_BODY_SIZE:()=>a,concatJSONS:()=>l,appendStatsMeta:()=>u,makeWebStatsRequest:()=>c,logProcessingTime:()=>d});var r=n(70655),o=n(86900),i=n(2013),a=1.8*Math.pow(10,6),s=function(){},l=function(e,t){return[e,t].every(s)?e.slice(0,-1)+","+t.substring(1):"{}"},u=function(e,t){var n=window.vk,o=n.id,i=n.statsMeta,a=i.st,u=i.platform,c=(0,r.__rest)(i,["st","platform"]);return l(JSON.stringify({id:o,st:a,platform:u,attempt:e,signTime:c.time,sign:c.hash}),s(t)?t:"{}")},c=function(e,t){return e=e||window.vk.wsTransport+"/web-stats/"+(window.vk.statsMeta.st?"s":"p"),new Promise((function(n,r){var o=new XMLHttpRequest;o.open("POST",e),e.includes("tau.vk.com")&&(o.withCredentials=!0),o.onload=function(){return this.status>=200&&this.status<300?n(o.response):r({status:this.status,statusText:o.statusText})},o.onerror=function(){return r({status:this.status,statusText:o.statusText})},o.setRequestHeader("Content-Type","application/json;charset=UTF-8"),o.send((0,i.pruneRequestFromStuckErrors)("string"==typeof t?t:JSON.stringify(t)))}))};function d(e,t,n){(0,o.statlogsValueEvent)("web_stats_batching_time",e,window.vk.statsMeta.platform,t,n)}},14561:(e,t,n)=>{"use strict";n.d(t,{pullFromWebStats:()=>c,saveJsErrorLogs:()=>f,saveStatlogEvents:()=>p,saveProductionStats:()=>h,saveNetworkStats:()=>_,saveWebPerfStats:()=>g});var r=n(70655),o=n(36726),i=n(72135),a=n(37607),s=n(86353),l=n(27067),u=n(90302),c=function(e,t){var n=(0,o.getWebStatsStringValue)(e,t);if("[]"!==n){var r=(0,o.getWebStatDataLs)().replace(n.slice(1,-1),"").replace(/\[\,/,"[");(0,o.writeLocked)((function(){}))}},d=function(e,t,n,r){if((0,s.partConfigEnabled)("batchify_web_stats")){var c=function(e,t){var n=(0,o.getWebStatsStringValue)(e);return(0,o.getWebStatDataLs)().replace('"'+e+'":'+n,'"'+e+'":'+n.replace(/]$/,("[]"===n?"":",")+JSON.stringify(t)+"]"))}(t,n);(0,o.writeLocked)((function(){return u.vkLocalStorage.setItem(o.lsDataKey,c)})),(0,l.saveStats)(c,r)}else(0,o.writeLocked)((function(){var e=(0,o.fetchDataFromLs)().webStatsData;e[t].push(n),(0,i.saveStats)(e)}));(0,a.logWebStatsEvent)(e,n)},f=function(e){return d("saveJsErrorLogs","jsErrorLogs",e)},p=function(e){var t=e.name,n=e.value,o=e.keys,i=(0,r.__spreadArray)([Math.round(Number(Date.now())/1e3),t,n],(0,r.__read)(o));return(0,s.partConfigEnabled)("web_stats_transport_debugger")&&console.log("Data was transformed!"),d("saveStatlogEvents","statlogEvents",i)},h=function(e,t){return d("saveProductionStats","productionStats",e,t)},_=function(e){return d("saveNetworkStats","networkStats",e)},g=function(){}},37607:(e,t,n)=>{"use strict";n.d(t,{logWebStatsEvent:()=>o});var r=n(86353);function o(e,t){(0,r.partConfigEnabled)("web_stats_transport_debugger")&&console.log("[new transport debug] "+e,t)}},36726:(e,t,n)=>{"use strict";n.d(t,{lsDataKey:()=>a,getEmptyStatsData:()=>u,emptyStatsDataLs:()=>c,writeLocked:()=>d,getWebStatDataLs:()=>f,serializeDataToLs:()=>p,getWebStatsStringValue:()=>h,fetchDataFromLs:()=>_,clearLsData:()=>g,setLastSendTime:()=>v,getLastSendTime:()=>m,getWebStatsItemsCount:()=>y});var r=n(90302),o=n(37607),i=(0,n(36557).isMvk)()?"mvk":"web",a="XHR_STATS_TRANSPORT_DATA_"+i,s="XHR_STATS_TRANSPORT_META_"+i,l="XHR_STATS_TRANSPORT_DATA_LOCK_"+i,u=function(){return{jsErrorLogs:[],statlogEvents:[],productionStats:[],storyViewStats:[],networkStats:[],customStats:[],webPerfStats:[]}},c=JSON.stringify(u());function d(e){if("locked"!==r.vkSessionStorage.getItem(l)){(0,o.logWebStatsEvent)("writeLocked","lock"),r.vkSessionStorage.setItem(l,"locked");try{e()}catch(e){}return(0,o.logWebStatsEvent)("writeLocked","free"),void r.vkSessionStorage.setItem(l,"free")}setTimeout((function(){return d(e)}),100)}var f=function(){},p=function(){},h=function(e,t){var n;void 0===t&&(t=f());var r,o=Object.keys(u()).filter((function(t){return t!==e})).join("|"),i=(null===(n=null==t?void 0:t.match(new RegExp('"'+e+'":(\\[.*?\\])(?:,"('+o+')":\\[|}$)')))||void 0===n?void 0:n[1])||"";return(r=i).startsWith("[")&&r.endsWith("]")?i:"[]"};function _(){var e,t=!0;try{var n=f();if(!n)throw new Error("empty data");e=u();var r=JSON.parse(n);Object.keys(e).forEach((function(n){Array.isArray(r[n])&&(t=!1,e[n]=r[n])}))}catch(t){e=u()}return{webStatsData:e,isEmpty:t}}function g(e){e&&(0,o.logWebStatsEvent)("WebStats cleared. "+(e?"Reason: LS is broken.":""),e),d((function(){return r.vkLocalStorage.setItem(a,"")}))}function v(e){void 0===e&&(e=Number(new Date)),r.vkSessionStorage.setItem(s,e.toString())}function m(){return parseInt(""+(r.vkSessionStorage.getItem(s)||0))}function y(e){return Object.values(e).reduce((function(){}),0)}},72135:(e,t,n)=>{"use strict";n.d(t,{saveStats:()=>p});var r,o=n(70655),i=n(36726),a=n(37607),s=n(86353),l=n(42604),u=6e4,c=12e4,d=1;function f(e){return!!(0,s.partConfigEnabled)("web_stats_send_on_events_limit")&&(1===d&&(0,i.getWebStatsItemsCount)(e)>300)}function p(e){var t=+new Date,n=(0,i.getLastSendTime)();0===n&&(n=t,(0,i.setLastSendTime)(n));var o,l=t-n,d=l/1e3,p=f(e);(0,a.logWebStatsEvent)("saveStats",{nowMs:t,lastTransferTimeMs:n,timePassed:d+"s",statsData:e}),(0,s.partConfigEnabled)("web_stats_debounce")?((0,i.serializeDataToLs)(e),o=function(e,t){return t?0:0===e||e>u?3e3:c}(l,p),window.clearTimeout(r),r=window.setTimeout((function(){return(0,i.writeLocked)((function(){var e=(0,i.fetchDataFromLs)().webStatsData,t=+new Date;_(e),(0,i.clearLsData)(),(0,i.setLastSendTime)(t)}))}),o)):l>u||p?(_(e),(0,i.clearLsData)(),(0,i.setLastSendTime)(t)):((0,i.serializeDataToLs)(e),window.setTimeout(h,c))}function h(){(0,i.writeLocked)((function(){var e=(0,i.fetchDataFromLs)(),t=e.webStatsData;e.isEmpty||p(t)}))}function _(e){(0,a.logWebStatsEvent)("send",e);var t=window.vk,n=t.id,r=t.wsTransport,s=t.statsMeta,u=r+(window.vk&&window.vk.statsMeta&&window.vk.statsMeta.st?"/web-stats/s":"/web-stats/p"),c=(0,o.__assign)((0,o.__assign)({},e),{id:n,st:s.st,platform:s.platform,signTime:s.time,sign:s.hash,attempt:d});(0,l.makeWebStatsRequest)(u,c).then((function(e){(0,a.logWebStatsEvent)("sendStats success",e),d=1})).catch((function(t){return d++,(0,i.writeLocked)((function(){(0,a.logWebStatsEvent)("sendStats try",d),p(e)})),(0,a.logWebStatsEvent)("sendStats error",t),!0})),(0,i.setLastSendTime)(+new Date)}},48553:(e,t,n)=>{"use strict";n.d(t,{ActionStatCollector:()=>i});var r=n(70655),o=n(36471),i=function(){function e(e){this.productionStatCollector=e}return e.prototype.logEvent=function(e,t){var n,i=(0,r.__assign)((0,r.__assign)({},this.productionStatCollector.getBaseEvent()),((n={type:o.ProductionStatEventTypes.TYPE_ACTION})[o.ProductionStatEventTypes.TYPE_ACTION]=e,n));this.productionStatCollector.logEvent(i,t)},e}()},5473:(e,t,n)=>{"use strict";n.d(t,{AdMiniAppsEventStatsCollector:()=>i});var r=n(36471),o=n(76238),i=function(){function e(){this.productStatCollector=new o.ProductionStatCollector,this.actionStatCollector=new o.ActionStatCollector(this.productStatCollector)}return e.prototype.logEvent=function(e,t){var n,o={mini_app_id:e,event:t},i=((n={type:r.ActionProductionStatEventTypes.TYPE_AD_MINI_APPS_EVENT_ITEM})[r.ActionProductionStatEventTypes.TYPE_AD_MINI_APPS_EVENT_ITEM]=o,n);this.actionStatCollector.logEvent(i)},e}()},8770:(e,t,n)=>{"use strict";n.d(t,{BridgeEventStatsCollector:()=>i});var r=n(36471),o=n(76238),i=function(){function e(){this.productStatCollector=new o.ProductionStatCollector,this.actionStatCollector=new o.ActionStatCollector(this.productStatCollector)}return e.prototype.logEvent=function(e,t,n,o){var i,a={webview_url:e,mini_app_id:t,event:n,error:o},s=((i={type:r.ActionProductionStatEventTypes.TYPE_BRIDGE_EVENT_ITEM})[r.ActionProductionStatEventTypes.TYPE_BRIDGE_EVENT_ITEM]=a,i);this.actionStatCollector.logEvent(s)},e}()},2901:(e,t,n)=>{"use strict";n.d(t,{EasterEggsItemStatCollector:()=>i});var r=n(36471),o=n(76238),i=function(){function e(){this.productStatCollector=new o.ProductionStatCollector,this.actionStatCollector=new o.ActionStatCollector(this.productStatCollector)}return e.prototype.logEvent=function(e,t,n,o){var i,a={egg_id:e,egg_event_id:t,position_id:n,event_type:o},s=((i={type:r.ActionProductionStatEventTypes.TYPE_EASTER_EGGS_ITEM})[r.ActionProductionStatEventTypes.TYPE_EASTER_EGGS_ITEM]=a,i);this.actionStatCollector.logEvent(s)},e}()},5441:(e,t,n)=>{"use strict";n.d(t,{MarketingTransitionItemStatCollector:()=>a});var r=n(36471),o=n(76238),i=n(27813),a=function(){function e(){this.productStatCollector=new o.ProductionStatCollector,this.actionStatCollector=new o.ActionStatCollector(this.productStatCollector)}return e.prototype.logEvent=function(e,t,n,o){var a;void 0===o&&(o="");var s={campaign:e,source:n,event:t,unauth_id:(0,i.getCookie)("remixstid")};o&&(s.url=o);var l=((a={type:r.ActionProductionStatEventTypes.TYPE_MARKETING_TRANSITION_ITEM})[r.ActionProductionStatEventTypes.TYPE_MARKETING_TRANSITION_ITEM]=s,a);this.actionStatCollector.logEvent(l)},e}()},7532:(e,t,n)=>{"use strict";n.d(t,{VkConnectNavigationCollector:()=>a});var r=n(70655),o=n(36471),i=n(76238),a=function(){function(){}return e.prototype.logEvent=function(e,t){var n,i,a=this.productionStatCollector.getBaseEvent(),s=(0,r.__assign)((0,r.__assign)({},a),((n={screen:"main",prev_nav_id:this.lastNavEventId,prev_event_id:a.prev_id||0,type:o.ProductionStatEventTypes.TYPE_ACTION})[o.ProductionStatEventTypes.TYPE_ACTION]=((i={type:o.ActionProductionStatEventTypes.TYPE_VK_CONNECT_NAVIGATION_ITEM})[o.ActionProductionStatEventTypes.TYPE_VK_CONNECT_NAVIGATION_ITEM]=e,i),n));this.lastNavEventId=s.id,this.productionStatCollector.logEvent(s,t)},e.prototype.logServiceNavigationOpen=function(){this.logEvent({event_type:o.IVkConnectNavigationItemEventType.SERVICE_NAVIGATION_OPEN})},e.prototype.logServiceNavigationClose=function(){this.logEvent({event_type:o.IVkConnectNavigationItemEventType.SERVICE_NAVIGATION_CLOSE})},e.prototype.logServiceNavigationClick=function(e,t){this.logEvent({event_type:o.IVkConnectNavigationItemEventType.SERVICE_NAVIGATION_CLICK,fields:[{name:e,str_value:t}]})},e.prototype.logAccountActionsOpen=function(){this.logEvent({event_type:o.IVkConnectNavigationItemEventType.POPUP_OPEN})},e.prototype.logAccountActionsClose=function(){},e.prototype.logAccountActionsEnterLk=function(e){void 0===e&&(e="account_actions"),this.logEvent({event_type:o.IVkConnectNavigationItemEventType.CLICK_ENTER_LK,flow_service:e})},e.prototype.logAccountActionsVkPay=function(e){void 0===e&&(e="account_actions"),this.logEvent({event_type:o.IVkConnectNavigationItemEventType.CLICK_VK_PAY,flow_service:e})},e.prototype.logAccountActionsVkCombo=function(e){void 0===e&&(e="account_actions"),this.logEvent({event_type:o.IVkConnectNavigationItemEventType.CLICK_VK_COMBO,flow_service:e})},e}()},13488:(e,t,n)=>{"use strict";n.d(t,{ClickStatCollector:()=>i});var r=n(70655),o=n(36471),i=function(){function e(e){this.productionStatCollector=e}return e.prototype.logEvent=function(e,t){var n,i=(0,r.__assign)((0,r.__assign)({},this.productionStatCollector.getBaseEvent()),((n={type:o.ProductionStatEventTypes.TYPE_CLICK})[o.ProductionStatEventTypes.TYPE_CLICK]=(0,r.__assign)({item:t},e),n));this.productionStatCollector.logEvent(i)},e}()},99886:(e,t,n)=>{"use strict";n.d(t,{VkAppsActionMenuStatsCollector:()=>i});var r=n(36471),o=n(76238),i=function(){function e(){this.productStatCollector=new o.ProductionStatCollector,this.clickStatCollector=new o.ClickStatCollector(this.productStatCollector)}return e.prototype.logEvent=function(e,t,n){var o,i={type:n},a=((o={type:r.ClickProductionStatEventTypes.TYPE_MINI_APP_ITEM})[r.ClickProductionStatEventTypes.TYPE_MINI_APP_ITEM]=i,o),s={type:t,id:e};this.clickStatCollector.logEvent(a,s)},e}()},76238:(e,t,n)=>{"use strict";n.d(t,{NavigationStatCollector:()=>c.NavigationStatCollector,ProductionStatCollector:()=>d.ProductionStatCollector,ActionStatCollector:()=>f.ActionStatCollector,ClickStatCollector:()=>p.ClickStatCollector,ViewStatCollector:()=>h.ViewStatCollector,RegistrationItemStatCollector:()=>_.RegistrationItemStatCollector,NavigationProductionStatEventTypes:()=>g.NavigationProductionStatEventTypes,RegistrationFieldItemNames:()=>g.RegistrationFieldItemNames,RegistrationItemEventTypes:()=>g.RegistrationItemEventTypes,EventScreens:()=>g.EventScreens,EventFieldValues:()=>g.EventFieldValues,marketingTransitionItemStat:()=>v,vkConnectNavigationCollector:()=>m});var r=n(5441),o=n(8770),i=n(2901),a=n(99886),s=n(78927),l=n(7532),u=n(5473),c=n(80203),d=n(57509),f=n(48553),p=n(13488),h=n(71168),_=n(43130),g=n(36471),v=new r.MarketingTransitionItemStatCollector,m=(new i.EasterEggsItemStatCollector,new o.BridgeEventStatsCollector,new u.AdMiniAppsEventStatsCollector,new a.VkAppsActionMenuStatsCollector,new s.MiniAppsEventStatsCollector,new l.VkConnectNavigationCollector)},80203:(e,t,n)=>{"use strict";n.d(t,{NavigationStatCollector:()=>s});var r=n(70655),o=n(36471),i=n(11386),a=n(86353),s=function(){function e(e){this.ProductionStatCollector=e,this.tabId=this.ProductionStatCollector.getIntId()%128}return e.prototype.logEvent=function(e){var t,n=(0,r.__assign)((0,r.__assign)({},this.ProductionStatCollector.getBaseEvent()),((t={type:o.ProductionStatEventTypes.TYPE_NAVGO})[o.ProductionStatEventTypes.TYPE_NAVGO]=e,t));return this.ProductionStatCollector.logEvent(n),{statEvent:n}},e.prototype.getEventTabOpen=function(e){return{subtype:o.NavigationProductionStatEventTypes.TAB_OPEN,tab_id:this.tabId,screen:e}},e.prototype.getEventMove=function(e,t){var n,r,a=this.lastStatEvents,s=this.lastNavEvents;return a&&s?(s.subtype===o.NavigationProductionStatEventTypes.TAB_OPEN?n=s.screen:(n=s.screen_to,r=s.screen),{prev_navgo_id:a.id,subtype:t,screen:n,screen_to:e,screen_prev:r,prev_navgo_timestamp:a.timestamp,tab_id:this.tabId}):((0,i.logError)(new Error("NavigationStatCollector: previous event not found.")),null)},e.prototype.addStatEvent=function(e,t){if(void 0===t&&(t=o.NavigationProductionStatEventTypes.GO),(0,a.partConfigEnabled)("navigation_timespent")){var n;if(t===o.NavigationProductionStatEventTypes.TAB_OPEN)n=this.getEventTabOpen(e);else{var r=this.getEventMove(e,t);if(!r)return;n=r}var i=this.logEvent(n).statEvent;this.lastStatEvents=i,this.lastNavEvents=n}},e.prototype.getModule=function(){},e}()},57509:(e,t,n)=>{"use strict";n.d(t,{ProductionStatCollector:()=>a});var r=n(11386),o=n(28397),i=n(24961),a=function(){function e(){this.DEBUG=!1}return e.prototype.getCurrentTime=function(e){void 0===e&&(e=!0);var t=Date.now().toString(10);return e?t+"000":t},e.prototype.getIntId=function(){},e.prototype.logEvent=function(e,t){this.DEBUG&&(0,o.log)(e),e.type&&e[e.type]?((0,i.saveProductionStats)(e,t),this.lastEvent=e):(0,r.logError)(new Error("ProductionStatCollector: invalid event."))},e.prototype.getLastEvent=function(){return this.lastEvent},e.prototype.getBaseEvent=function(){var e;return{id:this.getIntId(),prev_id:null===(e=this.lastEvent)||void 0===e?void 0:e.id,timestamp:this.getCurrentTime(),url:window.location.href}},e.MAX_INT32=2147483647,e}()},43130:(e,t,n)=>{"use strict";n.d(t,{RegistrationItemStatCollector:()=>s});var r=n(70655),o=n(36471),i=n(86353),a=n(27813),s=function(){function e(e){this.actionStatCollector=e,this.fields={}}return e.prototype.logFieldInteraction=function(e,t,n){void 0===n&&(n=!1),[o.RegistrationFieldItemNames.PASSWORD,o.RegistrationFieldItemNames.SMS_CODE,o.RegistrationFieldItemNames.RULES_ACCEPT].includes(e)&&(t=t?"1":"0");var r=n?"0":this.actionStatCollector.productionStatCollector.getCurrentTime(!1),i=this.fields[e];i?(i.value=t,i.end_interaction_time=r):this.fields[e]={name:e,value:t,start_interaction_time:r,end_interaction_time:r}},e.prototype.getFieldInteractions=function(){return Object.values(this.fields)},e.prototype.resetFieldInteractions=function(){var e,t;try{for(var n=(0,r.__values)(Object.getOwnPropertyNames(this.fields)),o=n.next();!o.done;o=n.next()){var i=o.value;delete this.fields[i]}}catch(t){e={error:t}}finally{try{o&&!o.done&&(t=n.return)&&t.call(n)}finally{if(e)throw e.error}}},e.prototype.logEvent=function(e,t,n,r){var s;if((0,i.partConfigEnabled)("registration_item_stat")){var l={event_type:e,screen:t,unauth_id:(0,a.getCookie)("remixstid"),sid:(0,a.getCookie)("remixnreg_sid")};[o.RegistrationItemEventTypes.SCREEN_PROCEED,o.RegistrationItemEventTypes.SCREEN_SKIP,o.RegistrationItemEventTypes.SCREEN_RETURN,o.RegistrationItemEventTypes.INCORRECT_SMS_CODE].includes(e)&&(l.screen_to=n,l.fields=this.getFieldInteractions(),this.resetFieldInteractions()),e!==o.RegistrationItemEventTypes.SELECT_COUNTRY_DONE&&e!==o.RegistrationItemEventTypes.PROCEED_OTHER_COUNTRY_CODE||!this.fields[o.RegistrationFieldItemNames.SELECT_COUNTRY_NAME]||(l.fields=this.getFieldInteractions().filter((function(e){return e.name===o.RegistrationFieldItemNames.SELECT_COUNTRY_NAME})),delete this.fields[o.RegistrationFieldItemNames.SELECT_COUNTRY_NAME]);var u=((s={type:o.ActionProductionStatEventTypes.TYPE_REGISTRATION_ITEM})[o.ActionProductionStatEventTypes.TYPE_REGISTRATION_ITEM]=l,s);this.actionStatCollector.logEvent(u,r)}},e}()},36471:(e,t,n)=>{"use strict";var r,o,i,a,s,l,u,c,d,f,p,h,_,g,v,m,y,b,w,E,D,C,k,S,x;n.d(t,{EventScreens:()=>r,EventFieldValues:()=>o,ProductionStatEventTypes:()=>i,NavigationProductionStatEventTypes:()=>a,ActionProductionStatEventTypes:()=>l,ClickProductionStatEventTypes:()=>u,ViewProductionStatEventTypes:()=>c,EventItemType:()=>_,RegistrationItemEventTypes:()=>v,RegistrationFieldItemNames:()=>m,MarketingTransitionItemCampaignType:()=>y,MarketingTransitionItemEventType:()=>b,IVkConnectNavigationItemEventType:()=>x}),function(){}(r||(r={})),function(e){e.REGISTERED_VIA_FB="1"}(o||(o={})),function(e){e.TYPE_NAVGO="type_navgo",e.TYPE_ACTION="type_action",e.TYPE_CLICK="type_click",e.TYPE_VIEW="type_view"}(i||(i={})),function(e){e.GO="go",e.BACK="back",e.TAB_OPEN="tab_open"}(a||(a={})),function(e){e.TYPE_DONUT_DESCRIPTION_NAV_ITEM="type_donut_description_nav_item",e.TYPE_MARKET_NAVGO="type_market_navgo",e.TYPE_YOULA_SNIPPET_NAVGO="type_youla_snippet_navgo",e.TYPE_STUDIO_NAVGO="type_studio_navgo"}(a||(a={})),function(e){e.TYPE_YOULA_SNIPPET_ITEM="type_youla_snippet_item"}(s||(s={})),function(){}(l||(l={})),function(e){e.TYPE_MARKET_CLICK="type_market_click",e.TYPE_WORKI_CLICK="type_worki_click",e.TYPE_CATALOG_BANNER_ITEM="type_catalog_banner_item",e.TYPE_MINI_APP_ITEM="type_mini_app_item",e.TYPE_MESSAGING_CONTACT_RECOMMENDATIONS_ITEM="type_messaging_contact_recommendations_item",e.TYPE_STUDIO_PERIOD_SELECT="type_studio_period_select"}(u||(u={})),function(e){e.TYPE_CATALOG_BANNER_ITEM="type_catalog_banner_item",e.TYPE_MARKET_VIEW="type_market_view",e.TYPE_MINI_APPS_VIEW_ITEM="type_mini_app_view_item"}(c||(c={})),function(e){e.MARKETPLACE="marketplace",e.MARKETPLACE_BLOCK="marketplace_block",e.MARKETPLACE_SEARCH="marketplace_search"}(d||(d={})),function(e){e.TYPE_MARKET_ORDERS_ITEM="type_market_orders_item",e.TYPE_MARKET_CARTS_ITEM="type_market_carts_item",e.TYPE_MARKET_GOODS_ITEM="type_market_item",e.TYPE_MARKET_MARKETPLACE_ITEM="type_market_marketplace_item"}(f||(f={})),function(e){e.TYPE_WORKI_SNIPPET_ITEM="type_worki_snippet_item"}(p||(p={})),function(e){e.CATALOG_PROMO_BANNER_VIEWED="catalog_promo_banner_viewed"}(h||(h={})),function(){}(_||(_={})),function(e){e.SWITCH_ITEM_VARIANT_1="switch_item_variant_1",e.SWITCH_ITEM_VARIANT_2="switch_item_variant_2",e.OPEN_WIKI="open_wiki"}(g||(g={})),function(){}(v||(v={})),function(){}(m||(m={})),function(e){e.UNAUTH_BOTTOM_BANNER="unauth_bottom_banner",e.UNAUTH_ACTION_BOX="unauth_action_box"}(y||(y={})),function(e){e.OPEN="open",e.CLOSE="close",e.CLICK_SIGN_UP="click_sign_up",e.CLICK_SIGN_IN="click_sign_in",e.CLICK_OPEN_IN_APP="click_open_in_app"}(b||(b={})),function(e){e.LIKE="like",e.SHARE="share",e.MORE="more"}(w||(w={})),function(e){e.ACTION_MENU_SHARE="action_menu_share",e.ACTION_MENU_ADD_TO_FAVOURITES="action_menu_add_to_favourites",e.ACTION_MENU_REMOVE_FROM_FAVOURITES="action_menu_remove_from_favourites",e.ACTION_MENU_ENABLE_NOTIFICATIONS="action_menu_enable_notifications",e.ACTION_MENU_DISABLE_NOTIFICATIONS="action_menu_disable_notifications",e.ACTION_MENU_ALL_APPS="action_menu_all_apps",e.ACTION_MENU_ALL_GAMES="action_menu_all_games",e.ACTION_MENU_COPY="action_menu_copy",e.ACTION_MENU_DELETE="action_menu_delete"}(E||(E={})),function(e){e.CLICK_GAME_CARD="cloud_games_game_click",e.CLICK_DOWNLOAD_GAME="cloud_games_client_download",e.OPEN_SECTION="cloud_games_section_open"}(D||(D={})),function(e){e.SHOW="notifications_request_sent",e.CLOSE="notifications_request_close",e.TIMEOUT_CLOSE="notifications_request_timeout",e.SETTING_OPEN="notifications_request_settings_open"}(C||(C={})),function(e){e.EGG_SHOW="egg_show",e.POPUP_SHOW="popup_show",e.POPUP_ACTION="popup_action"}(k||(k={})),function(e){e.OPEN_MR="OPEN_MR"}(S||(S={})),function(){}(x||(x={}))},71168:(e,t,n)=>{"use strict";n.d(t,{ViewStatCollector:()=>i});var r=n(70655),o=n(36471),i=function(){function e(e){this.productionStatCollector=e}return e.prototype.logEvent=function(e,t){var n,i=(0,r.__assign)((0,r.__assign)({},this.productionStatCollector.getBaseEvent()),((n={type:o.ProductionStatEventTypes.TYPE_VIEW})[o.ProductionStatEventTypes.TYPE_VIEW]=(0,r.__assign)({item:t},e),n));this.productionStatCollector.logEvent(i)},e}()},78927:(e,t,n)=>{"use strict";n.d(t,{MiniAppsEventStatsCollector:()=>a});var r=n(70655),o=n(36471),i=n(76238),a=function(){function e(){this.productStatCollector=new i.ProductionStatCollector,this.viewStatCollector=new i.ViewStatCollector(this.productStatCollector)}return e.prototype.logEvent=function(e,t,n,i){var a;void 0===n&&(n=""),void 0===i&&(i="");var s=(0,r.__assign)((0,r.__assign)({},e),t),l=((a={type:o.ViewProductionStatEventTypes.TYPE_MINI_APPS_VIEW_ITEM})[o.ViewProductionStatEventTypes.TYPE_MINI_APPS_VIEW_ITEM]=s,a.start_view=n,a.end_view=i,a);this.viewStatCollector.logEvent(l,e)},e}()},80576:,19369:(e,t,n)=>{"use strict";n.d(t,{RegistrationFieldItemNames:()=>r.RegistrationFieldItemNames,RegistrationItemEventTypes:()=>r.RegistrationItemEventTypes,EventScreens:()=>r.EventScreens,EventFieldValues:()=>r.EventFieldValues,registrationItemStat:()=>a});var r=n(76238),o=new r.ProductionStatCollector,i=new r.ActionStatCollector(o),a=new r.RegistrationItemStatCollector(i)},21265:(e,t,n)=>{"use strict";function r(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=[];return e.forEach((function(e){if(e)switch(typeof e){case"string":n.push(e);break;case"object":Object.keys(e).forEach((function(t){e[t]&&n.push(t)}));break;default:n.push(""+e)}})),n.join(" ")}n.d(t,{classNames:()=>r})},43158:(e,t,n)=>{"use strict";n.d(t,{initVKComboIndexPromo:()=>i});var r=n(28533),o=n(74854);function i(){(0,r.tq)().setInteractiveHandler("IndexComboPromo/register",(function(e){var t=(e.payload.dataAttrs||{}).source;o.Unauthorized.showMoreBox(null,0,t)}))}},82419:(e,t,n)=>{"use strict";n.d(t,{initJoinForm:()=>p});var r=n(70655),o=n(5456),i=n(14914),a=n(21260),s=n(13020),l=n(60139),u=n(70442),c=n(19369),d=n(73078),f="join_form_sex";function p(e,t){var n,p=t.from,h=t.bdateMonths,_=t.bdateYears,g=t.proceedAs,v=t.fbApp,m=t.fbState,y=t.fbLocale,b=t.ref,w=t.values,E=void 0===w?{}:w,D=t.onSignInClick,C=t.onNotNowClick,k=window.cur.options||{},S=k.bday||0,x=k.bmonth||0,T=k.byear||0;n="invite"===b?c.EventScreens.REGISTRATION_INVITE_CONFIRM:g?c.EventScreens.START_PROCEED_AS:"box"===b?c.EventScreens.START_BOX:c.EventScreens.START,window.cur.eventScreen=n,c.registrationItemStat.logEvent(c.RegistrationItemEventTypes.SCREEN_PROCEED,c.EventScreens.NOWHERE,n,{force:!0});var O,P,A,L=e.querySelector(".JoinForm__error"),M=e.querySelector('.JoinForm__textInput[name="first_name"]'),I=e.querySelector('.JoinForm__textInput[name="last_name"]'),B=e.querySelector(".JoinForm__birthdateDayInput"),N=e.querySelector(".JoinForm__birthdateMonthInput"),F=e.querySelector(".JoinForm__birthdateYearInput"),R=e.querySelector(".JoinForm__sex"),j=e.querySelectorAll(".JoinForm__sexRadio"),U=e.querySelector(".JoinForm__birthdate"),W=e.querySelector(".JoinForm__submitButton"),H=e.querySelector(".JoinForm__facebookLogin"),z=e.querySelector(".JoinForm__facebookLogin .FacebookLogin__button"),K=e.querySelector(".JoinForm__signIn"),V=e.querySelector(".JoinForm__notNowLink");if(M&&I&&W){var q=function(){if(!d.FlatButton.isLocked(W)){var e={fname:M.value.trim(),lname:I.value.trim(),bday:O.val(),bmonth:P.val(),byear:A.val(),from:p,frm:1,event_screen:n};(0,i.isVisible)(R)&&(e.sex=Number((0,o.radioval)(f))||0),window.tooltips&&window.tooltips.hideAll();var t=function(){};L&&(L.innerHTML=""),window.ajax.post("join.php?act=start",e,{onDone:function(e,n){switch(e){case"first_name":return t(M,n),void(0,o.notaBene)(M);case"last_name":return t(I,n),void(0,o.notaBene)(I);case"sex_row":return(0,i.show)(R),void t(R,n);case"birthdate_row":return void t(U,n)}n&&(0,l.showMsg)(L,n,"error",!0)},showProgress:function(){return d.FlatButton.lock(W)},hideProgress:function(){return d.FlatButton.unlock(W)}})}},$=function(){var e=Number(O.val())||0,t=Number(P.val())||0,n=Number(A.val())||0,r=new Date(0);e&&r.setDate(e),t&&r.setMonth(t),n&&r.setFullYear(n),c.registrationItemStat.logFieldInteraction(c.RegistrationFieldItemNames.BDAY,r.getTime().toString())},Y=function(){var e=window.cur;e.isJoinFieldDirty||(c.registrationItemStat.logEvent(c.RegistrationItemEventTypes.START_REG_TAP,e.eventScreen,void 0,{force:!0}),e.isJoinFieldDirty=!0)};if(c.registrationItemStat.logFieldInteraction(c.RegistrationFieldItemNames.FIRST_NAME,M.value,!0),M.addEventListener("keyup",(function(){Y(),c.registrationItemStat.logFieldInteraction(c.RegistrationFieldItemNames.FIRST_NAME,M.value)})),c.registrationItemStat.logFieldInteraction(c.RegistrationFieldItemNames.LAST_NAME,I.value,!0),I.addEventListener("keyup",(function(){Y(),c.registrationItemStat.logFieldInteraction(c.RegistrationFieldItemNames.LAST_NAME,I.value)})),[M,I].forEach((function(e){(0,s.placeholderInit)(e),e.addEventListener("keydown",(function(){}))})),"index"!==b&&requestAnimationFrame((function(){return(0,i.elfocus)(M)})),c.registrationItemStat.logFieldInteraction(c.RegistrationFieldItemNames.BDAY,"",!0),O=new window.Dropdown(B,(0,u.generateDays)(T,x),{big_text:!0,multiselect:!1,zeroPlaceholder:!0,selectedItems:S,onChange:function(){Y(),$()}}),P=new window.Dropdown(N,h,{big_text:!0,multiselect:!1,zeroPlaceholder:!0,selectedItems:x,onChange:function(e){Y(),$(),(0,u.updateDayDropdown)(A.val(),e,O,S)}}),A=new window.Dropdown(F,_,{big_text:!0,multiselect:!1,zeroPlaceholder:!0,selectedItems:T,onChange:function(e){Y(),$(),(0,u.updateDayDropdown)(e,P.val(),O,S)}}),window.radioBtns.join_form_sex={els:(0,r.__spreadArray)([],(0,r.__read)(j)),val:0},c.registrationItemStat.logFieldInteraction(c.RegistrationFieldItemNames.SEX,Number((0,o.radioval)(f)).toString(),!0),j.forEach((function(e){e.addEventListener("click",(function(){var t=Number(e.dataset.sex);(0,o.radiobtn)(e,t,f),Y(),c.registrationItemStat.logFieldInteraction(c.RegistrationFieldItemNames.SEX,t.toString())}))})),void 0!==E.sex){var G=E.sex,Q=e.querySelector('.JoinForm__sexRadio[data-sex="'+G+'"]');Q&&Q.click()}if(W.addEventListener("click",(function(e){e.preventDefault(),q()})),v){var X=window.cur;X.fbApp=v,X.fbState=m,X.fbLocale=y,window.Index.fbCheck(v,"",H)}null==z||z.addEventListener("click",(function(){})),K&&D&&K.addEventListener("click",D),V&&C&&V.addEventListener("click",C);var J=(0,a.curBox)();J&&J.setOptions({onClean:function(){}}),window.stManager.add([window.jsc("web/tooltips.js"),"tooltips.css"]).catch((function(){}))}}},70442:(e,t,n)=>{"use strict";n.d(t,{generateDays:()=>i,updateDayDropdown:()=>a});var r=n(59397),o=n(16886);function i(e,t){for(var n=[[0,(0,o.getLang)("index_sel_bday")]],i=(0,r.getLastDayOfMonth)(e,t),a=1;a<=i;++a)n.push([a,String(a)]);return n}function a(e,t,n,o){Number(n.val())>(0,r.getLastDayOfMonth)(e,t)&&n.clear(),n.setData(i(e,t).slice(Number(o)?1:0))}},41142:(e,t,n)=>{"use strict";function r(){return window.vk.loginDomain}n.d(t,{getLoginDomain:()=>r})},41437:(e,t,n)=>{"use strict";n.d(t,{getLang:()=>a,default:()=>s});var r=n(97557),o=n(16886),i={};function a(e,t,n){void 0===t&&(t=!1);var a="number"==typeof t,s=t||a,l=e+(s?".raw":"");if(void 0===i[l]){var u=s?(0,o.getLang)(e,"raw"):(0,o.getLang)(e);"string"==typeof u?i[l]=(0,r.decodeHTMLEntities)(u):Array.isArray(u)?i[l]=u.map(r.decodeHTMLEntities):i[l]="object"==typeof u&&null!==u?Object.keys(u).reduce((function(){}),{}):u}if(a){var c=t;return(0,o.langNumeric)(c,i[l],n)}return i[l]||""}const s={getLang:a}},91257:,76905:(e,t,n)=>{"use strict";n.d(t,{LoginBoxForm:()=>s});var r=n(13020),o=n(5456),i=n(91563),a=n(73078),s=function(){function e(e){this.rootEl=e,this.init()}return e.prototype.init=function(){var e=this.rootEl,t=e.querySelector(".LoginBox__form");if(t){var n=e.querySelector(".LoginBox__formExpire"),s=e.querySelector(".LoginBox__buttonSignIn"),l=e.querySelector(".LoginBox__buttonSignUp"),u=e.querySelector('[name="email"]'),c=e.querySelector('[name="pass"]'),d=e.querySelector('[name="ul"]');s&&(u&&(0,r.placeholderInit)(u),c&&(0,r.placeholderInit)(c),null==n||n.addEventListener("click",(function(){})),c&&c.addEventListener("input",(function(){t.classList.toggle("LoginBox--showExpire",c.value.trim().length>0)})),l&&(l.onclick=function(){return(0,i.showBox)("join.php",{act:"box",from:window.nav.strLoc}),!1}),t.onsubmit=function(){if(a.FlatButton.isLocked(s))return!1;var e=window.submitQuickLoginForm;if(!e)return!0;var t=u?u.value.trim():"",r=c?c.value.trim():"",i=Number((0,o.isChecked)(n));if(u&&!t)return(0,o.notaBene)(u),!1;if(!r)return(0,o.notaBene)(c),!1;var l={expire_input:i};return d&&d.value&&(l.ul=d.value),e(t,r,{prg:"login_button",params:l}),a.FlatButton.lock(s),!1},requestAnimationFrame((function(){var e;null===(e=u||c)||void 0===e||e.focus()})))}},e}()},2372:(e,t,n)=>{"use strict";n.d(t,{LoginRecentUsersGallery:()=>o});var r=n(70655),o=function(){function e(e){this.containerEl=e,this.viewportEl=e.firstElementChild,this.layerEl=this.viewportEl.firstElementChild,this.initializeSlides()}return e.prototype.init=function(){this.setIndex(0)},e.prototype.initializeSlides=function(){var e;this.slides=(0,r.__spreadArray)([],(0,r.__read)(this.layerEl.children)).map((function(e,t){return{coordX:t*e.offsetWidth,width:e.offsetWidth,el:e}})),this.viewportEl.style.width=(null===(e=this.slides[0])||void 0===e?void 0:e.width)+"px";var t=this.containerEl.offsetWidth,n=this.viewportEl.offsetWidth;this.layerWidth=this.slides.reduce((function(){}),0),this.min=n-(t-n)/2-this.layerWidth,this.max=0},e.prototype.validateIndent=function(e){var t=this.min,n=this.max;return e<t?t:e>n?n:e},e.prototype.calculateIndent=function(e){var t=this.slides,n=t.length?t[e]:null;if(n){var r=n.coordX;return this.validateIndent(-1*r)}return 0},e.prototype.render=function(){var e=this,t=this.calculateIndent(this.currentIndex);requestAnimationFrame((function(){})),(0,r.__spreadArray)([],(0,r.__read)(this.layerEl.children)).forEach((function(t,n){t.classList.toggle("LoginRecentUsersGallery__slide--prev2",n===e.currentIndex-2),t.classList.toggle("LoginRecentUsersGallery__slide--active",n===e.currentIndex),t.classList.toggle("LoginRecentUsersGallery__slide--next2",n===e.currentIndex+2)}))},e.prototype.setRelativeIndex=function(e){this.currentIndex=Math.max(0,Math.min(this.currentIndex+e,this.slides.length-1)),this.onChange(this.currentIndex),this.render()},e.prototype.setIndex=function(e){this.currentIndex=Math.max(0,Math.min(e,this.slides.length-1)),this.onChange(this.currentIndex),this.render()},e}()},7534:(e,t,n)=>{"use strict";n.d(t,{createAppearanceModifier:()=>o,createSizeModifier:()=>i,createElement:()=>a,setContent:()=>s});var r=n(12459);function o(e){return"FlatButton--"+e}function i(e){return"FlatButton--size-"+e}function(){}function s(e,t){null!=t&&((0,r.emptyNode)(e),"string"==typeof t?e.innerHTML=t:e.appendChild(t))}},73078:(e,t,n)=>{"use strict";n.d(t,{FlatButton:()=>c});var r=n(59397),o=n(17874),i=n(15410),a=n(7534),s=n(87401),l=n(8358);function u(e){return!!e&&e.classList.contains("FlatButton--locked")}var c={isFlatButton:function(e){return Boolean(e&&e.classList&&e.classList.contains("FlatButton"))},lock:function(e){if(e&&!u(e)){var t=e.classList.contains((0,a.createSizeModifier)(s.FlatButtonSize.L)),n=t?(0,i.getIcon24Spinner)().icon:(0,o.getIcon16Spinner)().icon,l=(0,a.createElement)("span",(0,r.classNames)("FlatButton__spinner",{"FlatButton__spinner--l":t}));l.innerHTML=n,e.appendChild(l),e.classList.add("FlatButton--locked")}},unlock:function(e){var t;e&&(null===(t=e.querySelector(".FlatButton__spinner"))||void 0===t||t.remove(),e.classList.remove("FlatButton--locked"))},isLocked:u,render:l.render,setDisabled:function(e,t){void 0===t&&(t=!0),e&&("button"===e.tagName.toLowerCase()&&(e.disabled=t),e.classList.toggle("FlatButton--disabled",t))},setAppearance:function(e,t){e&&Object.values(s.FlatButtonAppearance).forEach((function(n){e.classList.toggle((0,a.createAppearanceModifier)(n),n===t)}))},setSize:function(e,t){e&&Object.values(s.FlatButtonSize).forEach((function(n){e.classList.toggle((0,a.createSizeModifier)(n),n===t)}))},setLabel:function(e,t){var n=null==e?void 0:e.querySelector(".FlatButton__content");n&&(0,a.setContent)(n,t)},setBefore:function(e,t){var n=null==e?void 0:e.querySelector(".FlatButton__in");if(n){var r=e.querySelector(".FlatButton__before");null!=t?r?(0,a.setContent)(r,t):n.prepend((0,l.renderBefore)(t)):null==r||r.remove()}},setAfter:function(e,t){var n=null==e?void 0:e.querySelector(".FlatButton__in");if(n){var r=e.querySelector(".FlatButton__after");null!=t?r?(0,a.setContent)(r,t):n.prepend((0,l.renderAfter)(t)):null==r||r.remove()}}}},8358:(e,t,n)=>{"use strict";n.d(t,{render:()=>a,renderBefore:()=>s,renderAfter:()=>l});var r=n(70655),o=n(59397),i=n(7534);function a(e){var t,n=e.children,a=e.before,u=e.after,c=e.className,d=e.appearance,f=e.size,p=e.round,h=e.wide,_=e.flexWide,g=e.href,v=e.disabled,m=e.restAttrs,y=void 0===m?{}:m,b=e.dangerousAttrbutesCode,w=(0,r.__assign)({},y);g?(t=document.createElement("a"),w.href=g):(t=document.createElement("button"),w.type||(w.type="button"));var E=t.tagName.toLowerCase();t.className=(0,o.classNames)("FlatButton",(0,i.createAppearanceModifier)(d),(0,i.createSizeModifier)(f),{"FlatButton--round":p,"FlatButton--wide":h,"FlatButton--flexWide":_,"FlatButton--disabled":v},c),Object.entries(w).forEach((function(e){var n=(0,r.__read)(e,2),o=n[0],i=n[1];null!=i&&t.setAttribute(o,String(i))})),v&&"button"===E&&(t.disabled=!0);var D=(0,i.createElement)("span","FlatButton__in");t.appendChild(D);var C=(0,i.createElement)("span","FlatButton__content");if((0,i.setContent)(C,n),a&&D.appendChild(s(a)),D.appendChild(C),u&&D.appendChild(l(u)),b){var k=document.createElement("div");k.innerHTML="<div "+b+"></div>";var S=k.firstElementChild;if(!S)return t;var x=S.attributes;Object.keys(x).forEach((function(e){var n=x[Number(e)],r=n.value;null!=r&&t.setAttribute(n.name,r)}))}return t}function s(e){var t=(0,i.createElement)("span","FlatButton__before");return(0,i.setContent)(t,e),t}function l(e){var t=(0,i.createElement)("span","FlatButton__after");return(0,i.setContent)(t,e),t}},87401:(e,t,n)=>{"use strict";n.d(t,{FlatButtonAppearance:()=>r,FlatButtonSize:()=>o});var r={PRIMARY:"primary",SECONDARY:"secondary",TERTIARY:"tertiary",POSITIVE:"positive",OVERLAY_PRIMARY:"overlay-primary"},o={S:"s",M:"m",L:"l"}},23845:(e,t,n)=>{"use strict";n.d(t,{UnauthActionBox:()=>d});var r=n(70655),o=n(76238),i=n(36471),a=n(18775),s=n(91563),l=n(59397),u=n(63841),c=n(82419);var d={show:function(e,t){var n=e.withForm,d=new s.MessageBox({title:"",width:n?796:450,hideButtons:!0,containerClass:(0,l.classNames)("UnauthActionBoxContainer",{"UnauthActionBoxContainer--form":n}),onHide:function(){t&&t()}});d.content(e.html),d.changed=!0;var f=d.bodyNode.querySelector(".UnauthActionBox__close"),p=d.bodyNode.querySelector(".UnauthActionBox__join"),h=d.bodyNode.querySelector(".UnauthActionBox__login"),_=function(t){o.marketingTransitionItemStat.logEvent(i.MarketingTransitionItemCampaignType.UNAUTH_ACTION_BOX,t,e.action,window.location.href)};null==f||f.addEventListener("click",(function(){})),null==p||p.addEventListener("click",(function(){_(i.MarketingTransitionItemEventType.CLICK_SIGN_UP),(0,a.showJoinBox)()})),null==h||h.addEventListener("click",(function(){_(i.MarketingTransitionItemEventType.CLICK_SIGN_IN),(0,a.showQuickLoginBox)()})),_(i.MarketingTransitionItemEventType.OPEN),d.show();var g=d.bodyNode.querySelector(".LoginCombinedBox"),v=d.bodyNode.querySelector(".JoinForm"),m=function(e){e.preventDefault(),_(i.MarketingTransitionItemEventType.CLOSE),d.hide()};return d.bodyNode.querySelectorAll(".LoginBox").forEach((function(){})),d.bodyNode.querySelectorAll(".LoginBox__notNow").forEach((function(e){e.addEventListener("click",m)})),d.bodyNode.querySelectorAll(".JoinForm__signIn, .LoginRecentBox__alternative").forEach((function(e){e.addEventListener("click",(function(){_(i.MarketingTransitionItemEventType.CLICK_SIGN_IN)}))})),d.bodyNode.querySelectorAll(".LoginBox__buttonSignUp").forEach((function(e){e.addEventListener("click",(function(){_(i.MarketingTransitionItemEventType.CLICK_SIGN_UP)}))})),g?(0,u.initLoginCombinedBoxForm)(g,e.formOptions):v&&(0,c.initJoinForm)(v,(0,r.__assign)((0,r.__assign)({},e.formOptions),{onSignInClick:function(){(0,a.showQuickLoginBox)()},onNotNowClick:m,ref:"box"})),requestAnimationFrame((function(){return window.tooltips&&window.tooltips.hideAll()})),d}}},74854:(e,t,n)=>{"use strict";n.d(t,{isUnauthorizedMediaLayerBoxAvailable:()=>s,UnauthorizedSourceType:()=>a.UnauthorizedSourceType,Unauthorized:()=>u});var r,o=n(23845),i=n(86353),a=n(80576);function s(){return!window.vk.id&&!window.layers.visible&&(0,i.partConfigEnabled)("unauthorized_media_layer_box")&&!!document.querySelector(".PageBottomBanner--unauth")}var l=!1;var u={initScrollMoreBox:function(e){var t,n=function(){};n(),r=function(){var t;l||((null===(t=window.layers)||void 0===t?void 0:t.visible)||window.cur.unauthScrollMoreBox||window.pageYOffset>=2*window.innerHeight&&(l=!0,o.UnauthActionBox.show(e)))},e.showOnLoad&&(l=!0,o.UnauthActionBox.show(e)),window.addEventListener("scroll",r),null===(t=window.cur.beforeNavigateRequestHandlers)||void 0===t||t.push((function(){return n()}))},showMoreBox:function(e,t,n,r){e&&e.preventDefault(),window.ajax.post("/al_index.php?act=a_unauthorized_box",{action:"more",owner_id:t,source:n},{loader:!0,onDone:function(e){e.unauth_action_box?o.UnauthActionBox.show(e.unauth_action_box,r):r&&r()}})}}},81150:(e,t,n)=>{"use strict";n.d(t,{default:()=>a});var r=n(70655),o=n(67294),i=n(59397);const a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,r.__extends)(t,e),t.prototype.render=function(){var e=this.props,t=e.className,n=e.appearance,a=e.wide,s=e.overflow,l=e.size,u=(0,r.__rest)(e,["className","appearance","wide","overflow","size"]),c=e.disabled,d=i.classNames.apply(void 0,(0,r.__spreadArray)((0,r.__spreadArray)(["Button"],(0,r.__read)(function(e){return Array.isArray(e)?e.map((function(e){return"Button--"+e})):["Button--"+e]}(n))),["Button--size-"+l,{"Button--wide":a,"Button--overflow":!!s,"Button--disabled":c},t]));return o.createElement("button",(0,r.__assign)({},u,{className:d}),e.children)},t.defaultProps={appearance:"primary",size:"m",wide:!1,disabled:!1},t}(o.Component)},23558:(e,t,n)=>{"use strict";n.d(t,{default:()=>l});var r=n(70655),o=n(67294),i=n(59397),a=n(80767),s=n(81150);const l=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,r.__extends)(t,e),t.prototype.render=function(){var e=this.props,t=e.className,n=e.loading,l=e.children,u=(0,r.__rest)(e,["className","loading","children"]),c=["primary","positive"].some((function(e){return e===u.appearance}));return o.createElement(s.default,(0,r.__assign)({},u,{className:(0,i.classNames)("ButtonWithProgress",{"ButtonWithProgress--loading":n},t)}),o.createElement("span",{className:"ButtonWithProgress__content"},l),n&&o.createElement(a.default,{inverted:c,className:"ButtonWithProgress__progress"}))},t.defaultProps={appearance:"primary",size:"m",wide:!1,disabled:!1,loading:!1},t}(o.Component)},80767:(e,t,n)=>{"use strict";n.d(t,{default:()=>s});var r=n(70655),o=n(67294),i=n(59397),a=function(e){var t=e.inverted,n=e.size,a=e.className,s=(0,r.__rest)(e,["inverted","size","className"]),l=(0,i.classNames)("Progress",{"Progress--inverted":!!t},"Progress--size-"+n,a);return o.createElement("div",(0,r.__assign)({className:l},s),o.createElement("div",{className:"Progress__item"}),o.createElement("div",{className:"Progress__item"}),o.createElement("div",{className:"Progress__item"}))};a.defaultProps={inverted:!1,size:"s"};const s=a},70655:(e,t,n)=>{"use strict";n.d(t,{__extends:()=>o,__assign:()=>i,__rest:()=>a,__awaiter:()=>s,__generator:()=>l,__values:()=>u,__read:()=>c,__spreadArray:()=>d});var r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)};function(){}var i=function(){return(i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};function a(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}function s(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{l(r.next(e))}catch(e){i(e)}}function s(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((r=r.apply(e,t||[])).next())}))}function(){}Object.create;function u(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function c(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a}function(){}Object.create},94795:function(e,t,n){var r;!function(t){"use strict";function o(){}var i=o.prototype,a=t.EventEmitter;function s(e,t){for(var n=e.length;n--;)if(e[n].listener===t)return n;return-1}function l(e){return function(){return this[e].apply(this,arguments)}}function(){}i.getListeners=function(){},i.flattenListeners=function(e){var t,n=[];for(t=0;t<e.length;t+=1)n.push(e[t].listener);return n},i.getListenersAsObject=function(e){var t,n=this.getListeners(e);return n instanceof Array&&((t={})[e]=n),t||n},i.addListener=function(){},i.on=l("addListener"),i.addOnceListener=function(e,t){return this.addListener(e,{listener:t,once:!0})},i.once=l("addOnceListener"),i.defineEvent=function(e){return this.getListeners(e),this},i.defineEvents=function(e){for(var t=0;t<e.length;t+=1)this.defineEvent(e[t]);return this},i.removeListener=function(e,t){var n,r,o=this.getListenersAsObject(e);for(r in o)o.hasOwnProperty(r)&&-1!==(n=s(o[r],t))&&o[r].splice(n,1);return this},i.off=l("removeListener"),i.addListeners=function(e,t){return this.manipulateListeners(!1,e,t)},i.removeListeners=function(e,t){return this.manipulateListeners(!0,e,t)},i.manipulateListeners=function(e,t,n){var r,o,i=e?this.removeListener:this.addListener,a=e?this.removeListeners:this.addListeners;if("object"!=typeof t||t instanceof RegExp)for(r=n.length;r--;)i.call(this,t,n[r]);else for(r in t)t.hasOwnProperty(r)&&(o=t[r])&&("function"==typeof o?i.call(this,r,o):a.call(this,r,o));return this},i.removeEvent=function(e){var t,n=typeof e,r=this._getEvents();if("string"===n)delete r[e];else if(e instanceof RegExp)for(t in r)r.hasOwnProperty(t)&&e.test(t)&&delete r[t];else delete this._events;return this},i.removeAllListeners=l("removeEvent"),i.emitEvent=function(){},i.trigger=l("emitEvent"),i.emit=function(e){var t=Array.prototype.slice.call(arguments,1);return this.emitEvent(e,t)},i.setOnceReturnValue=function(e){return this._onceReturnValue=e,this},i._getOnceReturnValue=function(){return!this.hasOwnProperty("_onceReturnValue")||this._onceReturnValue},i._getEvents=function(){return this._events||(this._events={})},o.noConflict=function(){return t.EventEmitter=a,o},void 0===(r=function(){return o}.call(t,n,t,e))||(e.exports=r)}("undefined"!=typeof window?window:this||{})}},__webpack_module_cache__={};function(){}__webpack_require__.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return __webpack_require__.d(t,{a:t}),t},__webpack_require__.d=(e,t)=>{for(var n in t)__webpack_require__.o(t,n)&&!__webpack_require__.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},__webpack_require__.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),__webpack_require__.hmd=,__webpack_require__.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),__webpack_require__.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var __webpack_exports__={};(()=>{"use strict";__webpack_require__(51876),__webpack_require__(59357);var e=__webpack_require__(5456),t=__webpack_require__(19016),n=__webpack_require__(69433);extend(window,{bookmarkPost:n.bookmarkPost,bookmarkArticle:n.bookmarkArticle,bookmarkPodcast:n.bookmarkPodcast,bookmarkLink:n.bookmarkLink,bookmarkNarrative:n.bookmarkNarrative,bookmarkEvent:n.bookmarkEvent}),window.Community={init:function(){if(cur.wallMyDeleted={},this.override("lite.js"),this.override("page.js"),stManager.emitter.addListener("update",this.override.bind(this)),2==cur.mode||4==cur.mode){var e=Math.max(cur.minHeight,cur.height-getSize("community_header")[1]);ge("community_content")?(setStyle("community_content","height",e),cur.scrollbar=new uiScroll("community_content",{onmore:this.showMore.bind(this),theme:"default wcommunity",hidden:1,ondragstart:function(){},ondragstop:function(){try{cur.Rpc.callMethod("stopDrag")}catch(e){}}})):setStyle(geByClass1("_wcommunity_closed_wrap"),"height",e),cur.mouseMove=function(e){cur.scrollbar&&cur.scrollbar.ondrag(e)},cur.mouseUp=function(){cur.scrollbar&&cur.scrollbar.ondragstop()}}cur.RpcMethods={onInit:,mouseMove:e=>cur.mouseMove(e),mouseUp:,authorised:e=>{var t=location.href;-1!=(t=-1!=t.indexOf("fieldText=")?t.replace(/fieldText=.+?(&|$)/,"fieldText="+winToUtf(ge("commentFiled").getValue())+""):t+"&fieldText="+winToUtf(ge("commentFiled").getValue())).indexOf("autoLogin=1")&&(t=t.replace("autoLogin=1","autoLogin=0")),location.href=t},unauthorised:e=>{var t=location.href;-1!=t.indexOf("autoLogin=0")?t=t.replace("autoLogin=0","autoLogin=1"):t+="&autoLogin=1",cur.Rpc.callMethod("auth"),location.href=t}},cur.Rpc=new fastXDM.Client(cur.RpcMethods,{safe:!0,sameOrigin:partConfigEnabled("widgets_xdm_same_origin"),unsafeMethods:["mouseMove","mouseUp","authorised","unauthorised"]}),cur.mainDiv=ge("main"),this.resizeWidget(),setTimeout(this.resizeWidget,0)},resizeWidget:function(){onBodyResize(!0),cur.mainDiv&&cur.Rpc&&cur.Rpc.callMethod("resize",getSize(cur.mainDiv)[1])},sendStateEvent:function(){}