function Cludo(e){if(window.CludoSearchInstances=window.CludoSearchInstances||[],window.CludoSearchInstances.push(this),this.customerId=e.customerId,this.engineId="undefined"!=typeof e.engineId?e.engineId:e.siteId,this.searchUrl=e.searchUrl,this.defaultApiUrl=this.customerId>=1e7?"https://api-us1.cludo.com/api/v3":"https://api.cludo.com/api/v3",this.searchApiUrl="undefined"!=typeof e.searchApiUrl?e.searchApiUrl:this.defaultApiUrl,this.searchApiUrlPublic="undefined"!=typeof e.searchApiUrlPublic?e.searchApiUrlPublic:this.defaultApiUrl,this.statisticsApiUrl="undefined"!=typeof e.statisticsApiUrl?e.statisticsApiUrl:"https://stat.cludo.com",this.logPageVisits="undefined"==typeof e.logPageVisits||e.logPageVisits,this.searchSiteKey="undefined"!=typeof e.searchSiteKey?e.searchSiteKey:"SearchKey",this.intranetSearch="undefined"!=typeof e.intranetSearch&&e.intranetSearch,this.customerTemplate="undefined"!=typeof e.customerTemplate?e.customerTemplate:"SearchContent",this.disableAutocomplete="undefined"!=typeof e.disableAutocomplete&&e.disableAutocomplete,this.richAutocomplete="undefined"!=typeof e.richAutocomplete&&e.richAutocomplete,this.autocompleteForceUseTemplate="undefined"!=typeof e.autocompleteForceUseTemplate&&e.autocompleteForceUseTemplate,this.autocompleteMinimumQueryLength="undefined"!=typeof e.autocompleteMinimumQueryLength?e.autocompleteMinimumQueryLength:1,this.facets="undefined"!=typeof e.facets?e.facets:{Category:[]},this.applyMultiLevelFacets="undefined"==typeof e.applyMultiLevelFacets||e.applyMultiLevelFacets,this.initFacets="undefined"!=typeof e.initFacets?e.initFacets:null,this.filters="undefined"!=typeof e.filters?e.filters:{},this.sortOrder="undefined"!=typeof e.sortOrder?e.sortOrder:{},this.rangeFacets="undefined"!=typeof e.rangeFacets?e.rangeFacets:{},this.searchInputs="undefined"!=typeof e.searchInputs?e.searchInputs:["cludo-search-form"],this.perPage="undefined"!=typeof e.perPage?e.perPage:null,this.enableRelatedSearches="undefined"!=typeof e.enableRelatedSearches&&e.enableRelatedSearches,this.bannerIsInSearchTemplate="undefined"==typeof e.bannerIsInSearchTemplate||e.bannerIsInSearchTemplate,this.xhrRequestHeader="undefined"!=typeof e.xhrRequestHeader?e.xhrRequestHeader:"application/json",this.searchResultsWrapper="undefined"!=typeof e.searchResultsWrapper?e.searchResultsWrapper:"cludo-search-results",this.translateProvider.language="undefined"!=typeof e.language?e.language:"undefined"!=typeof this.filters.Language?this.filters.Language[0]:"da",this.initSearchBoxText="undefined"!=typeof e.initSearchBoxText?e.initSearchBoxText:"",this.loading="undefined"!=typeof e.loading?e.loading:'<img src="https://customer.cludo.com/img/loading.gif" class="loading" tabindex="-1" alt="loading search results" />',this.changeWindowLocation="undefined"==typeof e.changeWindowLocation||e.changeWindowLocation,this.hideResultsCount="undefined"!=typeof e.hideResultsCount&&e.hideResultsCount,this.hideSearchFilters="undefined"!=typeof e.hideSearchFilters&&e.hideSearchFilters,this.hideSearchDidYouMean="undefined"!=typeof e.hideSearchDidYouMean&&e.hideSearchDidYouMean,this.hideSearchFiltersIfNoResult="undefined"==typeof e.hideSearchFiltersIfNoResult||e.hideSearchFiltersIfNoResult,this.customNoResultsMessage="undefined"!=typeof e.customNoResultsMessage?e.customNoResultsMessage:null,this.resetFiltersBeforeSearch="undefined"!=typeof e.resetFiltersBeforeSearch&&e.resetFiltersBeforeSearch,this.updateInputOnBlur="undefined"==typeof e.updateInputOnBlur||e.updateInputOnBlur,this.useFixedQueryInResultsCount="undefined"!=typeof e.useFixedQueryInResultsCount&&e.useFixedQueryInResultsCount,this.allowSearchWithoutSearchword="undefined"!=typeof e.allowSearchWithoutSearchword&&e.allowSearchWithoutSearchword,this.jumpToTopOnFacetClick="undefined"==typeof e.jumpToTopOnFacetClick||e.jumpToTopOnFacetClick,this.endlessScroll="undefined"!=typeof e.endlessScroll?e.endlessScroll:null,this.endlessScrollElements={scrolledElement:null,documentElement:null,backToTop:null,loadMore:null},this.enableExtendedTracking="undefined"==typeof e.enableExtendedTracking||e.enableExtendedTracking,this.customCallbackAfterSearch="undefined"!=typeof e.customCallbackAfterSearch?e.customCallbackAfterSearch:null,this.customCallbackAfterAutocomplete="undefined"!=typeof e.customCallbackAfterAutocomplete?e.customCallbackAfterAutocomplete:null,this.canUserBeTracked="undefined"!=typeof e.canUserBeTracked?e.canUserBeTracked:null,this.isTrackedSession=-1,this.type="undefined"!=typeof e.type?e.type:"standard",this.template="undefined"!=typeof e.template?e.template:"StandardInline",this.translateSearchTemplates="undefined"!=typeof e.translateSearchTemplates&&e.translateSearchTemplates,this.ovarlayResultsWrapperOpenClass="undefined"!=typeof e.ovarlayResultsWrapperOpenClass?e.ovarlayResultsWrapperOpenClass:"",this.useStandardSearchTemplate="undefined"==typeof e.useStandardSearchTemplate||e.useStandardSearchTemplate,this.searchBoxPosition="undefined"!=typeof e.theme&&"undefined"!=typeof e.theme.searchBoxPosition?e.theme.searchBoxPosition:{align:"right",x:20,y:20},this.themeColor="undefined"!=typeof e.theme&&"undefined"!=typeof e.theme.themeColor?e.theme.themeColor:"",this.elementFocusColor="undefined"!=typeof e.theme&&"undefined"!=typeof e.theme.elementFocusColor?e.theme.elementFocusColor:"",this.themeBannerColor="undefined"!=typeof e.theme&&"undefined"!=typeof e.theme.themeBannerColor?e.theme.themeBannerColor:"",this.borderRadius="undefined"!=typeof e.theme&&"undefined"!=typeof e.theme.borderRadius?e.theme.borderRadius:0,this.borderRadiusInput="undefined"!=typeof e.theme&&"undefined"!=typeof e.theme.borderRadiusInput?e.theme.borderRadiusInput:0,this.showSearchPage="undefined"==typeof e.showSearchPage||e.showSearchPage,this.paramsPrefix="undefined"!=typeof e.paramsPrefix?e.paramsPrefix:"cludo",this.focusOnResultsAfterSearch="undefined"!=typeof e.focusOnResultsAfterSearch&&e.focusOnResultsAfterSearch,this.isSearchAfterRedirect=!1,this.debug=!1,this.eventHandler={on:window.attachEvent?"on":"",attach:window.attachEvent?"attachEvent":"addEventListener",detach:window.attachEvent?"detachEvent":"removeEventListener"},this.authorizationKey="",this.websiteSettings=[],this.sessionIdKey="cludoSessionId",this.sessionIdStartKey="cludoSessionIdStart",this.sessionExpiration=18e5,this.cookieConsentStorageKey="cludoCachedCookieConsent",this.lastQuery=null,this.querySessionId=null,this.params={ResponseType:"JsonHtml",Template:this.customerTemplate,facets:{},filters:this.filters,page:1,query:"",text:"",sort:this.sortOrder,rangeFacets:this.rangeFacets,perPage:this.perPage,enableRelatedSearches:this.enableRelatedSearches,applyMultiLevelFacets:this.applyMultiLevelFacets},this.searchQueryLength=0,this.autocompleteParamDefaultValue="off",this.searchInputsLength=0,this.searchComponentsDictionary={},this.searchComponentsKeys=[],this.activeAutocompleteFilters,this.elemSearchResults={results:null,pagination:null,filters:null,relatedSearches:null,didYouMean:null,resultCount:null,banner:null},this.elemAutocomplete={lists:[],listsItems:[]},this.didYouMean="",this.totalDocuments=0,this.fixedQuery=null,this.responseTime=null,this.autocompleteResponceData=null,this.selectedIndex=-1,this.isSearchResultPage=!1,this.timeoutId=null,this.hideAutocomplete=!1,this.pendingAcTitle=null,this.pendingAcIndex=null,this.lastAcQuery=null,this.quicklink={},this.isOverlaySearch=!1,this.openedOverlayOnInit=!1,this.elemOverlaySearch={closeButton:null,overlay:null,overlayInner:null,overlayHeader:null,overlayBody:null,overlayFooter:null,searchWrapper:null,searchBox:null,searchBoxLabel:null,searchBoxInput:null,searchBoxButton:null,searchBoxContent:null,searchBoxContentLabel:null,searchBoxContentInput:null,searchBoxContentButton:null,poweredBy:null,poweredByMobile:null},this.isLazyLoading=!1,this.doSearchWithDelayTimer=null,this.referalHostName=location.hostname,this.deviceType=null,this.cachedStorageContainerReference=null,this.usingOnChange=!1,this.browserIsIE=window.navigator.userAgent.indexOf("MSIE")>0,this.browserIsEdge14="undefined"!=typeof window.navigator.appVersion&&window.navigator.appVersion.indexOf("Edge/14")>0,this.userIsUsingTabulator=!1,this.resultItemCurrentlyFocusedElement=null,this.focusedElementBeforeOverlayOpen=null,this.resetFocusTimerPoweredBy=null,this.resetFocusTimerCloseButton=null,this.autoCompleteControllerAction="Autocomplete",this.publicSettingsRetrieved=!1,this.pageInitFromBackForward=!1,window.performance&&window.performance.getEntriesByType)for(var t=window.performance.getEntriesByType("navigation"),a=0;a<t.length;a++){var s=t[a].type;if("back_forward"===s){this.pageInitFromBackForward=!0;break}}}var base64={};base64.PADCHAR="=",base64.ALPHA="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",base64.makeDOMException=function(){},base64.getbyte64=function(e,t){var a=base64.ALPHA.indexOf(e.charAt(t));if(a===-1)throw base64.makeDOMException();return a},base64.decode=function(e){e=""+e;var t,a,s,r=base64.getbyte64,l=e.length;if(0===l)return e;if(l%4!==0)throw base64.makeDOMException();t=0,e.charAt(l-1)===base64.PADCHAR&&(t=1,e.charAt(l-2)===base64.PADCHAR&&(t=2),l-=4);var o=[];for(a=0;a<l;a+=4)s=r(e,a)<<18|r(e,a+1)<<12|r(e,a+2)<<6|r(e,a+3),o.push(String.fromCharCode(s>>16,s>>8&255,255&s));switch(t){case 1:s=r(e,a)<<18|r(e,a+1)<<12|r(e,a+2)<<6,o.push(String.fromCharCode(s>>16,s>>8&255));break;case 2:s=r(e,a)<<18|r(e,a+1)<<12,o.push(String.fromCharCode(s>>16))}return o.join("")},base64.getbyte=function(){},base64.encode=function(e){if(1!==arguments.length)throw new SyntaxError("Not enough arguments");var t,a,s=base64.PADCHAR,r=base64.ALPHA,l=base64.getbyte,o=[];e=""+e;var i=e.length-e.length%3;if(0===e.length)return e;for(t=0;t<i;t+=3)a=l(e,t)<<16|l(e,t+1)<<8|l(e,t+2),o.push(r.charAt(a>>18)),o.push(r.charAt(a>>12&63)),o.push(r.charAt(a>>6&63)),o.push(r.charAt(63&a));switch(e.length-i){case 1:a=l(e,t)<<16,o.push(r.charAt(a>>18)+r.charAt(a>>12&63)+s+s);break;case 2:a=l(e,t)<<16|l(e,t+1)<<8,o.push(r.charAt(a>>18)+r.charAt(a>>12&63)+r.charAt(a>>6&63)+s)}return o.join("")},Object.keys||(Object.keys=function(){}()),function(){!window.addEventListener&&function(){}(Window.prototype,HTMLDocument.prototype,Element.prototype,"addEventListener","removeEventListener","dispatchEvent",[])}(),Cludo.prototype={constructor:Cludo,init:function(){this.initTrackedSession(),this.isOverlaySearch=this.isSearchWithOverlay(),this.isOverlaySearch&&"customOverlay"!==this.type?(this.endlessScroll={stopAfterPage:3,resultsPerPage:10,bottomOffset:50},this.endlessScrollElements={scrolledElement:null,documentElement:null,backToTop:null,loadMore:null},this.useStandardSearchTemplate&&(this.params.overlay="Standard"+this.translateProvider.language),"standardOverlayWithDynamicSearchBox"===this.type&&this.overlaySetTopSearchBox(),""===this.themeColor&&0===this.borderRadius||this.overlaySetColorTheme()):"inline"===this.type&&("facets"===this.template||"noFacets"===this.template||"nofacets"===this.template?(this.params.overlay=this.template+this.translateProvider.language,"noFacets"!==this.template&&"nofacets"!==this.template||(this.hideSearchFilters=!0)):(this.translateSearchTemplates=!0,this.params.overlay=this.template+"I18N")),this.initSearchFormElements(),this.deviceType=this.getDeviceType(),this.setIsSearchResultPage(),(!this.isOverlaySearch&&this.isSearchResultPage||this.isOverlaySearch&&"customOverlay"==this.type)&&this.setResultElements(),this.setLoadingElements(),this.setFacets(),this.setInitParams(),null==this.elemSearchResults.results||this.isOverlaySearch||this.getWebsiteSettings();for(var e=0,t=this.searchInputsLength;e<t;e++){var a=this.getSearchComponentsObject(this.searchComponentsKeys[e]);null!==a.wrapper&&(this.searchBoxWrapperEvents(a.wrapper),this.isOverlaySearch&&this.helpers.addClass(a.wrapper,"cludo-search_autocomplete")),null!=a.searchBoxInput&&this.searchBoxInputEvents(a.searchBoxInput),null!=a.searchBoxButton&&this.searchBoxEvents(a.searchBoxButton),null!=a.searchBoxClearButton&&this.searchBoxClearEvents(a.searchBoxClearButton)}if(this.isSearchResultPage&&this.endlessScroll&&(this.isOverlaySearch||(this.endlessScrollElements.scrolledElement=window,this.endlessScrollElements.documentElement=document.documentElement),this.isOverlaySearch&&"customOverlay"==this.type&&(this.endlessScrollElements.scrolledElement=this.endlessScrollElements.documentElement=this.getResultWrapperContainer()),this.endlessScrollAddScrollEvent(),this.endlessScrollSetElements(this.getResultWrapperContainer())),!this.browserIsIE&&this.isSearchResultPage){var s=this;history.replaceState({path:window.location.href},""),window.addEventListener("popstate",function(e){history.replaceState({path:window.location.href},""),null!==e.state&&s.isSearchResultPage&&location.reload()})}},initSearchFormElements:function(){if(!this.searchInputs||0==this.searchInputs.length)return void console.log("CludoJs Error: Missing search input configuration during initialization");for(var e=0;e<this.searchInputs.length;e++){var t=this.searchInputs[e],a=document.getElementById(t);if(a)this.addSearchFormComponentFromWrapper(t,a);else for(var s=document.querySelectorAll(t),r=0;r<s.length;r++){var l=s[r],o=t+":"+r;this.addSearchFormComponentFromWrapper(o,l)}}0==this.searchInputsLength&&console.log("CludoJs Error: No search inputs were found during initialization")},buildSearchComponentsObjectFromWrapper:function(e){if(!e)return null;var t={wrapper:e,searchBoxInput:void 0,searchBoxButton:void 0,searchBoxClearButton:void 0,searchBoxFacets:void 0},a=e.querySelectorAll("input[type=text]")[0]||e.querySelectorAll("input[type=search]")[0];if(a){t.searchBoxInput=a;var s=a.getAttribute("autocomplete");s||a.setAttribute("autocomplete",this.autocompleteParamDefaultValue)}t.searchBoxButton=e.getElementsByTagName("button")[0]||e.querySelectorAll("input[type=submit]")[0]||e.querySelectorAll("input[type=image]")[0],t.searchBoxClearButton=e.querySelectorAll(".cludo-search-query-clear")[0];var r=e.querySelectorAll("input[type=hidden]");if(r.length>0){t.searchBoxFacets={};for(var l=0;l<r.length;l++){var o=r[l],i=o.getAttribute("data-facet-name"),n=o.getAttribute("data-facet");t.searchBoxFacets[i]||(t.searchBoxFacets[i]=[]),t.searchBoxFacets[i].push(n)}}return t},addSearchFormComponentFromWrapper:function(e,t){var a=this.buildSearchComponentsObjectFromWrapper(t);a&&this.addSearchComponentsObject(e,a)},addSearchComponentsObject:function(e,t){this.searchComponentsKeys.push(e),this.searchComponentsDictionary[e]=t,this.searchInputsLength=this.searchComponentsKeys.length},getSearchComponentsObject:function(e){return this.searchComponentsDictionary[e]?this.searchComponentsDictionary[e]:(console.log("CludoJs Warning: CludoJs tried to retrieve a missing search components object"),this.getSearchComponentsShellObject())},getSearchComponentsObjectFromSearchInputElement:function(e){for(var t=0;t<this.searchComponentsKeys.length;t++){var a=this.searchComponentsKeys[t],s=this.getSearchComponentsObject(a);if(s.searchBoxInput==e)return s}return console.log("CludoJs Warning: CludoJs could not resolve search component from input element"),this.getSearchComponentsShellObject()},getSearchComponentsObjectFromSearchBoxButton:function(e){for(var t=0;t<this.searchComponentsKeys.length;t++){var a=this.searchComponentsKeys[t];if(this.getSearchComponentsObject(a).searchBoxButton==e)return this.getSearchComponentsObject(a)}return console.log("CludoJs Warning: CludoJs could not resolve search component from search box button"),this.getSearchComponentsShellObject()},getSearchComponentsObjectFromSearchBoxClearButton:function(e){for(var t=0;t<this.searchComponentsKeys.length;t++){var a=this.searchComponentsKeys[t];if(this.getSearchComponentsObject(a).searchBoxClearButton==e)return this.getSearchComponentsObject(a)}return console.log("CludoJs Warning: CludoJs could not resolve search component from search clear button"),this.getSearchComponentsShellObject()},getSearchComponentsObjectFromAutocompleteElement:function(e){for(var t=e.parentElement,a=[],s=0;s<t.children.length;s++)a.push(t.children[s]);for(var s=0;s<this.searchComponentsKeys.length;s++){var r=this.searchComponentsKeys[s],l=this.getSearchComponentsObject(r);if(a.indexOf(l.searchBoxInput)!=-1)return l}return console.log("CludoJs Warning: CludoJs could not resolve search component from search clear button"),this.getSearchComponentsShellObject()},getSearchComponentsShellObject:function(){return{wrapper:void 0,searchBoxInput:void 0,searchBoxButton:void 0,searchBoxClearButton:void 0,searchBoxFacets:void 0}},initTrackedSession:function(){try{var e=this.getStorageContainer(),t=e.getItem(this.cookieConsentStorageKey);if(null===t||void 0===t)return void(this.isTrackedSession=-1);t.indexOf("false")!==-1?this.isTrackedSession=0:this.isTrackedSession=1}catch(a){this.isTrackedSession=-1}},updateIsTrackedSession:function(){if(this.canUserBeTracked)try{var e=-1,t=this.canUserBeTracked();if(t===!0?e=1:t===!1&&(e=0),e===this.isTrackedSession)return;this.isTrackedSession=e,1===this.isTrackedSession?this.enableTrackingForUser():0===this.isTrackedSession&&this.disableTrackingForUser()}catch(a){}},logPageVisit:function(){if(this.logPageVisits)try{var e={url:location.href,eid:this.engineId,cid:this.customerId},t=this.helpers.objectToQueryString(e),a=document.createElement("img");a.src=this.statisticsApiUrl+"/__ctm.gif?"+t,a.style.display="none",document.body.appendChild(a)}catch(s){}},setAutocompleteFilters:function(e){var t={};for(var a in this.filters)t[a]=this.filters[a];for(var a in e)t[a]=e[a];this.activeAutocompleteFilters=t},setResultElements:function(){this.resultsWrapper=this.getResultWrapperContainer(),null!=this.resultsWrapper&&(null!==this.resultsWrapper.querySelector(".search-result-count")||this.hideResultsCount||this.helpers.addElement(this.resultsWrapper,"search-result-count"),null!==this.resultsWrapper.querySelector(".search-did-you-mean")||this.hideSearchDidYouMean||this.helpers.addElement(this.resultsWrapper,"search-did-you-mean","","complementary"),null===this.resultsWrapper.querySelector(".search-results")&&this.helpers.addElement(this.resultsWrapper,"search-results"),null!==this.resultsWrapper.querySelector(".search-filters")||this.hideSearchFilters||this.helpers.addElement(this.resultsWrapper,"search-filters"),null===this.resultsWrapper.querySelector(".search-related")&&this.enableRelatedSearches&&this.helpers.addElement(this.resultsWrapper,"search-related"),this.elemSearchResults=this.getSearchResultsElements(),this.addAccessibilityAttributesToSearchResultsElements(this.elemSearchResults))},addAccessibilityAttributesToSearchResultsElements:function(e){null==e.resultCount||e.resultCount.hasAttribute("role")||e.resultCount.setAttribute("role","status")},setLoadingElements:function(){this.isOverlaySearch&&"customOverlay"!==this.type?this.loading='<div id="cludo-loading"><div id="loading_1" class="loading">Loading</div><div id="loading_2" class="loading">Loading</div></div>':this.loading='<div id="cludo-loading">'+this.loading+"</div>"},getResultWrapperContainer:function(){return document.getElementById(this.searchResultsWrapper)},getSearchResultsElements:function(){var e=this.getResultWrapperContainer();return{results:e.querySelector(".search-results"),resultCount:this.hideResultsCount?null:e.querySelector(".search-result-count"),didYouMean:this.hideSearchDidYouMean?null:e.querySelector(".search-did-you-mean"),filters:this.hideSearchFilters?null:e.querySelectorAll(".search-filters"),banner:this.bannerIsInSearchTemplate?null:e.querySelector(".search-banner"),relatedSearches:this.enableRelatedSearches?e.querySelectorAll(".search-related"):null}},setIsSearchResultPage:function(){if(10000068==this.customerId)return void(this.helpers.getWindowLocation().indexOf(this.searchUrl)>-1?this.isSearchResultPage=!0:this.isSearchResultPage=!1);var e=this.helpers.getWindowLocation();if(""==this.searchUrl||"/"==this.searchUrl)this.isSearchResultPage=!0;else if(e.indexOf(this.searchUrl)>-1){var t=this.getEverythingAfterSearchUrlButBeforeQueryParameters();if(t.indexOf("/")!=-1)return void(this.isSearchResultPage=!1);if(!t||0==t.indexOf("index"))return void(this.isSearchResultPage=!0);this.isSearchResultPage=!1}},getEverythingAfterSearchUrlButBeforeQueryParameters:function(){var e=this.helpers.getWindowLocation(),t=e.substring(e.indexOf(this.searchUrl)+this.searchUrl.length);return 0==t.indexOf("/")&&(t=t.substr(1)),t=t.split("?")[0],t=t.split("#")[0]},getWebsiteSettings:function(){var e=this.searchApiUrl+"/"+this.customerId+"/"+this.engineId+"/websites/publicsettings";this.httpRequest("GET",e,"settingsTemplate","")},getAuthorizationKey:function(){var e=this.customerId+":"+this.engineId+":"+this.searchSiteKey,t=base64.encode(e);return t},setFacets:function(){if("undefined"!=typeof this.facets.length||this.helpers.isEmpty(this.facets)){for(var e=!0,t=0,a=this.facets.length;t<a;t++)""!=this.helpers.getURLParam(this.getQueryParameterVariableName(this.facets[t]))&&(e=!1);for(var t=0,a=this.facets.length;t<a;t++){var s=[];null!==this.initFacets&&e&&(s="undefined"!=typeof this.initFacets[this.facets[t]]?this.initFacets[this.facets[t]]:[]),this.params.facets[this.facets[t]]=s}this.facets=this.params.facets}else{if(null!==this.initFacets)for(var r in this.facets)"undefined"!=typeof this.initFacets[r]?this.facets[r]=this.initFacets[r]:this.facets[r]=[];this.params.facets=this.facets}},setInitParams:function(){if(this.intranetSearch||(this.authorizationKey=this.getAuthorizationKey()),this.params.query=this.getQueryFromUrl(),this.pendingAcTitle=this._getReferralAcTitle(),this.pendingAcIndex=this._getReferralAcIndex(),this.showSearchPage="false"!==this.helpers.getURLParam(this.getQueryParameterVariableName("showsearchpage"))&&this.showSearchPage,this.searchQueryLength=this.params.query.replace(/\s/g,"").length,(!this.queryIsNullOrEmpty()||this.allowSearchWithoutSearchword)&&(this.isSearchResultPage||this.isOverlaySearch)&&(this.params.page=""!=this.helpers.getURLParam(this.getQueryParameterVariableName("page"))?parseInt(this.helpers.getURLParam(this.getQueryParameterVariableName("page"))):1,this.showSearchPage)){for(var e=0,t=this.searchInputsLength;e<t;e++){var a=this.getSearchComponentsObject(this.searchComponentsKeys[e]);this.setElementValue(a.searchBoxInput,this.params.query),null!=a.searchBoxClearButton&&""!==this.params.query&&this.helpers.removeClass(a.searchBoxClearButton,"cludo-hidden")}for(var s in this.params.facets){var r=this.helpers.getURLParam(this.getQueryParameterVariableName(s),!0);if(""!=r){for(var l=[],o=r.split(","),i=0;i<o.length;i++)l.push(decodeURIComponent(o[i]));this.params.facets[s]=l}}for(var n in this.params.filters){var r=this.helpers.getURLParam(this.getQueryParameterVariableName(n));if(""!=r){var u=r.split(",");this.params.filters[n]=u}}var c=this.helpers.getURLParam(this.getQueryParameterVariableName("sort"),!0);if(""!=c)for(var h=c.split(","),d=0;d<h.length;d++){var p=decodeURIComponent(h[d]).split("=");this.params.sort[p[0]]=p[1]}this.isOverlaySearch&&""!==this.params.query&&(this.openedOverlayOnInit=!0,this.overlayOpenModalWithSearch()),this.isSearchAfterRedirect=!0,this.endlessScroll?this.doSearchWithDelay(1,this.params.page,!0):this.doSearch(!0)}},setElementValue:function(){},setFacetsBeforeSearch:function(e){this.params.page=1;var t=0;if("undefined"==typeof e||this.helpers.isEmpty(e))if(null!==this.initFacets){for(var a in this.facets)"undefined"!=typeof this.initFacets[a]?this.facets[a]=this.initFacets[a]:this.facets[a]=[];this.params.facets=this.facets}else for(var a in this.facets)this.facets[a]=[];else for(var a in e)this.facets[a]=[],this.facets[a]=e[a],t++},addEvent:function(e,t,a){this.callback=function(){}(this),e[this.eventHandler.attach](this.eventHandler.on+t,this.callback,!0)},addEventAndRemove:function(e,t,a){this.callback=function(s){return function(r){e[s.eventHandler.detach](s.eventHandler.on+t,s.callback,!0),s[a](r)}}(this),e[this.eventHandler.attach](this.eventHandler.on+t,this.callback,!0)},searchBoxInputEvents:function(e){this.addEvent(e,"focus","searchBoxInputFocusEvent"),this.addEvent(e,"blur","searchBoxInputBlurEvent"),this.addEvent(e,"keyup","searchBoxInputKeyupEvent"),this.addEvent(e,"input","searchBoxInputEvent"),this.addEvent(e,"keydown","searchBoxInputKeydownEvent")},searchBoxEvents:function(e){this.addEvent(e,"click","searchBoxClickEvent")},searchBoxClearEvents:function(e){this.addEvent(e,"click","searchBoxClearClickEvent")},searchBoxWrapperEvents:function(){},searchBoxWrapperBlurEvent:function(e){var e=e||window.event,t=e.currentTarget||e.srcElement,a=t.querySelectorAll("input[type=text]")[0]||t.querySelectorAll("input[type=search]");a&&this.updateInputOnBlur&&(a.value=""===this.params.query||"*"===this.params.query?this.initSearchBoxText:this.params.query),this.disableAutocomplete||this.autocompleteRestore(),e&&e.stopPropagation?e.stopPropagation():e.cancelBubble=!0},searchBoxInputFocusEvent:function(e){var e=e||window.event,t=e.currentTarget||e.srcElement,a=this.getSearchComponentsObjectFromSearchInputElement(t),s=0;null!=a.searchBoxFacets?this.setAutocompleteFilters(a.searchBoxFacets):this.activeAutocompleteFilters=null,this.disableAutocomplete||this.autocompleteRestore(),0===this.websiteSettings.length&&this.getWebsiteSettings(),t.value=t.value===this.initSearchBoxText?"":this.params.query,"undefined"!=typeof t.selectionStart&&(s=0===t.selectionStart?t.value.length:t.selectionStart),"undefined"!=typeof t.setSelectionRange&&t.setSelectionRange(s,s),e&&e.stopPropagation?e.stopPropagation():e.cancelBubble=!0},searchBoxInputBlurEvent:function(e){var e=e||window.event,t=e.currentTarget||e.srcElement;t.value=""===this.params.query||"*"===this.params.query?this.initSearchBoxText:this.params.query,e&&e.stopPropagation?e.stopPropagation():e.cancelBubble=!0},searchBoxInputEvent:function(e){e&&(this.usingOnChange=!0,this.handleSearchBoxInputChangeEvent(e))},searchBoxInputKeyupEvent:function(e){this.usingOnChange===!1&&this.handleSearchBoxInputChangeEvent(e)},handleSearchBoxInputChangeEvent:function(e){var e=e||window.event,t=e.currentTarget||e.srcElement,a=this.getSearchComponentsObjectFromSearchInputElement(t),s=this.helpers.getKey(e);this.params.query=this.helpers.stripHtmlTags(t.value),this.disableAutocomplete||s==this.helpers.ENTER||s==this.helpers.DOWN||s==this.helpers.UP||s==this.helpers.ESC||s==this.helpers.TAB?s===this.helpers.ESC&&(this.isOverlaySearch&&this.elemOverlaySearch.overlay?this.overlayCloseModalWithSearch():this.disableAutocomplete||this.autocompleteRestore()):this.autocomplete(t),"undefined"!=typeof a.searchBoxClearButton&&(""!==this.params.query?this.helpers.removeClass(a.searchBoxClearButton,"cludo-hidden"):this.helpers.addClass(a.searchBoxClearButton,"cludo-hidden")),e&&e.stopPropagation?e.stopPropagation():e.cancelBubble=!0},searchBoxInputKeydownEvent:function(e){var e=e||window.event,t=e.currentTarget||e.srcElement,a=this.helpers.getKey(e);this.hideAutocomplete=!1,a!==this.helpers.ENTER&&a!==this.helpers.DOWN&&a!==this.helpers.UP||this.autocompleteKeyDownEvent(a,t,e),e&&e.stopPropagation?e.stopPropagation():e.cancelBubble=!0},searchBoxClickEvent:function(e){var e=e||window.event,t=e.currentTarget||e.srcElement,a=this.getSearchComponentsObjectFromSearchBoxButton(t);this.disableAutocomplete||this.autocompleteRestore(),this._handleQuickLinks()||(this.setFacetsBeforeSearch(a.searchBoxFacets),this.isOverlaySearch&&this.overlayOpenModalWithSearch(),this.resetFiltersBeforeSearch&&(this.params.filters={}),this.search(),e&&e.preventDefault?e.preventDefault():e.returnValue=!1,e&&e.stopPropagation?e.stopPropagation():e.cancelBubble=!0)},searchBoxClearClickEvent:function(e){var e=e||window.event,t=e.currentTarget||e.srcElement,a=this.getSearchComponentsObjectFromSearchBoxClearButton(t);if(a.searchBoxInput.value="",this.params.query="",this.elemSearchResults.banner&&(this.elemSearchResults.banner.innerHTML=""),this.elemSearchResults.didYouMean&&(this.elemSearchResults.didYouMean.innerHTML=""),this.elemSearchResults.filters)for(var s=0;s<this.elemSearchResults.filters.length;s++)this.elemSearchResults.filters[s].innerHTML="";if(this.elemSearchResults.relatedSearches)for(var s=0;s<this.elemSearchResults.relatedSearches.length;s++)this.elemSearchResults.relatedSearches[s].innerHTML="";this.elemSearchResults.resultCount&&(this.elemSearchResults.resultCount.innerHTML=""),this.elemSearchResults.results&&(this.elemSearchResults.results.innerHTML=""),this.endlessScrollElements.loadMore&&this.helpers.addClass(this.endlessScrollElements.loadMore,"cludo-hidden"),this.endlessScrollElements.backToTop&&(this.helpers.removeClass(this.endlessScrollElements.backToTop,"cludo-opacity1"),this.helpers.addClass(this.endlessScrollElements.backToTop,"cludo-opacity0")),this.helpers.addClass(t,"cludo-hidden"),e&&e.preventDefault?e.preventDefault():e.returnValue=!1,e&&e.stopPropagation?e.stopPropagation():e.cancelBubble=!0},searchResultsEvents:function(){this.registerClickTrackingEvents(),this.didYouMeanEvents(),this.searchFacetsEvents(),this.paginationEvents(),this.removeFocusOnMouseClick(),this.registerRelatedSearchesClickEvents(),this.facetAttributeEvents(this.elemSearchResults.results)},registerRelatedSearchesClickEvents:function(){if(this.elemSearchResults.relatedSearches&&this.elemSearchResults.relatedSearches.length>0&&this.elemSearchResults.relatedSearches[0].querySelectorAll){for(var e=this,t=[],a=0;a<this.elemSearchResults.relatedSearches.length;a++){var s=this.elemSearchResults.relatedSearches[a].querySelectorAll("a");Array.prototype.push.apply(t,s)}for(var a=0;a<t.length;a++){var r=t[a];r.addEventListener("click",function(t){t.preventDefault();var a=t.target.attributes["data-relatedsearch"];if(a){var s=a.value;e.params.query=s,e.elemOverlaySearch&&e.elemOverlaySearch.searchBoxContentInput&&(e.elemOverlaySearch.searchBoxContentInput.value=s),e.search(),e.trackRelatedSearchClickEventHandler(s)}return!1})}}},registerClickTrackingEvents:function(){if(this.elemSearchResults.results.querySelectorAll){var e,t,a,s,r,l=Array.prototype.slice.call(this.elemSearchResults.results.querySelectorAll("a")),o=Array.prototype.slice.call(document.querySelectorAll("[data-cludo-banner-location=outside] a")),i=this;l=Array.prototype.concat.call(l,o);for(var n=0;n<l.length;n++)e=l[n],t=e.href,e.getAttribute("data-page")||t&&t.length>0&&(i.helpers.closest(e,"[data-cludo-result=banner]")&&(s=null!==e.getAttribute("title")?e.getAttribute("title"):""!==e.innerText?e.innerText:i.helpers.closest(e,"[data-cludo-result=banner]").getAttribute("data-cludo-title"),r=i.helpers.closest(e,"[data-cludo-result=banner]").getAttribute("data-cludo-id"),
e.setAttribute("data-cludo-result","banner"),e.setAttribute("data-cludo-index",1),e.setAttribute("data-cludo-object-id",r),e.setAttribute("data-cludo-title",s),decodeURIComponent(t).indexOf("#?"+i.paramsPrefix)!==-1&&e.addEventListener("click",function(e){e.preventDefault(),i.linkToSearchClickEvent(this)})),a=i.helpers.getURLParam(i.getQueryParameterVariableName("page")),e.setAttribute("data-cludo-page",a),e.addEventListener("click",function(e){var t=!1;return e.preventDefault(),(e.ctrlKey||e.metaKey)&&(t=!0),i.trackClickEventHandler(this,t),!1}),i.addEvent(e,"keyup","searchResultKeyUpEvent"))}},searchResultClickEvent:function(e){var e=e||window.event,t=e.currentTarget||e.srcElement,a=e.metaKey&&this.helpers.isMac()||e.ctrlKey&&!this.helpers.isMac()?"_blank":t.target;t.setAttribute("target",a),"_blank"===a&&t.setAttribute("rel","noopener"),this.trackClickEventHandler(t),e&&e.preventDefault?e.preventDefault():e.returnValue=!1,e&&e.stopPropagation?e.stopPropagation():e.cancelBubble=!0},searchResultKeyUpEvent:function(e){var e=e||window.event,t=e.currentTarget||e.srcElement,a=this.helpers.getKey(e);a===this.helpers.TAB&&(this.resultItemCurrentlyFocusedElement=t,this.userIsUsingTabulator=!0),e&&e.stopPropagation?e.stopPropagation():e.cancelBubble=!1},searchFacetsEvents:function(){if(null!==this.elemSearchResults.filters)for(var e=0,t=this.elemSearchResults.filters.length;e<t;e++)for(var a=this.elemSearchResults.filters[e].querySelectorAll("LI"),s=0,r=a.length;s<r;s++)!function(e){a[s].onclick=function(t){t=t||window.event;var a=t.target||t.srcElement;if("A"==a.nodeName||"INPUT"==a.nodeName){t&&t.stopPropagation?t.stopPropagation():event.cancelBubble=!0,t&&t.preventDefault?t.preventDefault():t.returnValue=!1;var s=this.querySelector("a");if(null!=s){var r=null!==s.getAttribute("data-facet-name")?s.getAttribute("data-facet-name"):"Category",l=s.getAttribute("data-facet"),o=null!==s.getAttribute("data-multifacet")&&s.getAttribute("data-multifacet");e.facet(r,l,o)}}}}(this)},facetAttributeEvents:function(e){if(e)for(var t=e.querySelectorAll("a[data-facet-name]"),a=0;a<t.length;a++){var s=t[a];!function(e){s.onclick=function(t){t.preventDefault(),t.stopPropagation();var a=null!==this.getAttribute("data-facet-name")?this.getAttribute("data-facet-name"):"Category",s=this.getAttribute("data-facet"),r=null!==this.getAttribute("data-multifacet")&&this.getAttribute("data-multifacet");e.facet(a,s,r)}}(this)}},linkToSearchClickEvent:function(e){var t=e.getAttribute("href"),a="_blank"===e.getAttribute("target");t&&!a&&(window.location=t,window.location.reload())},didYouMeanEvents:function(){null!==this.elemSearchResults.didYouMean&&!function(e){e.elemSearchResults.didYouMean.onclick=function(t){t=t||window.event,t&&t.stopPropagation?t.stopPropagation():t.cancelBubble=!0,t&&t.preventDefault?t.preventDefault():t.returnValue=!1,e.setDidYouMean()}}(this)},paginationEvents:function(){if(this.totalDocuments>0)for(var e=this.elemSearchResults.results.querySelectorAll(".search_page_list"),t=0,a=e.length;t<a;t++)for(var s=e[t].querySelectorAll("LI"),r=0,l=s.length;r<l;r++)!function(e){s[r].onclick=function(t){if(t=t||window.event,t&&t.stopPropagation?t.stopPropagation():t.cancelBubble=!0,t&&t.preventDefault?t.preventDefault():t.returnValue=!1,null!=this.querySelector("a")){var a=this.querySelector("a").getAttribute("data-page");e.page(a)}}}(this)},removeFocusOnMouseClick:function(e){if(document.querySelectorAll){var t=document.getElementById(this.searchResultsWrapper).querySelectorAll("a,button");for(var a in t)t[a].onmousedown=function(){this.blur(),this.hideFocus=!0,this.style.outline="none"},t[a].onmouseup=function(){this.blur(),this.hideFocus=!1,this.style.outline=null}}},autocomplete:function(e){var t=this,a=0,s=300;return this.searchQueryLength=t.params.query.replace(/\s/g,"").length,!this.searchQueryLength||this.searchQueryLength<this.autocompleteMinimumQueryLength?void this.autocompleteRestore():void(this.searchQueryLength<=2?(this.timeoutId=null,this.autocompleteDoRequest(e)):this.searchQueryLength&&(a=this.searchQueryLength>5?s:Math.floor(s*this.searchQueryLength/8,1e3),null!==this.autocompleteResponceData&&(this.autocompleteResponceData.query=this.params.query,this.autocompleteTemplate(this.autocompleteResponceData,e,!0)),clearTimeout(t.timeoutId),this.timeoutId=setTimeout(function(){t.timeoutId=null,t.searchQueryLength&&(t.params.query=t.helpers.removeUnsafeCharacters(t.params.query),t.autocompleteDoRequest(e))},a)))},autocompleteDoRequest:function(e){var t=this,a=t.params.filters,s="";""!==t.params.query&&(this.lastAcQuery=t.params.query,t.richAutocomplete?(this.activeAutocompleteFilters&&(t.params.filters=this.activeAutocompleteFilters),s=t.searchApiUrl+"/"+t.customerId+"/"+t.engineId+"/"+t.autoCompleteControllerAction,t.params.text=t.params.query,t.httpRequest("POST",s,"autocompleteTemplate",e),t.params.filters=a):(s=t.searchApiUrl+"/"+t.customerId+"/"+t.engineId+"/"+t.autoCompleteControllerAction,s+="?text="+encodeURIComponent(t.params.query),t.helpers.isEmpty(t.params.filters)||("undefined"!=typeof t.params.filters.DomainName&&(s+="&filters[DomainName]="+encodeURIComponent(t.params.filters.DomainName)),"undefined"!=typeof t.params.filters.Language&&(s+="&languages="+encodeURIComponent(t.params.filters.Language))),t.params.enablesa===!0&&(s+="&enablesa=true"),t.httpRequest("GET",s,"autocompleteTemplate",e)))},autocompleteRestore:function(){this.debug!==!0&&(this.timeoutId&&(clearTimeout(this.timeoutId),this.timeoutId=null),this.helpers.removeElement("autocomplete_hint"),this.helpers.removeElement("search_autocomplete"),this.selectedIndex=-1)},facet:function(e,t,a){if(null===t||"null"===t)this.params.facets[e]=[];else{if(!this.applyMultiLevelFacets)for(var s in this.facets)this.facets.hasOwnProperty(s)&&!a&&(this.params.facets[s]=[]);if(a){var r=this.params.facets[e].indexOf(t);r>-1?this.params.facets[e].splice(r,1):this.params.facets[e].push(t)}else this.params.facets[e][0]=t}this.params.page=1,this.endlessScroll&&this.jumpToTopOnFacetClick&&this.endlessScrollBackToTopClickEvent(),this.jumpToTopOnFacetClick&&window.scrollTo(0,0),this.resetFiltersBeforeSearch&&(this.params.filters={}),this.doSearch()},clearFacet:function(e,t){var a=this.facets[e].indexOf(t);a>-1&&this.facets[e].splice(a,1),this.jumpToTopOnFacetClick&&window.scrollTo(0,0),this.search()},clearAllFacets:function(){for(var e in this.facets)this.facets[e]=[]},clearAllFacetsAndSearch:function(){this.clearAllFacets(),this.jumpToTopOnFacetClick&&window.scrollTo(0,0),this.search()},filter:function(e,t){this.params.filters[e]=t,this.params.page=1,this.endlessScroll&&this.jumpToTopOnFacetClick&&this.endlessScrollBackToTopClickEvent(),this.jumpToTopOnFacetClick&&window.scrollTo(0,0),this.doSearch()},clearAllFilters:function(){this.params.filters={},this.jumpToTopOnFacetClick&&window.scrollTo(0,0),this.search()},clearAllFacetsAndFilters:function(){for(var e in this.facets)this.facets[e]=[];this.params.filters={},this.jumpToTopOnFacetClick&&window.scrollTo(0,0),this.search()},setSortOrder:function(e,t){this.params.sort[e]=t,this.params.page=1,this.doSearch()},clearSortOrder:function(){},page:function(e){window.scrollTo(0,0),"next"==e?this.params.page++:"prev"==e?this.params.page--:this.params.page=e,this.doSearch()},setDidYouMean:function(){this.autocompleteRestore(),this.params.query=this.didYouMean,this.search()},search:function(){document.activeElement.blur();for(var e=0,t=this.searchInputsLength;e<t;e++){var a=this.getSearchComponentsObject(this.searchComponentsKeys[e]);this.setElementValue(a.searchBoxInput,this.params.query)}this.params.page=1,this.helpers.isEmpty(this.facets)||(this.params.facets=this.facets),this.autocompleteRestore(),this.endlessScroll&&this.jumpToTopOnFacetClick&&this.endlessScrollBackToTopClickEvent(),this.elemSearchResults.resultCount&&!this.hideResultsCount&&(this.elemSearchResults.resultCount.innerHTML=""),this.doSearch()},doSearch:function(){if(this.updateQuerySessionId(),!this.isSearchResultPage)return void(this.queryIsNullOrEmpty()&&!this.allowSearchWithoutSearchword||this.redirectToUrl(this.searchUrl+"#?"+this.convertParamsToString()));if("customOverlay"===this.type&&this.helpers.addClass(this.resultsWrapper,this.ovarlayResultsWrapperOpenClass),this.elemSearchResults.results&&(this.endlessScroll?(this.isLazyLoading=!0,this.helpers.addClass(this.endlessScrollElements.loadMore,"cludo-hidden"),this.elemSearchResults.results.innerHTML+=this.loading):this.elemSearchResults.results.innerHTML=this.loading),null!==this.elemSearchResults.didYouMean&&(this.didYouMean=this.elemSearchResults.didYouMean.innerHTML=""),!this.queryIsNullOrEmpty()||this.allowSearchWithoutSearchword){this.allowSearchWithoutSearchword&&(this.params.query="*"!=this.params.query&&""!=this.params.query?this.params.query:"*"),this.changeWindowLocation===!0&&(window.location.hash="#?"+this.convertParamsToString());var e=this.searchApiUrl+"/"+this.customerId+"/"+this.engineId+"/search";this.params.query=this.helpers.removeUnsafeCharacters(this.params.query),this.httpRequest("POST",e,"searchResultTemplate",this.elemSearchResults)}else{if(this.elemSearchResults.resultCount&&!this.hideResultsCount&&(this.elemSearchResults.resultCount.innerHTML=""),this.elemSearchResults.filters)for(var t=0;this.elemSearchResults.filters.length>t;t++)this.elemSearchResults.filters[t].innerText="";var a=this.translateProvider.translate("no_search_term");this.errorTemplate(a)}},doSearchWithDelay:function(e,t){this.updateQuerySessionId();var a=1===e?0:1e3,s=this;e<=t?this.browserIsEdge14?(s.params.page=e,s.doSearch(),e++,s.doSearchWithDelay(e,t)):this.doSearchWithDelayTimer=setTimeout(function(){s.params.page=e,s.doSearch(),e++,s.doSearchWithDelay(e,t)},a):this.doSearchWithDelayTimer=null},updateQuerySessionId:function(){this.params.query!=this.lastQuery&&(this.querySessionId=this.generateUUID()),this.lastQuery=this.params.query},hasQuicklink:function(){if(this.websiteSettings.quicklinks)for(var e=0,t=this.websiteSettings.quicklinks.length;e<t;e++)for(var a=0,s=this.websiteSettings.quicklinks[e].terms.length;a<s;a++){var r=void 0,l=this._getFixedQuery(),o=this.websiteSettings.quicklinks[e];if(this._isStringMatch(this.params.query,o.terms[a].name)?r=this.params.query:this._isStringMatch(l,o.terms[a].name)&&(r=l,this.fixedQuery=void 0),r)return this.quicklink=o,this.quicklink.matchQuery=r,!0}return!1},redirectToUrl:function(e){window.location.href=e},getQueryParameterVariableName:function(e){return this.paramsPrefix+e},getQueryFromUrl:function(){return this.helpers.stripHtmlTags(this.helpers.getURLParam(this.getQueryParameterVariableName("query")).replace(/^[{]+|[}]+$/g,""))},convertParamsToString:function(){var e="";e+=this.getQueryParameterVariableName("query")+"="+encodeURIComponent(this.params.query);for(var t in this.facets)if(this.params.facets[t].length){for(var a="",s=0;s<this.params.facets[t].length;s++)0!==s&&(a+=","),a+=encodeURIComponent(this.params.facets[t][s]);e+="&",e+=this.getQueryParameterVariableName(t)+"="+a}for(var r in this.filters)"undefined"!=typeof this.params.filters[r]&&this.params.filters[r].length&&(e+="&",e+=this.getQueryParameterVariableName(r)+"="+this.params.filters[r].toString());var l=Object.keys(this.params.sort);if(void 0!==l[0]){e+="&";for(var o="",i=0;i<l.length;i++)0!==i&&(o+=","),o+=encodeURIComponent(l[i]+"="+this.params.sort[l[i]]);e+=this.getQueryParameterVariableName("sort")+"="+o}return e+="&",e+=this.getQueryParameterVariableName("page")+"="+this.params.page,"undefined"!=typeof this._getReferralPageTitle()&&null!==this._getReferralPageTitle()&&""!==this._getReferralPageTitle()?e+="&"+this.getQueryParameterVariableName("refurl")+"="+encodeURIComponent(this._getReferralUrl()):this.isSearchResultPage||(e+="&"+this.getQueryParameterVariableName("refurl")+"="+encodeURIComponent(this._getCurrentUrl())),!this.isOverlaySearch||""!==this._getReferralPageTitle()&&""!==this._getReferralUrl()||(e+="&"+this.getQueryParameterVariableName("refurl")+"="+encodeURIComponent(this._getCurrentUrl())+"&"+this.getQueryParameterVariableName("refpt")+"="+encodeURIComponent(document.title)),"undefined"!=typeof this._getReferralUrl()&&null!==this._getReferralUrl()&&""!==this._getReferralUrl()?e+="&"+this.getQueryParameterVariableName("refpt")+"="+encodeURIComponent(this._getReferralPageTitle()):this.isSearchResultPage||(e+="&"+this.getQueryParameterVariableName("refpt")+"="+encodeURIComponent(document.title)),this.pendingAcTitle&&(e+="&"+this._getReferralAcTitleKey()+"="+encodeURIComponent(this.pendingAcTitle),e+="&"+this._getReferralAcIndexKey()+"="+encodeURIComponent(this.pendingAcIndex)),window.location.hash.indexOf(this.getQueryParameterVariableName("engine")+"=")>0&&(e+="&"+this.getQueryParameterVariableName("engine")+"="+this.engineId),e},httpRequest:function(e,t,a,s){var r="POST"===e?"application/json"===this.xhrRequestHeader?JSON.stringify(this.params):"Params="+encodeURIComponent(JSON.stringify(this.params)):null,l=new XMLHttpRequest;l.open(e,t,!0),l.onreadystatechange=function(e,t,a,s,r){return function(){t.httpCallback(e,t,a,s,r)}}(l,this,a,s,this.params.query),l.setRequestHeader("Content-type",this.xhrRequestHeader+";charset=UTF-8"),l.setRequestHeader("Accept",this.xhrRequestHeader),this.intranetSearch||l.setRequestHeader("Authorization","SiteKey "+this.authorizationKey),l.send(r)},httpCallback:function(e,t,a,s,r){if(4===e.readyState)if(200==e.status){var l=JSON.parse(e.responseText);l.query=r,t[a](l,s),"autocompleteTemplate"===a&&(t.autocompleteResponceData=l),l.enableSiteimproveAnalyticsIntegration===!0&&/\/hash\/\?cludoquery=/i.test(window.location.href)&&(window.location.href=window.location.href.replace(/\/hash\/\?cludoquery=/i,"#?cludoquery="))}else{var o=[t.translateProvider.translate("error")];t.errorTemplate(o),"autocompleteTemplate"===a&&(t.autocompleteResponceData=null)}},autocompleteTemplate:function(e,t,a){var s;if(!e.query||this.params.query===e.query){if(this.translateSearchTemplates&&e&&(e.SearchResult=this.translateProvider.translateTokens(e.SearchResult)),this.selectedIndex=-1,this.elemAutocomplete.lists=[],this.elemAutocomplete.listsItems=[],this.hideAutocomplete||!e||this.richAutocomplete||e.length){if(!this.hideAutocomplete&&e){if(this.autocompleteRestore(),this.richAutocomplete){if(!(e.TotalResults>0||e.TotalSuggestions>0||this.autocompleteForceUseTemplate===!0))return void(this.customCallbackAfterAutocomplete&&this.customCallbackAfterAutocomplete());s=this.helpers.addElement(t.parentNode,"search_autocomplete","search_autocomplete"),this.elemAutocomplete.lists.push(s),s.innerHTML=e.SearchResult;for(var r=s.querySelectorAll("LI"),l=0,o=r.length;l<o;l++){var i=r[l].innerText,n=this.getAutocompleteHighlightedWords(i),u=r[l].getElementsByTagName("a")[0];u?u.innerHTML=n:r[l].innerHTML=n}this.elemAutocomplete.listsItems=r}else{var c=document.createElement("span");c.id="autocomplete_hint",c.style.display="none",c.innerText=this.translateProvider.translateTokens("{{template_autocomplete_hint}}"),s=document.createElement("UL"),s.className="search_autocomplete",s.setAttribute("id","search_autocomplete"),s.setAttribute("role","listbox"),this.elemAutocomplete.lists.push(s);for(var l=0,o=e.length;l<o;l++){var h=document.createElement("li");h.innerHTML=this.getAutocompleteHighlightedWords(e[l]).replace("!",""),h.setAttribute("role","option"),s.appendChild(h),this.elemAutocomplete.listsItems.push(h)}t.parentNode.appendChild(c),t.parentNode.appendChild(s)}for(var d=this.elemAutocomplete.lists.length,l=0,o=d;l<o;l++)this.addEventAndRemove(this.elemAutocomplete.lists[l],"mouseover","autocompleteMouseOverEvent");for(var p=this.elemAutocomplete.listsItems.length,l=0,o=p;l<o;l++)this.addEventAndRemove(this.elemAutocomplete.listsItems[l],"mousedown","autocompleteMouseDownEvent")}}else this.autocompleteRestore();this.customCallbackAfterAutocomplete&&!a&&this.customCallbackAfterAutocomplete()}},getAutocompleteHighlightedWords:function(e){for(var t=this.params.query.split(" "),a=0,s=t.length;a<s;a++)"undefined"!=typeof t[a]&&""!==t[a]&&(e=this.helpers.highlightSearchword(e,t[a]));return e},autocompleteMouseOverEvent:function(e){e=e||window.event;var t=e.currentTarget||e.srcElement;e&&e.stopPropagation?e.stopPropagation():e.cancelBubble=!0;for(var a=t.querySelectorAll("LI"),s=a.length,r=0;r<s;r++)this.helpers.removeClass(a[r],"active");this.selectedIndex=-1},autocompleteMouseDownEvent:function(e){var e=e||window.event,t=e.currentTarget||e.srcElement;e&&e.stopPropagation?e.stopPropagation():e.cancelBubble=!0,this.params.query=t.innerText;for(var a=0,s=this.searchInputsLength;a<s;a++){var r=this.getSearchComponentsObject(this.searchComponentsKeys[a]);this.setElementValue(r.searchBoxInput,this.params.query)}this.autocompleteSetSelectedItem(t)},autocompleteKeyDownEvent:function(e,t,a){var s=this.elemAutocomplete.listsItems.length,a=a||window.event,t=a.currentTarget||a.srcElement,r=this.getSearchComponentsObjectFromSearchInputElement(t);a&&a.preventDefault?a.preventDefault():a.returnValue=!1;var l=[];if(e===this.helpers.ENTER)if(this.selectedIndex<0){if(this.hideAutocomplete=!0,this.autocompleteRestore(),a&&a.preventDefault?a.preventDefault():a.returnValue=!1,this.params.query=this.helpers.stripHtmlTags(t.value),this._handleQuickLinks())return;this.setFacetsBeforeSearch(r.searchBoxFacets),this.isOverlaySearch&&this.overlayOpenModalWithSearch(),this.resetFiltersBeforeSearch&&(this.params.filters={}),this.search()}else l=this.elemAutocomplete.listsItems[this.selectedIndex],this.params.query=this.helpers.stripHtmlTags(l.innerText),this.autocompleteSetSelectedItem(l);else if(!this.disableAutocomplete&&(e===this.helpers.DOWN||e===this.helpers.UP)){e===this.helpers.DOWN&&(this.selectedIndex=this.selectedIndex==s-1?-1:this.selectedIndex,this.selectedIndex++),e===this.helpers.UP&&(this.selectedIndex=0==this.selectedIndex||this.selectedIndex==-1?s:this.selectedIndex,this.selectedIndex--);for(var o=0;o<s;o++)this.helpers.removeClass(this.elemAutocomplete.listsItems[o],"active");l=this.elemAutocomplete.listsItems[this.selectedIndex],l.className="active";var i=this.helpers.trim(l.innerText);i=i.replace(/(\&shy;|Â­|&#173;)/gi,""),this.params.query=i;for(var o=0,s=this.searchInputsLength;o<s;o++){var n=this.getSearchComponentsObject(this.searchComponentsKeys[o]);this.setElementValue(n.searchBoxInput,this.params.query)}}},autocompleteSetSelectedItem:function(e){if(e.hasChildNodes()){if(e.getElementsByTagName("a")[0]){var t=e.getElementsByTagName("a")[0].href;this.trackClickEventHandlerForRichAutocompleteLink(e.getElementsByTagName("a")[0]);var a=this;return void this.pushClickLog(this._buildQueryLogObjectForRichAutocompleteLink(),function(){a.redirectToUrl(t)})}if(this._handleQuickLinks())return;var s=this.helpers.closest(e,"#search_autocomplete");s&&"undefined"!=typeof s.parentElement.id&&this.setFacetsBeforeSearch(this.getSearchComponentsObjectFromAutocompleteElement(s).searchBoxFacets),this.isOverlaySearch&&this.overlayOpenModalWithSearch(),this.resetFiltersBeforeSearch&&(this.params.filters={}),this.pendingAcTitle=this.lastAcQuery,this.pendingAcIndex=[].indexOf.call(e.parentNode.children,e)+1,this.doSearch(),this.autocompleteRestore()}},searchResultTemplate:function(e,t){if(this.publicSettingsRetrieved===!1)_self=this,this.reCallSearchResultTemplateTimer=setTimeout(function(){_self.searchResultTemplate(e,t)},250);else{if(this.translateSearchTemplates&&e&&(e.Facets=this.translateProvider.translateTokens(e.Facets),e.SearchResult=this.translateProvider.translateTokens(e.SearchResult)),this.totalDocuments=e.TotalDocuments,this.fixedQuery=e.FixedQuery,this.banners=e.Banners,this.responseTime=e.ResponseTime,this.queryId=e.QueryId,this.track(this.totalDocuments),this.endlessScroll?(this.isLazyLoading=!1,this.helpers.removeElement("cludo-loading"),1==this.params.page?(t.results.innerHTML=e.SearchResult,!this.helpers.pageCanScroll(this.endlessScroll.bottomOffset)&&this.params.page!==Math.ceil(this.totalDocuments/this.endlessScroll.resultsPerPage)&&this.totalDocuments>0&&this.helpers.removeClass(this.endlessScrollElements.loadMore,"cludo-hidden")):(t.results.innerHTML+=e.SearchResult,this.userIsUsingTabulator&&t.results.getElementsByTagName("ul")[this.params.page-1].children[0].getElementsByTagName("a")[0].focus()),this.params.page>=this.endlessScroll.stopAfterPage&&this.totalDocuments>0&&(this.params.page===Math.ceil(this.totalDocuments/this.endlessScroll.resultsPerPage)?this.helpers.addClass(this.endlessScrollElements.loadMore,"cludo-hidden"):this.helpers.removeClass(this.endlessScrollElements.loadMore,"cludo-hidden"))):t.results.innerHTML=e.SearchResult,this.isOverlaySearch&&"customOverlay"!==this.type&&(this.elemOverlaySearch.searchBoxContent.style.zIndex="1"),null!==t.filters)for(var a=0,s=t.filters.length;a<s;a++)t.filters[a].innerHTML=e.TotalDocuments>0||!this.hideSearchFiltersIfNoResult?e.Facets:"";if(""!=e.DidYouMean&&null!==t.didYouMean&&"undefined"!=typeof t.didYouMean&&e.TotalDocuments<10&&(t.didYouMean.innerHTML=this.translateProvider.translate("did_you_mean",e.DidYouMean),this.didYouMean=e.DidYouMean),this.bannerIsInSearchTemplate||""==e.Banners||null===t.banner)this.bannerIsInSearchTemplate||null===t.banner||(t.banner.innerHTML="");else{for(var r="",a=0,s=e.Banners.length;a<s;a++)r+='<div data-cludo-banner-location="outside" data-cludo-result="banner" data-cludo-id="'+e.Banners[a].Id+'" data-cludo-title="'+e.Banners[a].Name+'" class="cludo-banner" role="banner">'+e.Banners[a].Banner+"</div>";t.banner.innerHTML=r}if(null!==t.resultCount){var l="";if(this.useFixedQueryInResultsCount&&""!=e.FixedQuery)l=this.translateProvider.translate("your_search_on",this.helpers.stripHtmlTags(this.params.query))+this.translateProvider.translate("total_results",0),l+=this.translateProvider.translate("searched_instead",e.FixedQuery),l+=this.translateProvider.translate("searched_instead_found",e.TotalDocuments);else if(0===e.TotalDocuments&&null!==this.customNoResultsMessage)l=this.customNoResultsMessage;else{var o=1===e.TotalDocuments?this.translateProvider.translate("total_result",e.TotalDocuments):this.translateProvider.translate("total_results",e.TotalDocuments);l=this.translateProvider.translate("your_search_on",this.helpers.stripHtmlTags(this.params.query))+o;var i=0;for(var n in this.facets)"undefined"!=typeof this.params.facets[n][0]&&null!==this.params.facets[n][0]&&(i>0&&(l+=this.translateProvider.translate("and")),l+=this.translateProvider.translate("in_category",this.helpers.stripHtmlTags(this.params.facets[n][0])),i++)}t.resultCount.innerHTML=l}if(t.relatedSearches&&e&&e.RelatedSearchesResult)for(var u=this.translateProvider.translateTokens(e.RelatedSearchesResult),a=0;a<t.relatedSearches.length;a++)t.relatedSearches[a].innerHTML="",t.relatedSearches[a].innerHTML+=u;else if(t.relatedSearches&&e&&!e.RelatedSearchesResult)for(var a=0;a<t.relatedSearches.length;a++)t.relatedSearches[a].innerHTML="";!this.focusOnResultsAfterSearch||this.endlessScroll&&1!=this.params.page||this.focusOnResults(),this.isSearchAfterRedirect=!1,this.customCallbackAfterSearch&&this.customCallbackAfterSearch(),this.searchResultsEvents(),this.pageInitFromBackForward||this._handleQuickLinks()}},errorTemplate:function(e){if(null!=this.resultsWrapper&&(this.elemSearchResults.results.innerHTML=e),this.elemSearchResults.relatedSearches&&this.elemSearchResults.relatedSearches.length>0)for(var t=0;t<this.elemSearchResults.relatedSearches.length;t++)this.elemSearchResults.relatedSearches[t].innerHTML=""},settingsTemplate:function(){},focusOnResults:function(){if(this.totalDocuments&&!this.isSearchAfterRedirect){var e=this.elemSearchResults.results.querySelectorAll("a")[0];""!==this.didYouMean&&null!==this.elemSearchResults.didYouMean&&(e=this.elemSearchResults.didYouMean.querySelectorAll("a")[0]),e&&(e.setAttribute("contenteditable",!0),e.focus(),e.removeAttribute("contenteditable"))}},isSearchWithOverlay:function(){},overlaySetTopSearchBox:function(){this.elemOverlaySearch.searchBox=this.helpers.addElement(document.body,"","cludo-search-form"),this.elemOverlaySearch.searchBox.style.position="absolute",this.elemOverlaySearch.searchBox.style[this.searchBoxPosition.align]=this.searchBoxPosition.x+"px",this.elemOverlaySearch.searchBox.style.top=this.searchBoxPosition.y+"px",this.elemOverlaySearch.searchBoxLabel=this.helpers.addLabelElement(this.elemOverlaySearch.searchBox,"cludo-search-form-input",this.translateProvider.translate("search_input_label")),this.elemOverlaySearch.searchBoxInput=this.helpers.addInputElement(this.elemOverlaySearch.searchBox,"searchrequest","search-input",this.initSearchBoxText,"cludo-search-form-input"),this.elemOverlaySearch.searchBoxButton=this.helpers.addButtonElement(this.elemOverlaySearch.searchBox,"search-button",this.translateProvider.translate("search_button_text"))},overlayOpenModalWithSearch:function(){this.isSearchResultPage=!0,"customOverlay"!==this.type&&(null===this.elemOverlaySearch.overlay&&(this.setOverlayElements(),this.setResultElements(),this.overlaySetHeight(),this.overlayAddEventsToSearchElements()),document.body.className=document.body.className+" cludo-search-modal-active",this.helpers.removeClass(this.elemOverlaySearch.overlay,"cludo-search-modal-overlay-inactive"),null!==this.elemOverlaySearch.searchBoxContentInput&&(this.elemOverlaySearch.searchBoxContentInput.value=this.params.query,_self=this,setTimeout(function(){_self.elemOverlaySearch.searchBoxContentInput.focus()},0)))},setOverlayElements:function(){var e=this.getOverlayParentElement();null===this.elemOverlaySearch.overlay&&(this.elemOverlaySearch.overlay=this.helpers.addElement(e,"cludo-search-modal","cludo-search-results")),null===this.elemOverlaySearch.overlayInner&&(this.elemOverlaySearch.overlayInner=this.helpers.addElement(this.elemOverlaySearch.overlay,"","cludo-search-modal-inner")),null===this.elemOverlaySearch.overlayHeader&&(this.elemOverlaySearch.overlayHeader=this.helpers.addElement(this.elemOverlaySearch.overlayInner,"cludo-search-modal-header")),null===this.elemOverlaySearch.closeButton&&(this.elemOverlaySearch.closeButton=this.helpers.addElement(this.elemOverlaySearch.overlayHeader,"","cludo-close"),this.elemOverlaySearch.closeButtonButton=this.helpers.addButtonElement(this.elemOverlaySearch.closeButton,"cludo-close-button",this.translateProvider.translate("overlay_close_button"))),null===this.elemOverlaySearch.searchBoxContent&&(this.elemOverlaySearch.searchBoxContent=this.helpers.addElement(this.elemOverlaySearch.overlayHeader,"","cludo-search-form-content"),this.elemOverlaySearch.searchBoxLabel=this.helpers.addLabelElement(this.elemOverlaySearch.searchBoxContent,"cludo-search-form-content-input",this.translateProvider.translate("search_input_label")),this.elemOverlaySearch.searchBoxContentInput=this.helpers.addInputElement(this.elemOverlaySearch.searchBoxContent,"searchrequestcontent","search-input",""!==this.params.query?this.params.query:this.initSearchBoxText,"cludo-search-form-content-input"),this.elemOverlaySearch.searchBoxContentButton=this.helpers.addButtonElement(this.elemOverlaySearch.searchBoxContent,"search-button",this.translateProvider.translate("search_button_text")),this.addSearchFormComponentFromWrapper("cludo-search-form-content",this.elemOverlaySearch.searchBoxContent)),null===this.elemOverlaySearch.overlayBody&&(this.elemOverlaySearch.overlayBody=this.helpers.addElement(this.elemOverlaySearch.overlayInner,"cludo-search-modal-body"),this.elemOverlaySearch.overlayBody.tabIndex=-1),null!==this.elemSearchResults.resultCount||this.hideResultsCount||this.helpers.addElement(this.elemOverlaySearch.overlayBody,"search-result-count"),null!==this.elemSearchResults.didYouMean||this.hideSearchDidYouMean||this.helpers.addElement(this.elemOverlaySearch.overlayBody,"search-did-you-mean","","complementary"),null!==this.elemSearchResults.filters||this.hideSearchFilters||(this.helpers.addElement(this.elemOverlaySearch.overlayBody,"search-filters"),this.helpers.addElement(this.elemOverlaySearch.overlayHeader,"search-filters")),null===this.elemSearchResults.relatedSearches&&this.helpers.addElement(this.elemOverlaySearch.overlayHeader,"search-related"),null===this.elemSearchResults.results&&this.helpers.addElement(this.elemOverlaySearch.overlayBody,"search-results"),this.endlessScrollSetElements(this.elemOverlaySearch.overlayBody),null===this.elemOverlaySearch.poweredByMobile&&(this.elemOverlaySearch.poweredByMobile=this.helpers.addElement(this.elemOverlaySearch.overlayBody,"cludo-poweredby-mobile"),this.elemOverlaySearch.poweredByMobile.innerHTML='<a href="https://cludo.com/?ref='+this.referalHostName+"&utm_source="+this.referalHostName+'&utm_medium=logo&utm_campaign=searchlogo" title="'+this.translateProvider.translate("poweredBy_title")+'" target="_blank" rel="noopener" id="cludo-poweredby-link-mobile">Powered by Cludo</a>'),null===this.elemOverlaySearch.overlayFooter&&(this.elemOverlaySearch.overlayFooter=this.helpers.addElement(this.elemOverlaySearch.overlayInner,"cludo-search-modal-footer")),null===this.elemOverlaySearch.poweredBy&&(this.elemOverlaySearch.poweredBy=this.helpers.addElement(this.elemOverlaySearch.overlayFooter,"cludo-poweredby"),this.elemOverlaySearch.poweredBy.innerHTML='<a href="https://cludo.com/?ref='+this.referalHostName+"&utm_source="+this.referalHostName+'&utm_medium=logo&utm_campaign=searchlogo" title="'+this.translateProvider.translate("poweredBy_title")+'" target="_blank" rel="noopener" id="cludo-poweredby-link">Powered by Cludo</a>',this.addEvent(this.elemOverlaySearch.poweredBy.getElementsByTagName("a")[0],"keydown","poweredByKeyupEvent"))},getOverlayParentElement:function(){if(this.getSearchComponentsObject(this.searchComponentsKeys[0]).inputWrapper){var e=this.getSearchComponentsObject(this.searchComponentsKeys[0]).inputWrapper.parentNode,t=0===e.offsetHeight&&0===e.offsetWidth;if(!t)return e;if(e=e.parentNode,t=0===e.offsetHeight&&0===e.offsetWidth,!t)return e}return document.body},overlaySetHeight:function(){if(!this.helpers.isMobile()){var e=window.innerHeight||document.documentElement.clientHeight,t=e>700?e-280:e-180;this.elemOverlaySearch.overlayBody.style.height=t+"px",this.endlessScrollElements.backToTop.style.top=t+80+"px",this.elemOverlaySearch.overlayFooter.style.top=t+135+"px"}},overlayAddEventsToSearchElements:function(){this.addEventAndRemove(this.elemOverlaySearch.closeButton,"click","closeButtonClickEvent"),this.addEventAndRemove(this.elemOverlaySearch.closeButton,"keydown","closeButtonKeyupEvent"),this.addEventAndRemove(window.document,"keydown","closeButtonWindowKeyupEvent"),this.endlessScrollElements.scrolledElement=this.elemOverlaySearch.overlayBody,this.endlessScrollElements.documentElement=this.elemOverlaySearch.overlayBody,this.endlessScrollAddScrollEvent(),this.openedOverlayOnInit||(this.searchBoxInputEvents(this.elemOverlaySearch.searchBoxContentInput),this.searchBoxWrapperEvents(this.elemOverlaySearch.searchBoxContent),this.searchBoxEvents(this.elemOverlaySearch.searchBoxContentButton))},overlaySetColorTheme:function(){var e=document.createElement("style");(document.head||document.getElementsByTagName("head")[0]).appendChild(e),e.setAttribute("type","text/css");var t="";if(""!==this.themeColor){var a=this.helpers.shadeColor(this.themeColor,-20);t+="                .cludo-search-modal-body a, .cludo-search-modal-header a{                    color: "+this.themeColor+';                }                #cludo-search-form-content input[type="search"] {                    border-top: 1px solid '+this.themeColor+";                    border-bottom: 1px solid "+this.themeColor+";                }                #cludo-search-form .search_autocomplete li:hover, .cludo-search-form .search_autocomplete li:hover,#cludo-search-form-content .search_autocomplete li:hover, #cludo-search-form .search_autocomplete li.active, .cludo-search-form .search_autocomplete li.active, #cludo-search-form-content .search_autocomplete li.active, .cludo-search_autocomplete .search_autocomplete li.active, .cludo-search_autocomplete .search_autocomplete li:hover {                    background-color: "+this.themeColor+";                }                #cludo-search-results .cludo-search-modal-header .search-filters .search-filters-mobile-button.open {                    background-color: "+this.themeColor+";                }                #cludo-search-results .search-filters ul a.active {                    background-color: "+this.themeColor+";                }                #cludo-search-results .cludo-search-modal-body .search-did-you-mean b {                    color: "+this.themeColor+";                }                #cludo-search-results .cludo-search-modal-body #cludo-load-more {                    background-color: "+this.themeColor+";                }                #cludo-search-results .cludo-search-modal-body #cludo-load-more:hover {                    background-color: "+a+";                }";
}var s=""!==this.elementFocusColor?this.elementFocusColor:this.themeColor;t+="            #cludo-search-results a:focus, #cludo-search-results button:focus, #cludo-search-form button:focus, #cludo-search-form input:focus, #cludo-search-form-content button:focus, #cludo-search-form-content input:focus {                border-color: "+s+" !important;            }",""!==this.themeBannerColor.backgroundColor&&(t+="                #cludo-search-results .cludo-search-modal-body .cludo-banner {                    background-color: "+this.themeBannerColor.backgroundColor+";                }"),""!==this.themeBannerColor.textColor&&(t+="                #cludo-search-results .cludo-search-modal-body .cludo-banner * {                    color: "+this.themeBannerColor.textColor+" !important;                }"),0!==this.borderRadius&&(t+="                .cludo-search-modal-header {                    border-radius: "+this.borderRadius+"px "+this.borderRadius+"px 0 0;                }                .cludo-search-modal-body {                    border-radius: 0 0 "+this.borderRadius+"px "+this.borderRadius+"px;                }                #cludo-search-results .search-filters ul {                    border-radius: "+this.borderRadius+"px;                }                #cludo-search-results .search-filters ul li:first-child a{                    border-radius: "+this.borderRadius+"px "+this.borderRadius+"px 0 0;                }                #cludo-search-results .search-filters ul li:last-child a{                    border-radius: 0 0 "+this.borderRadius+"px "+this.borderRadius+"px;                }                .search-results-item__inner__image img {                    border-radius: "+Math.floor(.75*this.borderRadius,10)+"px                }"),0!==this.borderRadiusInput&&(t+="                #cludo-search-form .search-input {                    border-radius: "+this.borderRadiusInput+"px;                }                #cludo-search-form .search-button {                    border-radius: 0 "+this.borderRadiusInput+"px "+this.borderRadiusInput+"px 0;                }"),"undefined"!=typeof e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))},overlayCloseModalWithSearch:function(e){this.isSearchResultPage=!1,window.location.hash="",this.helpers.removeClass(document.body,"cludo-search-modal-active"),this.helpers.removeElement("cludo-search-results"),this.elemSearchResults={results:null,pagination:null,filters:null,didYouMean:null,resultCount:null,banner:null},this.elemOverlaySearch={closeButton:null,overlay:null,overlayInner:null,overlayHeader:null,overlayBody:null,overlayFooter:null,searchWrapper:null,searchBox:null,searchBoxInput:null,searchBoxButton:null,searchBoxContent:null,searchBoxContentInput:null,searchBoxContentButton:null,poweredBy:null,poweredByMobile:null},this.endlessScrollElements={loadMore:null,backToTop:null},this.params.query="",this.params.page=1;for(var t=0,a=this.searchInputsLength;t<a;t++){var s=this.getSearchComponentsObject(this.searchComponentsKeys[t]);if(null!=s.wrapper){var r=s.wrapper.querySelectorAll("input[type=text]")[0]||s.wrapper.querySelectorAll("input[type=search]")[0];r&&(r.value=this.initSearchBoxText)}}},closeButtonClickEvent:function(){this.overlayCloseModalWithSearch()},closeButtonWindowKeyupEvent:function(e){var e=e||window.event,t=this.helpers.getKey(e);t===this.helpers.ESC&&(document.getElementById("search_autocomplete")?this.autocompleteRestore():this.overlayCloseModalWithSearch())},closeButtonKeyupEvent:function(e){var e=e||window.event,t=this.helpers.getKey(e);if(t===this.helpers.TAB&&e.shiftKey){var a=this;this.resetFocusTimerPoweredBy=setTimeout(function(){document.getElementById("cludo-poweredby-link").focus(),a.resetFocusTimerPoweredBy=null},100)}},poweredByKeyupEvent:function(e){var e=e||window.event,t=this.helpers.getKey(e);t!==this.helpers.TAB||e.shiftKey||this.overlayCloseModalWithSearch()},endlessScrollSetElements:function(e){null===this.endlessScrollElements.loadMore&&(document.getElementById("cludo-load-more")?(this.endlessScrollElements.loadMore=document.getElementById("cludo-load-more"),this.endlessScrollElements.loadMoreButton=this.endlessScrollElements.loadMore.getElementsByTagName("button")[0]):(this.endlessScrollElements.loadMore=this.helpers.addElement(e,"cludo-hidden","cludo-load-more"),this.endlessScrollElements.loadMoreButton=this.helpers.addButtonElement(this.endlessScrollElements.loadMore,"",this.translateProvider.translate("load_more"))),this.addEvent(this.endlessScrollElements.loadMore,"click","endlessScrollLoadMoreClickEvent")),null===this.endlessScrollElements.backToTop&&(document.getElementById("cludo-back-to-top")?(this.endlessScrollElements.backToTop=document.getElementById("cludo-back-to-top"),this.endlessScrollElements.backToTopButton=this.endlessScrollElements.backToTop.getElementsByTagName("button")[0]):(this.endlessScrollElements.backToTop=this.helpers.addElement(e,"cludo-opacity0","cludo-back-to-top"),this.endlessScrollElements.backToTopButton=this.helpers.addButtonElement(this.endlessScrollElements.backToTop,"",this.translateProvider.translate("backToTop"))),this.addEvent(this.endlessScrollElements.backToTop,"click","endlessScrollBackToTopClickEvent"),this.addEvent(this.endlessScrollElements.backToTop,"keyup","endlessScrollBackToTopKeyupEvent"))},endlessScrollAddScrollEvent:function(){var e=this;"attachEvent"===this.eventHandler.attach?this.endlessScrollElements.scrolledElement.attachEvent("onscroll",function(t){e.endlessScrollScrollEvent(t)}):this.endlessScrollElements.scrolledElement.addEventListener("scroll",function(t){e.endlessScrollScrollEvent(t)})},endlessScrollLoadMoreClickEvent:function(){},endlessScrollBackToTopClickEvent:function(){this.endlessScrollElements.documentElement&&(this.isOverlaySearch?this.endlessScrollElements.documentElement.scrollTop=0:(document.documentElement.scrollTop=0,document.body.scrollTop=0),this.endlessScrollElements.documentElement.scrollTop=0,this.helpers.removeClass(this.endlessScrollElements.backToTop,"cludo-opacity1"),this.helpers.addClass(this.endlessScrollElements.backToTop,"cludo-opacity0"))},endlessScrollBackToTopKeyupEvent:function(){var e=e||window.event,t=this.helpers.getKey(e);t===this.helpers.ENTER&&this.elemSearchResults.results.getElementsByTagName("ul")[0].children[0].getElementsByTagName("a")[0].focus()},endlessScrollScrollEvent:function(){var e=this.endlessScrollElements.scrolledElement.pageYOffset||this.endlessScrollElements.documentElement.scrollTop,t=this.endlessScrollElements.documentElement.scrollHeight,a=window.innerHeight||document.documentElement.clientHeight,s=t-a-this.endlessScroll.bottomOffset;s<=e&&0!=s&&0!=e&&!this.isLazyLoading&&this.params.page<this.endlessScroll.stopAfterPage&&this.totalDocuments>this.endlessScroll.resultsPerPage&&this.params.page<Math.ceil(this.totalDocuments/this.endlessScroll.resultsPerPage)&&(this.params.page++,this.doSearch()),e<=100&&(this.helpers.removeClass(this.endlessScrollElements.backToTop,"cludo-opacity1"),this.helpers.addClass(this.endlessScrollElements.backToTop,"cludo-opacity0")),e>100&&(this.helpers.removeClass(this.endlessScrollElements.backToTop,"cludo-opacity0"),this.helpers.addClass(this.endlessScrollElements.backToTop,"cludo-opacity1"))},track:function(e){if(this.enableExtendedTracking&&this._trackQuery(),"undefined"!=typeof this.websiteSettings.enableGoogleAnalyticsIntegration&&("undefined"!=typeof ga||"undefined"!=typeof gtag||"undefined"!=typeof dataLayer||"undefined"!=typeof _gaq)){var t=window.location.pathname+window.location.hash.substring(1),a="Search with results";0==e&&(a="Search without results"),this.websiteSettings.enableGoogleAnalyticsIntegration===!0&&"undefined"!=typeof t&&""!==t&&("undefined"!=typeof ga&&"undefined"!=typeof ga.getAll&&"undefined"!=typeof ga.getAll()[0]&&"undefined"!=typeof ga.getAll()[0].get("clientId")?(ga(ga.getAll()[0].get("name")+".send",{hitType:"pageview",page:t}),ga(ga.getAll()[0].get("name")+".send","event",{eventCategory:"Cludo Search",eventAction:"Search",eventLabel:a})):"undefined"!=typeof dataLayer&&"undefined"!=typeof gtag?gtag("event","Search",{event_category:"Cludo Search",event_label:a}):"undefined"!=typeof _gaq&&(_gaq.push(["_trackPageview",t]),_gaq.push("Cludo Search","Search",a)))}"undefined"!=typeof this.websiteSettings.enableSiteimproveAnalyticsIntegration&&this.websiteSettings.enableSiteimproveAnalyticsIntegration===!0&&this.trackSiteimproveAnalytics(this.params.query,e)},trackSiteimproveAnalytics:function(e,t){if("undefined"!=typeof _sz){var a=window.location.href,s=a.replace(/\/?#\/?/,"/hash/"),r=[];r.push(["ourl",s]),r.push(["title",document.title]),r.push(["sw",this.helpers.stripHtmlTags(e)]),r.push(["hits",t]),_sz.push(["trackdynamic",r])}},limitSearch:function(e,t){this.triggeringElelm=e;for(var a in t)this.predefinedFacetKey=a,this.predefinedFacetValue=t[a][0];"undefined"!=typeof this.triggeringElelm&&null!==this.triggeringElelm&&this.triggeringElelm.checked?this.initFacets=t:this.initFacets=null,this.addEvent(window,"hashchange","limitSearchOnHashchange"),this.addEvent(window,"load","limitSearchOnload")},limitSearchOnload:function(){urlParams=this.helpers.getURLParam(this.getQueryParameterVariableName(this.predefinedFacetKey)),"undefined"!=typeof urlParams&&""!==urlParams&&urlParams===this.predefinedFacetValue&&(this.triggeringElelm.checked=!0)},limitSearchOnHashchange:function(){urlParams=this.helpers.getURLParam(this.getQueryParameterVariableName(this.predefinedFacetKey)),"undefined"!=typeof urlParams&&""!==urlParams&&urlParams!==this.predefinedFacetValue&&(this.triggeringElelm.checked=!1,this.initFacets=null)},toggleMobileNavigation:function(e){var t=e.parentNode.getElementsByTagName("ul")[0];"none"!==t.style.display&&""!==t.style.display?(t.style.display="none",this.helpers.removeClass(e,"open")):(t.style.display="block",this.helpers.addClass(e,"open"))},toggleDropdown:function(e){var t=document.getElementById(e);"none"!==t.style.display&&""!==t.style.display?(t.style.display="none",this.helpers.removeClass(e,"open")):(t.style.display="block",this.helpers.addClass(e,"open"))},helpers:{UP:38,DOWN:40,ENTER:13,ESC:27,TAB:9,getKey:function(e){return window.event?e.keyCode:e.which?e.which:void 0},isMac:function(){},addClass:function(e,t){e&&(this.hasClass(e,t)||(e.className=e.className+" "+t))},removeClass:function(){},hasClass:function(e,t){if(e){var a=e.className.match(t);return!!a}return!1},removeElement:function(e){var t=document.getElementById(e);null!=t&&t.parentNode.removeChild(t)},addElement:function(e,t,a,s){var r=document.createElement("div");return"undefined"!=typeof t&&""!==t&&(r.className=t),"undefined"!=typeof a&&""!==a&&r.setAttribute("id",a),"undefined"!=typeof s&&""!==s&&r.setAttribute("role",s),e.appendChild(r),r},addLabelElement:function(e,t,a){var s=document.createElement("label");return s.setAttribute("for",t),s.innerHTML=a,e.appendChild(s),s},addInputElement:function(e,t,a,s,r){var l=document.createElement("input");return l.setAttribute("type","search"),l.id=r,l.name=t,l.className=a,l.setAttribute("value",s),l.autocomplete=this.autocompleteParamDefaultValue,e.appendChild(l),l},addButtonElement:function(e,t,a){var s=document.createElement("button");return s.setAttribute("type","button"),s.className=t,s.innerHTML=a,""!=t&&(s.id=t),e.appendChild(s),s},getWindowLocation:function(){return window.location.href},getWindowHash:function(){return window.location.hash},getPredefinedFacet:function(e,t){return document.getElementById(e).querySelectorAll("input[type=hidden]")[t].getAttribute("data-facet")},getURLParam:function(e,t){var a=this.getWindowHash();a.indexOf("#%3F")!==-1&&(a=a.replace("#%3F","#?"));var s=a.replace(new RegExp("^(?:.*[&\\?]"+encodeURIComponent(e).replace(/[\.\+\*]/g,"\\$&")+"(?:\\=([^&]*))?)?.*$","i"),"$1");return t?s:decodeURIComponent(s)},stripHtmlTags:function(e){if(null==e)return e;var t,a="(?:[^\"'>]|\"[^\"]*\"|'[^']*')*",s=new RegExp("<(?:!--(?:(?:-*[^->])*--+|-?)|script\\b"+a+">[\\s\\S]*?</script\\s*|style\\b"+a+">[\\s\\S]*?</style\\s*|/?[a-z]"+a+")>","gi");do t=e,e=e.replace(s,"");while(e!==t);return e.indexOf("<")>-1&&(e=e.replace(/<|>/g,"")),e},trim:function(){},removeUnsafeCharacters:function(e){var t=/"/gi,a=(e.match(t)||[]).length;return a%2&&(e=e.replace(t,"")),e=e.replace(/ (\+)+$/g,"")},highlightSearchword:function(e,t){try{var a=new RegExp("(^|\\s)("+t+")(|$)","ig");return e.replace(a,"$1<b>$2</b>$3")}catch(s){return e}},objectToQueryString:function(e){var t=[];for(var a in e)e.hasOwnProperty(a)&&t.push(encodeURIComponent(a)+"="+encodeURIComponent(e[a]));return t.join("&")},isEmpty:function(e){for(var t in e)return!1;return!0},isMobile:function(){var e=window.innerWidth;return e<767},isTablet:function(){var e=window.innerWidth;return e>767&&e>=940},shadeColor:function(e,t){var a=parseInt(e.substring(1,3),16),s=parseInt(e.substring(3,5),16),r=parseInt(e.substring(5,7),16);a=parseInt(a*(100+t)/100),s=parseInt(s*(100+t)/100),r=parseInt(r*(100+t)/100),a=a<255?a:255,s=s<255?s:255,r=r<255?r:255;var l=1==a.toString(16).length?"0"+a.toString(16):a.toString(16),o=1==s.toString(16).length?"0"+s.toString(16):s.toString(16),i=1==r.toString(16).length?"0"+r.toString(16):r.toString(16);return"#"+l+o+i},closest:function(e,t){return"undefined"==typeof Element.prototype.closest&&(Element.prototype.matches=Element.prototype.matches||Element.prototype.matchesSelector||Element.prototype.webkitMatchesSelector||Element.prototype.msMatchesSelector||function(e){for(var t=this,a=(t.parentNode||t.document).querySelectorAll(e),s=-1;a[++s]&&a[s]!==t;);return!!a[s]},Element.prototype.closest=Element.prototype.closest||function(){}),e.closest(t)},pageCanScroll:function(e){var t=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight,a=document.documentElement.scrollHeight;return a-e>t}},pushClickLog:function(e,t,a){return this.pushStat("clicklog",e,t,a)},pushQueryLog:function(e,t,a){return this.pushStat("querylog",e,t,a)},pushRelatedSearchesLog:function(e,t,a){return this.pushStat("relatedsearcheslog",e,t,a)},pushStat:function(e,t,a,s){s=s||1e3;var r=this.searchApiUrlPublic+"/"+this.customerId+"/"+this.engineId+"/search/pushstat/"+e,l=this._buildPushStatQuery(r,t),o=!1;this.xhrPost.apply(this,[l,function(){}]),a&&window.setTimeout(function(){},s)},xhrPost:function(e,t){var a=this,s=new XMLHttpRequest;s.open("POST",e,!0),s.onreadystatechange=function(){4===s.readyState&&200===s.status&&t&&t.apply(a,[])},s.setRequestHeader("Accept","application/json"),this.intranetSearch||s.setRequestHeader("Authorization","SiteKey "+this.getAuthorizationKey()),s.send()},trackRelatedSearchClickEventHandler:function(e){var t=this._buildReletedSearchesLogObject();this.pushRelatedSearchesLog.apply(this,[t])},trackClickEventHandler:function(e,t){t=t||!1,this.clickStat={element:e,index:e.getAttribute("data-cludo-index"),url:e.getAttribute("data-cludo-url")||e.href,title:e.getAttribute("data-cludo-title")||e.title,page:e.getAttribute("data-cludo-page"),logSource:e.getAttribute("data-cludo-result"),objectId:e.getAttribute("data-cludo-object-id")};var a=this._buildClickLogObject(this.clickStat),s=this;this.prepareNewWindow(e,t),this.pushClickLog.apply(this,[a,function(){s.goToClickedResult(e,t)}])},trackClickEventHandlerForRichAutocompleteLink:function(e){this.clickStat={element:e,index:e.getAttribute("data-cludo-index"),url:e.getAttribute("data-cludo-url")||e.href,title:e.getAttribute("data-cludo-title")||e.title,page:1}},prepareNewWindow:function(e,t){var a=e.getAttribute("target");this.newWindow=null,("_blank"===a||t)&&(this.newWindow=window.open("","_blank"))},goToClickedResult:function(e,t){var a=this.clickStat.url,s=e.attributes.href;s&&(a=s.value),this.newWindow||t?this.newWindow.location.href=a:window.location.href=a},getSessionId:function(){if(!this.isPersistentTrackingAllowed())return this.getSessionIdFromStorage(this.memoryStorageContainer);try{return this.getSessionIdFromStorage(this.getStorageContainer())}catch(e){return this.getSessionIdFromStorage(this.memoryStorageContainer)}},getSessionIdFromStorage:function(e){var t=e.getItem(this.sessionIdKey),a=e.getItem(this.sessionIdStartKey);return t&&!this.sessionExpired(a)||(t=this.generateUUID(),e.setItem(this.sessionIdKey,t)),e.setItem(this.sessionIdStartKey,new Date),t},memoryStorageContainer:{storage:{},getItem:function(e){return this.storage[e]},setItem:function(){},clear:function(){this.storage={}},length:function(){return Object.keys(this.storage).length},removeItem:function(e){this.storage[e]=null}},sessionExpired:function(e){return!e||Math.abs(new Date-Date.parse(e)>this.sessionExpiration)},generateUUID:function(){var e=(new Date).getTime();window.performance&&"function"==typeof window.performance.now&&(e+=performance.now());var t="xxxxxxxxxxxx4xxxyxxxxxxxxxxxxxxx".replace(/[xy]/g,function(){});return t},storageContainerSupported:function(){},isPersistentTrackingAllowed:function(){},getStorageContainer:function(){if(null!==this.cachedStorageContainerReference)return this.cachedStorageContainerReference;try{return this.storageContainerSupported(localStorage)?(this.cachedStorageContainerReference=localStorage,localStorage):(this.cachedStorageContainerReference=this.memoryStorageContainer,this.memoryStorageContainer)}catch(e){return this.cachedStorageContainerReference=this.memoryStorageContainer,this.memoryStorageContainer}},enableTrackingForUser:function(){this.getStorageContainer().setItem(this.cookieConsentStorageKey,!0)},disableTrackingForUser:function(){const e=this.getStorageContainer();e.clear(),e.setItem(this.cookieConsentStorageKey,!1)},queryIsNullOrEmpty:function(){return!this.params||!this.params.query||(""===this.params.query||this.params.query.replace(/\s/g,"").length<=0)},getDeviceType:function(){var e=this._getUserAgent();return/(tablet|ipad|playbook|silk)|(android(?!.*mobi))/i.test(e)&&!/(Tablet PC 2.0)/i.test(e)?"tablet":/Mobile|iP(hone|od|ad)|Android|BlackBerry|IEMobile|Kindle|Silk-Accelerated|(hpw|web)OS|Opera M(obi|ini)/.test(e)?"mobile":"desktop"},_handleQuickLinks:function(){if(!window.quickLinkHandled&&this.hasQuicklink()){window.quickLinkHandled=!0;var e=this;return this.pushQueryLog(this._buildQueryLogObjectForQuickLink(),function(){e.redirectToUrl(e.quicklink.url),e.quicklink.url.indexOf(this.getQueryParameterVariableName("query"))>-1&&e.isSearchResultPage&&!e.isOverlaySearch&&location.reload()}),!0}return window.quickLinkHandled=!1,!1},_buildClickLogObject:function(e){this.updateIsTrackedSession();var t={sz:this._getScreenResolution(),ua:this._getUserAgent(),refurl:this._getReferralUrl(),refpt:this._getReferralPageTitle(),sw:this._getSearchWord(),brl:this._getBrowserLanguage(),pn:e.page?e.page:1,hn:this._getHostName(),enid:this._getEngineId(),clurl:e.url,cli:e.index,title:e.title,qid:this._getQueryId(),sid:this.getSessionId(),qsid:this.querySessionId,ts:this.isPersistentTrackingAllowed(),dt:this._getDeviceType(),a:this._getTimestamp()};return e.logSource&&(t.ls=e.logSource),e.objectId&&(t.cloi=e.objectId),t},_buildQueryLogObject:function(){this.updateIsTrackedSession();var e={sz:this._getScreenResolution(),ua:this._getUserAgent(),refurl:this._getReferralUrl(),refpt:this._getReferralPageTitle(),sw:this._getSearchWord(),swr:this._getSearchWordRaw(),brl:this._getBrowserLanguage(),pn:this._getPageNumber(),hn:this._getHostName(),rc:this._getResultCount(),enid:this._getEngineId(),fquery:this._getFixedQuery(),ban:this._getBannersCount(),rt:this._getResponseTime(),ql:this._getQuicklink(),qid:this._getQueryId(),sid:this.getSessionId(),qsid:this.querySessionId,ts:this.isPersistentTrackingAllowed(),dt:this._getDeviceType(),a:this._getTimestamp()};return this._getBannersId&&(e.bnrs=this._getBannersId()),e},_buildReletedSearchesLogObject:function(){this.updateIsTrackedSession();var e={sz:this._getScreenResolution(),ua:this._getUserAgent(),refurl:this._getReferralUrl(),refpt:this._getReferralPageTitle(),sw:this._getSearchWord(),brl:this._getBrowserLanguage(),hn:this._getHostName(),enid:this._getEngineId(),qid:this._getQueryId(),sid:this.getSessionId(),qsid:this.querySessionId,ts:this.isPersistentTrackingAllowed(),dt:this._getDeviceType(),a:this._getTimestamp()};return e},_buildQueryLogObjectForQuickLink:function(){var e=this._buildQueryLogObject();return e.sw=this.quicklink.matchQuery||this.params.query,e.refurl=this._getCurrentUrl(),e.refpt=document.title,e.page=this.params.page,e.ql=this.quicklink.id,e},_buildQueryLogObjectForRichAutocompleteLink:function(){var e=this._buildClickLogObject(this.clickStat);return e.ls=this._getLogSource(),e.sw=this.params.query,e.refurl=this._getCurrentUrl(),e.refpt=document.title,e},_getCurrentUrl:function(){},_buildQueryLogParameters:function(e,t){var a=this._buildQueryLogObject(),s=this._buildUrl(e,a);return s},_buildPushStatQuery:function(e,t){return this._buildUrl(e,t)},_buildUrl:function(e,t){var a=e+"?",s=!0;for(var r in t){var l=null===t[r]?"":t[r];a+=(s?"":"&")+r+"="+encodeURIComponent(l),s=!1}return a},_getResultCount:function(){return this.totalDocuments},_getScreenResolution:function(){},_getUserAgent:function(){return navigator.userAgent},_getReferralUrl:function(){return this.helpers.getURLParam(this.getQueryParameterVariableName("refurl"))},_getReferralPageTitle:function(){return this.helpers.getURLParam(this.getQueryParameterVariableName("refpt"))},_getReferralAcTitle:function(){return this.helpers.getURLParam(this._getReferralAcTitleKey())},_getReferralAcIndex:function(){return this.helpers.getURLParam(this._getReferralAcIndexKey())},_getReferralAcTitleKey:function(){return this.getQueryParameterVariableName("refact")},_getReferralAcIndexKey:function(){return this.getQueryParameterVariableName("refaci")},_getSearchWord:function(){return this.getQueryFromUrl()},_getSearchWordRaw:function(){for(var e="",t=0,a=this.searchInputsLength;t<a;t++){var s=this.getSearchComponentsObject(this.searchComponentsKeys[t]);s.searchBoxInput&&(t>0&&(e+="|"),e+=this.helpers.stripHtmlTags(s.searchBoxInput.value))}return e},_getCookieId:function(){},_getBrowserLanguage:function(){},_getPageNumber:function(){return this.helpers.getURLParam(this.getQueryParameterVariableName("page"))},_getHostName:function(){return window.location.hostname},_getEngineId:function(){return this.engineId},_getFixedQuery:function(){return this.fixedQuery},_getResponseTime:function(){return this.responseTime},_getQuicklink:function(){},_getLogSource:function(){return"richautocomplete"},_getTimestamp:function(){return(new Date).getTime()},_getBannersCount:function(){return"undefined"==typeof this.banners||null===this.banners?0:this.banners.length},_getBannersId:function(){if("undefined"==typeof this.banners||null===this.banners)return 0;for(var e=[],t=0;t<this.banners.length;t++)e.push(this.banners[t].Id);return e},_getQueryId:function(){return this.queryId},_getIsTrackedSession:function(){return 0!==this.isTrackedSession},_getDeviceType:function(){return this.deviceType},_trackQuery:function(){},_handlePendingAcClick:function(){if(this.pendingAcTitle){title=this.pendingAcTitle,index=this.pendingAcIndex>0?this.pendingAcIndex:1;var e={index:index,url:null,title:this._getSearchWord(),page:1,logSource:"suggestion"},t=this._buildClickLogObject(e);t.ls="suggestion",t.sw=title,delete t.clurl,this.pushClickLog.apply(this,[t,function(){}]),this.pendingAcTitle=null,this.pendingAcIndex=null}},_insertTrackingImage:function(){var e=this._buildQueryLogParameters(this.searchApiUrl.substr(0,this.searchApiUrl.indexOf("/",8))+"/__utm.gif"),t=document.createElement("img");t.setAttribute("src",e),t.style.display="none",document.body.appendChild(t)},_isStringMatch:function(e,t){return e=e?e.toUpperCase():"",t=t?t.toUpperCase():"",e==t||!!(t.indexOf("*")>=0&&e.match(this._wildcardToRegex(t)))},_wildcardToRegex:function(){}