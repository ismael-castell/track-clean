(function(e,f){"object"===typeof exports&&"undefined"!==typeof module?f():"function"===typeof define&&define.amd?define("inert",f):f()})(this,function(){function e(b,a,d){if(b.nodeType==Node.ELEMENT_NODE){a&&a(b);var c=b.shadowRoot||b.webkitShadowRoot;if(c){e(c,a,c);return}if("content"==b.localName){b=b.getDistributedNodes?b.getDistributedNodes():[];for(c=0;c<b.length;c++)e(b[c],a,d);return}if("slot"==b.localName){b=b.assignedNodes?b.assignedNodes({flatten:!0}):[];for(c=0;c<b.length;c++)e(b[c],a,
d);return}}for(b=b.firstChild;null!=b;)e(b,a,d),b=b.nextSibling}function f(b){if(!b.querySelector("style#inert-style")){var a=document.createElement("style");a.setAttribute("id","inert-style");a.textContent="\n[inert] {\n\tpointer-events: none;\n\tcursor: default;\n}\n\n[inert], [inert] * {\n\tuser-select: none;\n\t-webkit-user-select: none;\n\t-moz-user-select: none;\n\t-ms-user-select: none;\n}\n";b.appendChild(a)}}var k=function(b,a){var d=window.Element.prototype;d=d.matches||d.mozMatchesSelector||
d.msMatchesSelector||d.oMatchesSelector||d.webkitMatchesSelector;if(!b||1!==b.nodeType)return!1;var c=b.parentNode;if(d)return d.call(b,a);a=c.querySelectorAll(a);d=a.length;for(c=0;c<d;c++)if(a[c]===b)return!0;return!1},l=function(b,a){if(!(b instanceof a))throw new TypeError("Cannot call a class as a function");},m=function(){}(),h=Array.prototype.slice,p=function(){function b(a,d){l(this,b);this._inertManager=d;this._rootElement=a;this._managedNodes=new Set([]);this._rootElement.hasAttribute("aria-hidden")&&(this._savedAriaHidden=this._rootElement.getAttribute("aria-hidden"));this._rootElement.setAttribute("aria-hidden","true");this._makeSubtreeUnfocusable(this._rootElement);this._observer=new MutationObserver(this._onMutation.bind(this));this._observer.observe(this._rootElement,
{attributes:!0,childList:!0,subtree:!0})}m(b,[{key:"destructor",value:function(){this._observer.disconnect();this._observer=null;this._rootElement&&(this.hasSavedAriaHidden?this._rootElement.setAttribute("aria-hidden",this.savedAriaHidden):this._rootElement.removeAttribute("aria-hidden"));this._rootElement=null;this._managedNodes.forEach(function(a){this._unmanageNode(a.node)},this);this._inertManager=this._managedNodes=null}},{key:"managedNodes",get:function(){return new Set(this._managedNodes)}},
{key:"hasSavedAriaHidden",get:function(){return"_savedAriaHidden"in this}},{key:"savedAriaHidden",set:function(a){this._savedAriaHidden=a},get:function(){return this._savedAriaHidden}},{key:"_makeSubtreeUnfocusable",value:function(){}},{key:"_visitNode",value:function(a){a.nodeType===Node.ELEMENT_NODE&&(a!==this._rootElement&&a.hasAttribute("inert")&&this._adoptInertRoot(a),(k(a,"a[href],area[href],input:not([disabled]),select:not([disabled]),textarea:not([disabled]),button:not([disabled]),iframe,object,embed,[contenteditable]")||a.hasAttribute("tabindex"))&&this._manageNode(a))}},{key:"_manageNode",value:function(a){a=this._inertManager.register(a,this);this._managedNodes.add(a)}},{key:"_unmanageNode",
value:function(a){(a=this._inertManager.deregister(a,this))&&this._managedNodes.delete(a)}},{key:"_unmanageSubtree",value:function(){}},{key:"_adoptInertRoot",value:function(a){var b=this._inertManager.getInertRoot(a);b||(this._inertManager.setInert(a,!0),b=this._inertManager.getInertRoot(a));b.managedNodes.forEach(function(a){this._manageNode(a.node)},this)}},{key:"_onMutation",value:function(){}}]);return b}(),q=
function(){function b(a,d){l(this,b);this._node=a;this._overrodeFocusMethod=!1;this._inertRoots=new Set([d]);this._destroyed=!1;this.ensureUntabbable()}m(b,[{key:"destructor",value:function(){this._throwIfDestroyed();this._node&&(this.hasSavedTabIndex?this._node.setAttribute("tabindex",this.savedTabIndex):this._node.removeAttribute("tabindex"),this._overrodeFocusMethod&&delete this._node.focus);this._inertRoots=this._node=null;this._destroyed=!0}},{key:"destroyed",get:function(){return this._destroyed}},
{key:"_throwIfDestroyed",value:function(){}},{key:"hasSavedTabIndex",get:function(){return"_savedTabIndex"in this}},{key:"node",get:function(){this._throwIfDestroyed();return this._node}},{key:"savedTabIndex",set:function(){},get:function(){this._throwIfDestroyed();return this._savedTabIndex}},{key:"ensureUntabbable",value:function(){var a=this.node;k(a,"a[href],area[href],input:not([disabled]),select:not([disabled]),textarea:not([disabled]),button:not([disabled]),iframe,object,embed,[contenteditable]")?
-1===a.tabIndex&&this.hasSavedTabIndex||(a.hasAttribute("tabindex")&&(this._savedTabIndex=a.tabIndex),a.setAttribute("tabindex","-1"),a.nodeType===Node.ELEMENT_NODE&&(a.focus=function(){},this._overrodeFocusMethod=!0)):a.hasAttribute("tabindex")&&(this._savedTabIndex=a.tabIndex,a.removeAttribute("tabindex"))}},{key:"addInertRoot",value:function(){}