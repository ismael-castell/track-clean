/**
 * opta-widgets - v3.77.1
 * Copyright (c) 2021 Opta Sports
 * Licenses: http://widget.cloud.opta.net/v3/licences.txt
 */

!function(){var a=void 0,b=void 0,c=Opta;!function(){}(function(a){return function(b){"use strict";var c=b.tablesorter={version:"2.28.15",parsers:[],widgets:[],defaults:{theme:"default",widthFixed:!1,showProcessing:!1,headerTemplate:"{content}",onRenderTemplate:null,onRenderHeader:null,cancelSelection:!0,tabIndex:!0,dateFormat:"mmddyyyy",sortMultiSortKey:"shiftKey",sortResetKey:"ctrlKey",usNumberFormat:!0,delayInit:!1,serverSideSorting:!1,resort:!0,headers:{},ignoreCase:!0,sortForce:null,sortList:[],sortAppend:null,sortStable:!1,sortInitialOrder:"asc",sortLocaleCompare:!1,sortReset:!1,sortRestart:!1,emptyTo:"bottom",stringTo:"max",duplicateSpan:!0,textExtraction:"basic",textAttribute:"data-text",textSorter:null,numberSorter:null,initWidgets:!0,widgetClass:"widget-{name}",widgets:[],widgetOptions:{zebra:["even","odd"]},initialized:null,tableClass:"",cssAsc:"",cssDesc:"",cssNone:"",cssHeader:"",cssHeaderRow:"",cssProcessing:"",cssChildRow:"tablesorter-childRow",cssInfoBlock:"tablesorter-infoOnly",cssNoSort:"tablesorter-noSort",cssIgnoreRow:"tablesorter-ignoreRow",cssIcon:"tablesorter-icon",cssIconNone:"",cssIconAsc:"",cssIconDesc:"",cssIconDisabled:"",pointerClick:"click",pointerDown:"mousedown",pointerUp:"mouseup",selectorHeaders:"> thead th, > thead td",selectorSort:"th, td",selectorRemove:".remove-me",debug:!1,headerList:[],empties:{},strings:{},parsers:[],globalize:0,imgAttr:0},css:{table:"tablesorter",cssHasChild:"tablesorter-hasChildRow",childRow:"tablesorter-childRow",colgroup:"tablesorter-colgroup",header:"tablesorter-header",headerRow:"tablesorter-headerRow",headerIn:"tablesorter-header-inner",icon:"tablesorter-icon",processing:"tablesorter-processing",sortAsc:"tablesorter-headerAsc",sortDesc:"tablesorter-headerDesc",sortNone:"tablesorter-headerUnSorted"},language:{sortAsc:"Ascending sort applied, ",sortDesc:"Descending sort applied, ",sortNone:"No sort applied, ",sortDisabled:"sorting is disabled",nextAsc:"activate to apply an ascending sort",nextDesc:"activate to apply a descending sort",nextNone:"activate to remove the sort"},regex:{templateContent:/\{content\}/g,templateIcon:/\{icon\}/g,templateName:/\{name\}/i,spaces:/\s+/g,nonWord:/\W/g,formElements:/(input|select|button|textarea)/i,chunk:/(^([+\-]?(?:\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?)?$|^0x[0-9a-f]+$|\d+)/gi,chunks:/(^\\0|\\0$)/,hex:/^0x[0-9a-f]+$/i,comma:/,/g,digitNonUS:/[\s|\.]/g,digitNegativeTest:/^\s*\([.\d]+\)/,digitNegativeReplace:/^\s*\(([.\d]+)\)/,digitTest:/^[\-+(]?\d+[)]?$/,digitReplace:/[,.'"\s]/g},string:{max:1,min:-1,emptymin:1,emptymax:-1,zero:0,none:0,null:0,top:!0,bottom:!1},keyCodes:{enter:13},dates:{},instanceMethods:{},setup:function(a,d){if(!a||!a.tHead||0===a.tBodies.length||!0===a.hasInitialized)return void(d.debug&&(a.hasInitialized?console.warn("Stopping initialization. Tablesorter has already been initialized"):console.error("Stopping initialization! No table, thead or tbody",a)));var e="",f=b(a),g=b.metadata;a.hasInitialized=!1,a.isProcessing=!0,a.config=d,b.data(a,"tablesorter",d),d.debug&&(console[console.group?"group":"log"]("Initializing tablesorter v"+c.version),b.data(a,"startoveralltimer",new Date)),d.supportsDataObject=function(){}(b.fn.jquery.split(".")),d.emptyTo=d.emptyTo.toLowerCase(),d.stringTo=d.stringTo.toLowerCase(),d.last={sortList:[],clickedIndex:-1},/tablesorter\-/.test(f.attr("class"))||(e=""!==d.theme?" tablesorter-"+d.theme:""),d.namespace?d.namespace="."+d.namespace.replace(c.regex.nonWord,""):d.namespace=".tablesorter"+Math.random().toString(16).slice(2),d.table=a,d.$table=f.addClass(c.css.table+" "+d.tableClass+e+" "+d.namespace.slice(1)).attr("role","grid"),d.$headers=f.find(d.selectorHeaders),d.$table.children().children("tr").attr("role","row"),d.$tbodies=f.children("tbody:not(."+d.cssInfoBlock+")").attr({"aria-live":"polite","aria-relevant":"all"}),d.$table.children("caption").length&&(e=d.$table.children("caption")[0],e.id||(e.id=d.namespace.slice(1)+"caption"),d.$table.attr("aria-labelledby",e.id)),d.widgetInit={},d.textExtraction=d.$table.attr("data-text-extraction")||d.textExtraction||"basic",c.buildHeaders(d),c.fixColumnWidth(a),c.addWidgetFromClass(a),c.applyWidgetOptions(a),c.setupParsers(d),d.totalRows=0,c.validateOptions(d),d.delayInit||c.buildCache(d),c.bindEvents(a,d.$headers,!0),c.bindMethods(d),d.supportsDataObject&&void 0!==f.data().sortlist?d.sortList=f.data().sortlist:g&&f.metadata()&&f.metadata().sortlist&&(d.sortList=f.metadata().sortlist),c.applyWidget(a,!0),d.sortList.length>0?c.sortOn(d,d.sortList,{},!d.initWidgets):(c.setHeadersCss(d),d.initWidgets&&c.applyWidget(a,!1)),d.showProcessing&&f.unbind("sortBegin"+d.namespace+" sortEnd"+d.namespace).bind("sortBegin"+d.namespace+" sortEnd"+d.namespace,function(){}),a.hasInitialized=!0,a.isProcessing=!1,d.debug&&(console.log("Overall initialization time:"+c.benchmark(b.data(a,"startoveralltimer"))),d.debug&&console.groupEnd&&console.groupEnd()),f.triggerHandler("tablesorter-initialized",a),"function"==typeof d.initialized&&d.initialized(a)},bindMethods:function(a){var d=a.$table,e=a.namespace,f="sortReset update updateRows updateAll updateHeaders addRows updateCell updateComplete sorton appendCache updateCache applyWidgetId applyWidgets refreshWidgets destroy mouseup mouseleave ".split(" ").join(e+" ");d.unbind(f.replace(c.regex.spaces," ")).bind("sortReset"+e,function(){}).bind("updateAll"+e,function(a,b,d){a.stopPropagation(),c.updateAll(this.config,b,d)}).bind("update"+e+" updateRows"+e,function(a,b,d){a.stopPropagation(),c.update(this.config,b,d)}).bind("updateHeaders"+e,function(){}).bind("updateCell"+e,function(a,b,d,e){a.stopPropagation(),c.updateCell(this.config,b,d,e)}).bind("addRows"+e,function(a,b,d,e){a.stopPropagation(),c.addRows(this.config,b,d,e)}).bind("updateComplete"+e,function(){this.isUpdating=!1}).bind("sorton"+e,function(){}).bind("appendCache"+e,function(){}).bind("updateCache"+e,function(){}).bind("applyWidgetId"+e,function(a,b){a.stopPropagation(),c.applyWidgetId(this,b)}).bind("applyWidgets"+e,function(){}).bind("refreshWidgets"+e,function(a,b,d){a.stopPropagation(),c.refreshWidgets(this,b,d)}).bind("removeWidget"+e,function(a,b,d){a.stopPropagation(),c.removeWidget(this,b,d)}).bind("destroy"+e,function(){}).bind("resetToLoadState"+e,function(){})},bindEvents:function(a,d,e){a=b(a)[0];var f,g=a.config,h=g.namespace,i=null;!0!==e&&(d.addClass(h.slice(1)+"_extra_headers"),(f=b.fn.closest?d.closest("table")[0]:d.parents("table")[0])&&"TABLE"===f.nodeName&&f!==a&&b(f).addClass(h.slice(1)+"_extra_table")),f=(g.pointerDown+" "+g.pointerUp+" "+g.pointerClick+" sort keyup ").replace(c.regex.spaces," ").split(" ").join(h+" "),d.find(g.selectorSort).add(d.filter(g.selectorSort)).unbind(f).bind(f,function(a,e){var f,h,j,k=b(a.target),l=" "+a.type+" ";if(!(1!==(a.which||a.button)&&!l.match(" "+g.pointerClick+" | sort | keyup ")||" keyup "===l&&a.which!==c.keyCodes.enter||l.match(" "+g.pointerClick+" ")&&void 0!==a.which||l.match(" "+g.pointerUp+" ")&&i!==a.target&&!0!==e)){if(l.match(" "+g.pointerDown+" "))return i=a.target,j=k.jquery.split("."),void("1"===j[0]&&j[1]<4&&a.preventDefault());if(i=null,c.regex.formElements.test(a.target.nodeName)||k.hasClass(g.cssNoSort)||k.parents("."+g.cssNoSort).length>0||k.parents("button").length>0)return!g.cancelSelection;g.delayInit&&c.isEmptyObject(g.cache)&&c.buildCache(g),f=b.fn.closest?b(this).closest("th, td"):/TH|TD/.test(this.nodeName)?b(this):b(this).parents("th, td"),j=d.index(f),g.last.clickedIndex=j<0?f.attr("data-column"):j,(h=g.$headers[g.last.clickedIndex])&&!h.sortDisabled&&c.initSort(g,h,a)}}),g.cancelSelection&&d.attr("unselectable","on").bind("selectstart",!1).css({"user-select":"none",MozUserSelect:"none"})},buildHeaders:function(a){var d,e,f,g;for(a.headerList=[],a.headerContent=[],a.sortVars=[],a.debug&&(f=new Date),a.columns=c.computeColumnIndex(a.$table.children("thead, tfoot").children("tr")),e=a.cssIcon?'<i class="'+(a.cssIcon===c.css.icon?c.css.icon:a.cssIcon+" "+c.css.icon)+'"></i>':"",a.$headers=b(b.map(a.$table.find(a.selectorHeaders),function(d,f){var g,h,i,j,k,l=b(d);if(!l.parent().hasClass(a.cssIgnoreRow))return g=c.getColumnData(a.table,a.headers,f,!0),a.headerContent[f]=l.html(),""===a.headerTemplate||l.find("."+c.css.headerIn).length||(j=a.headerTemplate.replace(c.regex.templateContent,l.html()).replace(c.regex.templateIcon,l.find("."+c.css.icon).length?"":e),a.onRenderTemplate&&(h=a.onRenderTemplate.apply(l,[f,j]))&&"string"==typeof h&&(j=h),l.html('<div class="'+c.css.headerIn+'">'+j+"</div>")),a.onRenderHeader&&a.onRenderHeader.apply(l,[f,a,a.$table]),i=parseInt(l.attr("data-column"),10),d.column=i,k=c.getOrder(c.getData(l,g,"sortInitialOrder")||a.sortInitialOrder),a.sortVars[i]={count:-1,order:k?a.sortReset?[1,0,2]:[1,0]:a.sortReset?[0,1,2]:[0,1],lockedOrder:!1},k=c.getData(l,g,"lockedOrder")||!1,void 0!==k&&!1!==k&&(a.sortVars[i].lockedOrder=!0,a.sortVars[i].order=c.getOrder(k)?[1,1]:[0,0]),a.headerList[f]=d,l.addClass(c.css.header+" "+a.cssHeader).parent().addClass(c.css.headerRow+" "+a.cssHeaderRow).attr("role","row"),a.tabIndex&&l.attr("tabindex",0),d})),a.$headerIndexed=[],g=0;g<a.columns;g++)c.isEmptyObject(a.sortVars[g])&&(a.sortVars[g]={}),d=a.$headers.filter('[data-column="'+g+'"]'),a.$headerIndexed[g]=d.length?d.not(".sorter-false").length?d.not(".sorter-false").filter(":last"):d.filter(":last"):b();a.$table.find(a.selectorHeaders).attr({scope:"col",role:"columnheader"}),c.updateHeader(a),a.debug&&(console.log("Built headers:"+c.benchmark(f)),console.log(a.$headers))},addInstanceMethods:function(a){b.extend(c.instanceMethods,a)},setupParsers:function(a,b){var d,e,f,g,h,i,j,k,l,m,n,o,p,q,r=a.table,s=0,t={};if(a.$tbodies=a.$table.children("tbody:not(."+a.cssInfoBlock+")"),p=void 0===b?a.$tbodies:b,0===(q=p.length))return a.debug?console.warn("Warning: *Empty table!* Not building a parser cache"):"";for(a.debug&&(o=new Date,console[console.group?"group":"log"]("Detecting parsers for each column")),e={extractors:[],parsers:[]};s<q;){if(d=p[s].rows,d.length)for(h=0,g=a.columns,i=0;i<g;i++){if((j=a.$headerIndexed[h])&&j.length&&(k=c.getColumnData(r,a.headers,h),n=c.getParserById(c.getData(j,k,"extractor")),m=c.getParserById(c.getData(j,k,"sorter")),l="false"===c.getData(j,k,"parser"),a.empties[h]=(c.getData(j,k,"empty")||a.emptyTo||(a.emptyToBottom?"bottom":"top")).toLowerCase(),a.strings[h]=(c.getData(j,k,"string")||a.stringTo||"max").toLowerCase(),l&&(m=c.getParserById("no-parser")),n||(n=!1),m||(m=c.detectParserForColumn(a,d,-1,h)),a.debug&&(t["("+h+") "+j.text()]={parser:m.id,extractor:n?n.id:"none",string:a.strings[h],empty:a.empties[h]}),e.parsers[h]=m,e.extractors[h]=n,(f=j[0].colSpan-1)>0))for(h+=f,g+=f;f+1>0;)e.parsers[h-f]=m,e.extractors[h-f]=n,f--;h++}s+=e.parsers.length?q:1}a.debug&&(c.isEmptyObject(t)?console.warn("  No parsers detected!"):console[console.table?"table":"log"](t),console.log("Completed detecting parsers"+c.benchmark(o)),console.groupEnd&&console.groupEnd()),a.parsers=e.parsers,a.extractors=e.extractors},addParser:function(){},getParserById:function(){},detectParserForColumn:function(a,d,e,f){for(var g,h,i,j=c.parsers.length,k=!1,l="",m=!0;""===l&&m;)e++,i=d[e],i&&e<50?i.className.indexOf(c.cssIgnoreRow)<0&&(k=d[e].cells[f],l=c.getElementText(a,k,f),h=b(k),a.debug&&console.log("Checking if value was empty on row "+e+", column: "+f+': "'+l+'"')):m=!1;for(;--j>=0;)if((g=c.parsers[j])&&"text"!==g.id&&g.is&&g.is(l,a.table,k,h))return g;return c.getParserById("text")},getElementText:function(){},getParsedText:function(){},buildCache:function(a,d,e){var f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B=a.table,C=a.parsers;if(a.$tbodies=a.$table.children("tbody:not(."+a.cssInfoBlock+")"),l=void 0===e?a.$tbodies:e,a.cache={},a.totalRows=0,!C)return a.debug?console.warn("Warning: *Empty table!* Not building a cache"):"";for(a.debug&&(q=new Date),a.showProcessing&&c.isProcessing(B,!0),k=0;k<l.length;k++){for(u=[],f=a.cache[k]={normalized:[]},r=l[k]&&l[k].rows.length||0,i=0;i<r;++i)if(s={child:[],raw:[]},m=b(l[k].rows[i]),n=[],!m.hasClass(a.selectorRemove.slice(1)))if(m.hasClass(a.cssChildRow)&&0!==i)for(z=f.normalized.length-1,t=f.normalized[z][a.columns],t.$row=t.$row.add(m),m.prev().hasClass(a.cssChildRow)||m.prev().addClass(c.css.cssHasChild),o=m.children("th, td"),z=t.child.length,t.child[z]=[],w=0,y=a.columns,j=0;j<y;j++)p=o[j],p&&(t.child[z][j]=c.getParsedText(a,p,j),(v=o[j].colSpan-1)>0&&(w+=v,y+=v)),w++;else{for(s.$row=m,s.order=i,w=0,y=a.columns,j=0;j<y;++j){if((p=m[0].cells[j])&&w<a.columns&&(x=void 0!==C[w],!x&&a.debug&&console.warn("No parser found for row: "+i+", column: "+j+'; cell containing: "'+b(p).text()+'"; does it have a header?'),g=c.getElementText(a,p,w),s.raw[w]=g,h=c.getParsedText(a,p,w,g),n[w]=h,x&&"numeric"===(C[w].type||"").toLowerCase()&&(u[w]=Math.max(Math.abs(h)||0,u[w]||0)),(v=p.colSpan-1)>0)){for(A=0;A<=v;)h=a.duplicateSpan||0===A?g:"string"!=typeof a.textExtraction?c.getElementText(a,p,w+A)||"":"",s.raw[w+A]=h,n[w+A]=h,A++;w+=v,y+=v}w++}n[a.columns]=s,f.normalized[f.normalized.length]=n}f.colMax=u,a.totalRows+=f.normalized.length}if(a.showProcessing&&c.isProcessing(B),a.debug){for(z=Math.min(5,a.cache[0].normalized.length),console[console.group?"group":"log"]("Building cache for "+a.totalRows+" rows (showing "+z+" rows in log) and "+a.columns+" columns"+c.benchmark(q)),g={},j=0;j<a.columns;j++)for(w=0;w<z;w++)g["row: "+w]||(g["row: "+w]={}),g["row: "+w][a.$headerIndexed[j].text()]=a.cache[0].normalized[w][j];console[console.table?"table":"log"](g),console.groupEnd&&console.groupEnd()}b.isFunction(d)&&d(B)},getColumnText:function(a,d,e,f){a=b(a)[0];var g,h,i,j,k,l,m,n,o,p,q="function"==typeof e,r="all"===d,s={raw:[],parsed:[],$cell:[]},t=a.config;if(!c.isEmptyObject(t)){for(k=t.$tbodies.length,g=0;g<k;g++)for(i=t.cache[g].normalized,l=i.length,h=0;h<l;h++)j=i[h],f&&!j[t.columns].$row.is(f)||(p=!0,n=r?j.slice(0,t.columns):j[d],j=j[t.columns],m=r?j.raw:j.raw[d],o=r?j.$row.children():j.$row.children().eq(d),q&&(p=e({tbodyIndex:g,rowIndex:h,parsed:n,raw:m,$row:j.$row,$cell:o})),!1!==p&&(s.parsed[s.parsed.length]=n,s.raw[s.raw.length]=m,s.$cell[s.$cell.length]=o));return s}t.debug&&console.warn("No cache found - aborting getColumnText function!")},setHeadersCss:function(a){var d,e,f=a.sortList,g=f.length,h=c.css.sortNone+" "+a.cssNone,i=[c.css.sortAsc+" "+a.cssAsc,c.css.sortDesc+" "+a.cssDesc],j=[a.cssIconAsc,a.cssIconDesc,a.cssIconNone],k=["ascending","descending"],l=a.$table.find("tfoot tr").children("td, th").add(b(a.namespace+"_extra_headers")).removeClass(i.join(" ")),m=a.$headers.add(b("thead "+a.namespace+"_extra_headers")).removeClass(i.join(" ")).addClass(h).attr("aria-sort","none").find("."+c.css.icon).removeClass(j.join(" ")).end();for(m.not(".sorter-false").find("."+c.css.icon).addClass(j[2]),a.cssIconDisabled&&m.filter(".sorter-false").find("."+c.css.icon).addClass(a.cssIconDisabled),d=0;d<g;d++)if(2!==f[d][1]&&(m=a.$headers.filter(function(){}),m=m.not(".sorter-false").filter('[data-column="'+f[d][0]+'"]'+(1===g?":last":"")),m.length)){for(e=0;e<m.length;e++)m[e].sortDisabled||m.eq(e).removeClass(h).addClass(i[f[d][1]]).attr("aria-sort",k[f[d][1]]).find("."+c.css.icon).removeClass(j[2]).addClass(j[f[d][1]]);l.length&&l.filter('[data-column="'+f[d][0]+'"]').removeClass(h).addClass(i[f[d][1]])}for(g=a.$headers.length,d=0;d<g;d++)c.setColumnAriaLabel(a,a.$headers.eq(d))},setColumnAriaLabel:function(){},updateHeader:function(){},setColumnSort:function(){},updateHeaderSortCount:function(a,d){var e,f,g,h,i,j,k,l,m=d||a.sortList,n=m.length;for(a.sortList=[],h=0;h<n;h++)if(k=m[h],(e=parseInt(k[0],10))<a.columns){switch(a.sortVars[e].order||(l=c.getOrder(a.sortInitialOrder)?a.sortReset?[1,0,2]:[1,0]:a.sortReset?[0,1,2]:[0,1],a.sortVars[e].order=l,a.sortVars[e].count=0),l=a.sortVars[e].order,f=(""+k[1]).match(/^(1|d|s|o|n)/),f=f?f[0]:""){case"1":case"d":f=1;break;case"s":f=i||0;break;case"o":j=l[(i||0)%l.length],f=0===j?1:1===j?0:2;break;case"n":f=l[++a.sortVars[e].count%l.length];break;default:f=0}i=0===h?f:i,g=[e,parseInt(f,10)||0],a.sortList[a.sortList.length]=g,f=b.inArray(g[1],l),a.sortVars[e].count=f>=0?f:g[1]%l.length}},updateAll:function(){},update:function(){},updateHeaders:function(){},updateCell:function(a,d,e,f){if(b(d).closest("tr").hasClass(a.cssChildRow))return void console.warn('Tablesorter Warning! "updateCell" for child row content has been disabled, use "update" instead');if(c.isEmptyObject(a.cache))return c.updateHeader(a),void c.commonUpdate(a,e,f);a.table.isUpdating=!0,a.$table.find(a.selectorRemove).remove();var g,h,i,j,k,l,m=a.$tbodies,n=b(d),o=m.index(b.fn.closest?n.closest("tbody"):n.parents("tbody").filter(":first")),p=a.cache[o],q=b.fn.closest?n.closest("tr"):n.parents("tr").filter(":first");if(d=n[0],m.length&&o>=0){if(i=m.eq(o).find("tr").not("."+a.cssChildRow).index(q),k=p.normalized[i],(l=q[0].cells.length)!==a.columns)for(j=0,g=!1,h=0;h<l;h++)g||q[0].cells[h]===d?g=!0:j+=q[0].cells[h].colSpan;else j=n.index();g=c.getElementText(a,d,j),k[a.columns].raw[j]=g,g=c.getParsedText(a,d,j,g),k[j]=g,"numeric"===(a.parsers[j].type||"").toLowerCase()&&(p.colMax[j]=Math.max(Math.abs(g)||0,p.colMax[j]||0)),g="undefined"!==e?e:a.resort,!1!==g?c.checkResort(a,g,f):c.resortComplete(a,f)}else a.debug&&console.error("updateCell aborted, tbody missing or not within the indicated table"),a.table.isUpdating=!1},addRows:function(){},updateCache:function(){},appendCache:function(){},commonUpdate:function(){},initSort:function(a,d,e){if(a.table.isUpdating)return setTimeout(function(){c.initSort(a,d,e)},50);var f,g,h,i,j,k,l,m=!e[a.sortMultiSortKey],n=a.table,o=a.$headers.length,p=parseInt(b(d).attr("data-column"),10),q=a.sortVars[p].order;if(a.$table.triggerHandler("sortStart",n),k=(a.sortVars[p].count+1)%q.length,a.sortVars[p].count=e[a.sortResetKey]?2:k,a.sortRestart)for(h=0;h<o;h++)l=a.$headers.eq(h),k=parseInt(l.attr("data-column"),10),p!==k&&(m||l.hasClass(c.css.sortNone))&&(a.sortVars[k].count=-1);if(m){if(a.sortList=[],a.last.sortList=[],null!==a.sortForce)for(f=a.sortForce,g=0;g<f.length;g++)f[g][0]!==p&&(a.sortList[a.sortList.length]=f[g]);if((i=q[a.sortVars[p].count])<2&&(a.sortList[a.sortList.length]=[p,i],d.colSpan>1))for(g=1;g<d.colSpan;g++)a.sortList[a.sortList.length]=[p+g,i],a.sortVars[p+g].count=b.inArray(i,q)}else if(a.sortList=b.extend([],a.last.sortList),c.isValueInArray(p,a.sortList)>=0)for(g=0;g<a.sortList.length;g++)k=a.sortList[g],k[0]===p&&(k[1]=q[a.sortVars[p].count],2===k[1]&&(a.sortList.splice(g,1),a.sortVars[p].count=-1));else if((i=q[a.sortVars[p].count])<2&&(a.sortList[a.sortList.length]=[p,i],d.colSpan>1))for(g=1;g<d.colSpan;g++)a.sortList[a.sortList.length]=[p+g,i],a.sortVars[p+g].count=b.inArray(i,q);if(a.last.sortList=b.extend([],a.sortList),a.sortList.length&&a.sortAppend&&(f=b.isArray(a.sortAppend)?a.sortAppend:a.sortAppend[a.sortList[0][0]],!c.isEmptyObject(f)))for(g=0;g<f.length;g++)if(f[g][0]!==p&&c.isValueInArray(f[g][0],a.sortList)<0){if(i=f[g][1],j=(""+i).match(/^(a|d|s|o|n)/))switch(k=a.sortList[0][1],j[0]){case"d":i=1;break;case"s":i=k;break;case"o":i=0===k?1:0;break;case"n":i=(k+1)%q.length;break;default:i=0}a.sortList[a.sortList.length]=[f[g][0],i]}a.$table.triggerHandler("sortBegin",n),setTimeout(function(){},1)},multisort:function(a){var b,d,e,f,g,h=a.table,i=[],j=0,k=a.textSorter||"",l=a.sortList,m=l.length,n=a.$tbodies.length;if(!a.serverSideSorting&&!c.isEmptyObject(a.cache)){if(a.debug&&(d=new Date),"object"==typeof k)for(e=a.columns;e--;)"function"==typeof(g=c.getColumnData(h,k,e))&&(i[e]=g);for(b=0;b<n;b++)e=a.cache[b].colMax,f=a.cache[b].normalized,f.sort(function(){});a.debug&&console.log("Applying sort "+l.toString()+c.benchmark(d))}},resortComplete:function(){},checkResort:function(){},sortOn:function(){},sortReset:function(){},getSortType:function(){},getOrder:function(){},sortNatural:function(){},sortNaturalAsc:function(){},sortNaturalDesc:function(){},sortText:function(){},getTextValue:function(){},sortNumericAsc:function(){},sortNumericDesc:function(){},sortNumeric:function(a,b){return a-b},addWidget:function(){},hasWidget:function(){},getWidgetById:function(){},applyWidgetOptions:function(){},addWidgetFromClass:function(){},applyWidgetId:function(){},applyWidget:function(a,d,e){a=b(a)[0];var f,g,h,i,j,k=a.config,l=[];if(!1===d||!a.hasInitialized||!a.isApplyingWidgets&&!a.isUpdating){if(k.debug&&(j=new Date),c.addWidgetFromClass(a),clearTimeout(k.timerReady),k.widgets.length){for(a.isApplyingWidgets=!0,k.widgets=b.grep(k.widgets,function(){}),h=k.widgets||[],g=h.length,f=0;f<g;f++)i=c.getWidgetById(h[f]),i&&i.id?(i.priority||(i.priority=10),l[f]=i):k.debug&&console.warn('"'+h[f]+'" widget code does not exist!');for(l.sort(function(){}),g=l.length,k.debug&&console[console.group?"group":"log"]("Start "+(d?"initializing":"applying")+" widgets"),f=0;f<g;f++)(i=l[f])&&i.id&&c.applyWidgetId(a,i.id,d);k.debug&&console.groupEnd&&console.groupEnd()}k.timerReady=setTimeout(function(){},10)}},removeWidget:function(a,d,e){a=b(a)[0];var f,g,h,i,j=a.config;if(!0===d)for(d=[],i=c.widgets.length,h=0;h<i;h++)(g=c.widgets[h])&&g.id&&(d[d.length]=g.id);else d=(b.isArray(d)?d.join(","):d||"").toLowerCase().split(/[\s,]+/);for(i=d.length,f=0;f<i;f++)g=c.getWidgetById(d[f]),h=b.inArray(d[f],j.widgets),h>=0&&!0!==e&&j.widgets.splice(h,1),g&&g.remove&&(j.debug&&console.log((e?"Refreshing":"Removing")+' "'+d[f]+'" widget'),g.remove(a,j,j.widgetOptions,e),j.widgetInit[d[f]]=!1)},refreshWidgets:function(a,d,e){a=b(a)[0];var f,g,h=a.config,i=h.widgets,j=c.widgets,k=j.length,l=[],m=function(a){b(a).triggerHandler("refreshComplete")};for(f=0;f<k;f++)(g=j[f])&&g.id&&(d||b.inArray(g.id,i)<0)&&(l[l.length]=g.id)
;c.removeWidget(a,l.join(","),!0),!0!==e?(c.applyWidget(a,d||!1,m),d&&c.applyWidget(a,!1,m)):m(a)},benchmark:function(){},log:function(){console.log(arguments)},isEmptyObject:function(a){for(var b in a)return!1;return!0},isValueInArray:function(){},formatFloat:function(){},isDigit:function(){},computeColumnIndex:function(a,d){var e,f,g,h,i,j,k,l,m,n,o=d&&d.columns||0,p=[],q=new Array(o);for(e=0;e<a.length;e++)for(j=a[e].cells,f=0;f<j.length;f++){for(i=j[f],k=e,l=i.rowSpan||1,m=i.colSpan||1,void 0===p[k]&&(p[k]=[]),g=0;g<p[k].length+1;g++)if(void 0===p[k][g]){n=g;break}for(o&&i.cellIndex===n||(i.setAttribute?i.setAttribute("data-column",n):b(i).attr("data-column",n)),g=k;g<k+l;g++)for(void 0===p[g]&&(p[g]=[]),q=p[g],h=n;h<n+m;h++)q[h]="x"}return c.checkColumnCount(a,p,q.length),q.length},checkColumnCount:function(){},fixColumnWidth:function(){},getData:function(){},getColumnData:function(a,c,d,e,f){if("object"!=typeof c||null===c)return c;a=b(a)[0];var g,h,i=a.config,j=f||i.$headers,k=i.$headerIndexed&&i.$headerIndexed[d]||j.filter('[data-column="'+d+'"]:last');if(void 0!==c[d])return e?c[d]:c[j.index(k)];for(h in c)if("string"==typeof h&&(g=k.filter(h).add(k.find(h)),g.length))return c[h]},isProcessing:function(){},processTbody:function(){},clearTableBody:function(){},characterEquivalents:{a:"áàâãäąå",A:"ÁÀÂÃÄĄÅ",c:"çćč",C:"ÇĆČ",e:"éèêëěę",E:"ÉÈÊËĚĘ",i:"íìİîïı",I:"ÍÌİÎÏ",o:"óòôõöō",O:"ÓÒÔÕÖŌ",ss:"ß",SS:"ẞ",u:"úùûüů",U:"ÚÙÛÜŮ"},replaceAccents:function(){},validateOptions:function(a){var d,e,f,g,h="headers sortForce sortList sortAppend widgets".split(" "),i=a.originalSettings;if(i){a.debug&&(g=new Date);for(d in i)if("undefined"==(f=typeof c.defaults[d]))console.warn('Tablesorter Warning! "table.config.'+d+'" option not recognized');else if("object"===f)for(e in i[d])f=c.defaults[d]&&typeof c.defaults[d][e],b.inArray(d,h)<0&&"undefined"===f&&console.warn('Tablesorter Warning! "table.config.'+d+"."+e+'" option not recognized');a.debug&&console.log("validate options time:"+c.benchmark(g))}},restoreHeaders:function(){},destroy:function(a,d,e){if(a=b(a)[0],a.hasInitialized){c.removeWidget(a,!0,!1);var f,g=b(a),h=a.config,i=h.debug,j=g.find("thead:first"),k=j.find("tr."+c.css.headerRow).removeClass(c.css.headerRow+" "+h.cssHeaderRow),l=g.find("tfoot:first > tr").children("th, td");!1===d&&b.inArray("uitheme",h.widgets)>=0&&(g.triggerHandler("applyWidgetId",["uitheme"]),g.triggerHandler("applyWidgetId",["zebra"])),j.find("tr").not(k).remove(),f="sortReset update updateRows updateAll updateHeaders updateCell addRows updateComplete sorton appendCache updateCache applyWidgetId applyWidgets refreshWidgets removeWidget destroy mouseup mouseleave "+"keypress sortBegin sortEnd resetToLoadState ".split(" ").join(h.namespace+" "),g.removeData("tablesorter").unbind(f.replace(c.regex.spaces," ")),h.$headers.add(l).removeClass([c.css.header,h.cssHeader,h.cssAsc,h.cssDesc,c.css.sortAsc,c.css.sortDesc,c.css.sortNone].join(" ")).removeAttr("data-column").removeAttr("aria-label").attr("aria-disabled","true"),k.find(h.selectorSort).unbind("mousedown mouseup keypress ".split(" ").join(h.namespace+" ").replace(c.regex.spaces," ")),c.restoreHeaders(a),g.toggleClass(c.css.table+" "+h.tableClass+" tablesorter-"+h.theme,!1===d),g.removeClass(h.namespace.slice(1)),a.hasInitialized=!1,delete a.config.cache,"function"==typeof e&&e(a),i&&console.log("tablesorter has been removed")}}};b.fn.tablesorter=function(){},window.console&&window.console.log||(c.logs=[],console={},console.log=console.warn=console.error=console.table=function(){}),c.addParser({id:"no-parser",is:function(){return!1},format:function(){return""},type:"text"}),c.addParser({id:"text",is:function(){return!0},format:function(){},type:"text"}),c.regex.nondigit=/[^\w,. \-()]/g,c.addParser({id:"digit",is:function(a){return c.isDigit(a)},format:function(a,d){var e=c.formatFloat((a||"").replace(c.regex.nondigit,""),d);return a&&"number"==typeof e?e:a?b.trim(a&&d.config.ignoreCase?a.toLocaleLowerCase():a):a},type:"numeric"}),c.regex.currencyReplace=/[+\-,. ]/g,c.regex.currencyTest=/^\(?\d+[\u00a3$\u20ac\u00a4\u00a5\u00a2?.]|[\u00a3$\u20ac\u00a4\u00a5\u00a2?.]\d+\)?$/,c.addParser({id:"currency",is:function(){},format:function(){},type:"numeric"}),c.regex.urlProtocolTest=/^(https?|ftp|file):\/\//,c.regex.urlProtocolReplace=/(https?|ftp|file):\/\/(www\.)?/,c.addParser({id:"url",is:function(a){return c.regex.urlProtocolTest.test(a)},format:function(){},type:"text"}),c.regex.dash=/-/g,c.regex.isoDate=/^\d{4}[\/\-]\d{1,2}[\/\-]\d{1,2}/,c.addParser({id:"isoDate",is:function(a){return c.regex.isoDate.test(a)},format:function(a,b){var d=a?new Date(a.replace(c.regex.dash,"/")):a;return d instanceof Date&&isFinite(d)?d.getTime():a},type:"numeric"}),c.regex.percent=/%/g,c.regex.percentTest=/(\d\s*?%|%\s*?\d)/,c.addParser({id:"percent",is:function(){},format:function(){},type:"numeric"}),c.addParser({id:"image",is:function(){},format:function(){},parsed:!0,type:"text"}),c.regex.dateReplace=/(\S)([AP]M)$/i,c.regex.usLongDateTest1=/^[A-Z]{3,10}\.?\s+\d{1,2},?\s+(\d{4})(\s+\d{1,2}:\d{2}(:\d{2})?(\s+[AP]M)?)?$/i,c.regex.usLongDateTest2=/^\d{1,2}\s+[A-Z]{3,10}\s+\d{4}/i,c.addParser({id:"usLongDate",is:function(){},format:function(){},type:"numeric"}),c.regex.shortDateTest=/(^\d{1,2}[\/\s]\d{1,2}[\/\s]\d{4})|(^\d{4}[\/\s]\d{1,2}[\/\s]\d{1,2})/,c.regex.shortDateReplace=/[\-.,]/g,c.regex.shortDateXXY=/(\d{1,2})[\/\s](\d{1,2})[\/\s](\d{4})/,c.regex.shortDateYMD=/(\d{4})[\/\s](\d{1,2})[\/\s](\d{1,2})/,c.convertFormat=function(){},c.addParser({id:"shortDate",is:function(){},format:function(){},type:"numeric"}),c.regex.timeTest=/^(0?[1-9]|1[0-2]):([0-5]\d)(\s[AP]M)$|^((?:[01]\d|[2][0-4]):[0-5]\d)$/i,c.regex.timeMatch=/(0?[1-9]|1[0-2]):([0-5]\d)(\s[AP]M)|((?:[01]\d|[2][0-4]):[0-5]\d)/i,c.addParser({id:"time",is:function(a){return c.regex.timeTest.test(a)},format:function(){},type:"numeric"}),c.addParser({id:"metadata",is:function(){return!1},format:function(){},type:"numeric"}),c.addWidget({id:"zebra",priority:90,format:function(a,c,d){var e,f,g,h,i,j,k,l=new RegExp(c.cssChildRow,"i"),m=c.$tbodies.add(b(c.namespace+"_extra_table").children("tbody:not(."+c.cssInfoBlock+")"));for(i=0;i<m.length;i++)for(g=0,e=m.eq(i).children("tr:visible").not(c.selectorRemove),k=e.length,j=0;j<k;j++)f=e.eq(j),l.test(f[0].className)||g++,h=g%2==0,f.removeClass(d.zebra[h?1:0]).addClass(d.zebra[h?0:1])},remove:function(){}})}(a),a.tablesorter})}(),(window.webpackJsonpOPTA=window.webpackJsonpOPTA||[]).push([["core-widget"],{"./node_modules/intersection-observer/intersection-observer.js":function(){},"./src/core/widget/ExternalLink.ts":function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0});var d=c("./src/tsmodules/Opta.ts"),e=["competition","season","match","race","tournament","team","player","article","video"],f=function(){function a(a){var b=this;d.default._.each(a,function(a,c){b[c]=a}),this.type=a.player?"Player":a.team?"Team":"Match",this.settings=a,this.href=this.base_url||"#"}return a.prototype.getHref=function(){var a=this;return d.default.AppSettings.link_callback?d.default.AppSettings.link_callback(this.settings):("#"!==this.href&&e.forEach(function(b){a[b]&&(a.href+=(a.href.indexOf("?")>-1?"&":"?")+b+"="+a[b])}),this.href)},a.prototype.openingTag=function(){var a="Opta-"+this.type+"Link Opta-Ext"+(this.classes?" "+this.classes:"");return'<a href="'+this.getHref()+'" class="'+a+'" '+(this.title?'title="'+this.title+'"':"")+">"},a.prototype.toString=function(){return this.html?""+this.openingTag()+this.html+"</a>":""},a}();b.ExternalLink=f},"./src/core/widget/FlyawayWidget.ts":function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0});var d,e=c("./src/tsmodules/Opta.ts"),f=c("./src/core/widget/FullscreenService.ts"),g=c("./src/core/widget/Widget.ts");!function(){}(d=b.FLYAWAY_POSITION||(b.FLYAWAY_POSITION={}));var h=function(a){function b(){return null!==a&&a.apply(this,arguments)||this}return Opta.tslib.__extends(b,a),b.prototype.onBootstrapDone=function(){this.initTracking(),this.initFlyaway(),this.onInit()},b.prototype.initFlyaway=function(){this.attr.flyaway&&(this.poppable=!0,this.flyaway_width=this.attr.flyaway_width&&isFinite(this.attr.flyaway_width)?Number(this.attr.flyaway_width):void 0,this.prepareFlyawayWidgetDom(),this.initObserver(),!1!==this.attr.flyaway_fullscreen&&this.initFullscreen())},b.prototype.initFullscreen=function(){var a=this;this.fullscreen_target=this.flyaway_container.get(0),this.flyaway_button_fullscreen=e.default('<span class="Opta-FlyawayButton Opta-FlyawayFullScreen"></span>'),this.flyaway_button_fullscreen.on("click",function(){}),this.flyaway_button_fullscreen.insertAfter(this.flyaway_button_close),e.default.FullscreenService.addEventListener(function(){return a.onFullscreenChange()})},b.prototype.prepareFlyawayWidgetDom=function(){var a=this;this.dom.wrap('<div class="Opta-FlyawayContainer">'),this.dom.wrap('<div class="Opta-FlyawayWidget '+this.getTouchDeviceCssClass()+'">'),this.flyaway_container=this.dom.parent(),this.flyaway_button_close=e.default('<span class="Opta-FlyawayButton Opta-FlyawayClose"></span>'),this.flyaway_button_close.on("click",function(){return a.flyawayClose(!0)}),this.flyaway_button_close.prependTo(this.flyaway_container)},b.prototype.initObserver=function(){var a=this;this.observer=e.default.observerService.listen({element:this.flyaway_container.parent().get(0),inViewAction:this.getInViewActionCallback(),outOfViewAction:function(b){return a.flyawayOpen(b)}})},b.prototype.getInViewActionCallback=function(){var a=this;if(!1!==this.attr.flyaway_return)return function(){e.default.FullscreenService.isInFullscreen()||a.flyawayClose()}},b.prototype.flyawayOpen=function(a){this.popped||!this.poppable||a.boundingClientRect.top>=0||(this.setWrapperPopped(!0),this.setWrapperHeightForPlaceHolding(),this.setFlyawayOpenContainerCss(),this.setClosingButtonDelay(),this.resizeOnFlyawayChange())},b.prototype.setWrapperPopped=function(a){this.popped=a},b.prototype.setFlyawayOpenContainerCss=function(){this.flyaway_container.addClass("Opta-FixedPosition"),this.flyaway_container.addClass(this.getPositionCssClass()),this.flyaway_container.css("width",this.getFlyawayWidth())},b.prototype.setClosingButtonDelay=function(){void 0!==this.attr.flyaway_closure&&e.default._.isNumber(this.attr.flyaway_closure)&&(this.flyaway_button_close.css("transition-delay",Math.max(0,Math.min(this.attr.flyaway_closure,60))+"s"),0===this.attr.flyaway_closure&&this.flyaway_button_close.css("transition-duration","unset"))},b.prototype.getFlyawayWidth=function(){return this.flyaway_width||this.flyaway_container.parent().width()||this.getWidth()},b.prototype.flyawayClose=function(a){this.setWrapperPopped(!1),this.setFlyawayCloseContainerCss(),a&&this.disableFlyaway(),e.default.FullscreenService.exitFullscreen(),this.resizeOnFlyawayChange(),this.removeWrapperStyles()},b.prototype.disableFlyaway=function(){this.poppable=!1,this.observer.unobserve(this.flyaway_container.get(0))},b.prototype.setFlyawayCloseContainerCss=function(){},b.prototype.resizeOnFlyawayChange=function(){this.width=this.getWidth(),this.first_time?this.updateWidgetSize():this.resize()},b.prototype.setWrapperHeightForPlaceHolding=function(){var a=this.flyaway_container.parent();a.css("height",a.innerHeight())},b.prototype.removeWrapperStyles=function(){var a=this;setTimeout(function(){a.flyaway_container.parent().removeAttr("style")})},b.prototype.getPositionCssClass=function(){var a=this.attr.flyaway_position&&this.attr.flyaway_position.toLowerCase(),b=(d[a]||d.bottom_right).split("_"),c=b[0];return"Opta-FlyawayPosition-"+b[1]+" Opta-FlyawayPosition-"+c},b.prototype.onFullscreenChange=function(){var a=e.default.FullscreenService.isInFullscreen();this.flyaway_container.toggleClass(f.FULLSCREEN_CSS_CLASS,a),this.flyaway_button_fullscreen.toggleClass("Opta-Minimize",a),this.resize()},b.prototype.getTouchDeviceCssClass=function(){return e.default.has.touch?"Opta-TouchDevice "+(this.flyaway_width?"":"Opta-AutoWidth"):""},b}(g.Widget);b.FlyawayWidget=h},"./src/core/widget/FullscreenService.ts":function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0});var d=c("./src/tsmodules/Opta.ts");b.FULLSCREEN_CSS_CLASS="Opta-Fullscreen";var e="."+b.FULLSCREEN_CSS_CLASS,f=function(){function a(){this.listeners=[],this.request_fullscreen_property=this.getRequestFullscreenFunction(),this.exit_fullscreen_property=this.getExitFullscreenFunction()}return a.prototype.toggleFullscreen=function(a){if(this.isInFullscreen())return this.exitFullscreen();this.requestFullscreen(a)},a.prototype.requestFullscreen=function(a){this.request_fullscreen_property in a?a[this.request_fullscreen_property]():this.requestFullscreenFallback(a)},a.prototype.exitFullscreen=function(){this.isInFullscreen()&&(this.exit_fullscreen_property in document?document[this.exit_fullscreen_property]():this.exitFullScreenFallback())},a.prototype.isInFullscreen=function(){return this.request_fullscreen_property?!(!document.fullscreenElement&&!document[this.getBrowserPrefixedProperty("FullscreenElement",document)]):!!document.querySelector(e)},a.prototype.addEventListener=function(a){this.listeners.push(a),["onfullscreenchange","onmozfullscreenchange","onwebkitfullscreenchange","onmsfullscreenchange"].forEach(function(b){b in document&&(document[b]=a)})},a.prototype.getRequestFullscreenFunction=function(){return document.documentElement.requestFullscreen?"requestFullscreen":document.documentElement.mozRequestFullScreen?"mozRequestFullScreen":this.getBrowserPrefixedProperty("RequestFullscreen",document.documentElement)},a.prototype.getExitFullscreenFunction=function(){return document.exitFullscreen?"exitFullscreen":document.mozCancelFullScreen?"mozCancelFullScreen":this.getBrowserPrefixedProperty("ExitFullscreen",document)},a.prototype.getBrowserPrefixedProperty=function(a,b){var c;return["moz","ms","webkit"].forEach(function(d){var e=""+d+a;e in b&&(c=e)}),c},a.prototype.requestFullscreenFallback=function(){},a.prototype.exitFullScreenFallback=function(){[].forEach.call(document.querySelectorAll(e),function(a){a.classList.remove(b.FULLSCREEN_CSS_CLASS)}),this.callListeners()},a.prototype.callListeners=function(){},a}();b.FullscreenService=f,d.default.FullscreenService=Object.freeze(new f)},"./src/core/widget/LoadComponents.ts":function(a,b,c){"use strict";function d(a){var b={"cricket/fixture":["cricket/scoreline"],"football/teamlist":["generic/matchEvent"],"generic/ad":["generic/videocontrols"],"generic/matchEventsList":["generic/matchEvent","generic/matchTeamEvent"],"generic/matchHeader":["generic/scoreline"],"generic/tabbedNav":["generic/tabbedContent"],"generic/teamcards":["generic/matchEvent"],"generic/teamsheetDropdown":["generic/teamsheet"],"generic/timeline":["generic/matchEvent"],"generic/wabplayer":["resource/misc/wabkit"]},c=[];return a.forEach(function(c){b[c]&&b[c].forEach(function(b){a.push(b)})}),a.forEach(function(a){var b=a.toLowerCase().split("/");void 0===e.default.components[b[0]]&&(e.default.components[b[0]]={}),"resource"===b[0]?c.push(e.default.FeedManager.getFeed({type:b[1]+"::"+b[2]})):"function"!=typeof e.default.components[b[0]][b[1]]&&c.push(e.default.FeedManager.getFeed({type:"base::component::"+b[0]+"::"+b[1]}))}),e.default.when.apply(e.default,c)}Object.defineProperty(b,"__esModule",{value:!0});var e=c("./src/tsmodules/Opta.ts");b.LoadComponents=d,e.default.loadComponents=d},"./src/core/widget/LoadTpl.ts":function(a,b,c){"use strict";function d(a){var b=!(!a.tpl_src||!a.template),c=b?a.template:a.widget,d=a.folder||a.sport;return a.tpl_src||"function"!=typeof e.default.widget[d][c].prototype["template_"+a.template]?b?e.default.ajax({cache:!0,dataType:"script",url:""+a.tpl_src+a.template+".js"}):e.default.FeedManager.getFeed({type:"base::tpl::"+d+"::"+a.widget+"::"+a.template}):e.default.Deferred().resolve()}Object.defineProperty(b,"__esModule",{value:!0});var e=c("./src/tsmodules/Opta.ts");b.loadTpl=d,e.default.loadTpl=d},"./src/core/widget/NumberFormatter.ts":function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0});var d=c("./src/tsmodules/Opta.ts"),e=function(){function a(){this.numberSymbolName={"%":"percentSign","+":"plusSign",",":"group","-":"minusSign",".":"decimal",E:"exponential","‰":"perMille"},this.locale_data={}}return a.prototype.properties=function(a,b){var c,e=this.locale_data.numbers["symbols-numberSystem-latn"],f=b||{},g=a.split(";"),h=g[0];c="ar"===d.default.AppSettings.language?g[1]||h+String.fromCharCode(45):g[1]||"-"+h;var i=this.numberPatternProperties(c),j=i[0],k=i[10],l=this.numberPatternProperties(h).concat([h,j+h+k,j,k,this.numberRound(f.round),e.infinity,e.nan,this.numberSymbolMap(e),void 0]);return[["minimumIntegerDigits",2],["minimumFractionDigits",3],["maximumFractionDigits",4],["minSignificantDigits",5],["maxSignificantDigits",6]].forEach(function(a,b){var c=a.toString();f[c]&&f.hasOwnProperty(c)&&(l[b]=f[c])}),!1===f.useGrouping&&(l[8]=null),"minimumFractionDigits"in f&&!("maximumFractionDigits"in f)?l[4]=Math.max(l[3],l[4]):!("minimumFractionDigits"in f)&&"maximumFractionDigits"in f&&(l[3]=Math.min(l[3],l[4])),l},a.prototype.init=function(a){var b=this;if(!d.default.has.Number_toLocaleString){switch(a=a||d.default.AppSettings.getLangLocale("_","number")){case"ms_MY":a="ms_Latn_MY";break;case"zh_CN":a="zh_Hans_CN";break;case"zh_HK":a="zh_Hans_HK"}return/^[a-z]{2}-[A-Z]{2}(-u-nu-[a-z]{4})?$/.test(a)?(a=a.split("-"),a=a.slice(0,2).join("_")):/^[a-z]{2}-(-u-nu-[a-z]{4})?$/.test(a)&&(a=a.split("-")[0]),d.default.ajax({cache:!0,dataType:"jsonp",jsonp:!1,jsonpCallback:"OPTA_NF_"+a,success:function(c){b.locale_data=c.main[a.replace(/_/g,"-")]},url:d.default.AppSettings.res.s3+"data/cldr-data-num/"+a+".js"})}},a.prototype.format=function(a,b){var c=b||{},e=c&&c.number_locale?c.number_locale:d.default.AppSettings.getLangLocale("-","number"),f=e.split(/-nu-([a-z]{4})$/),g=f&&f[1]?f[1]:"latn",h={ar:["٠","١","٢","٣","٤","٥","٦","٧","٨","٩"],fa:["۰","۱","۲","۳","۴","۵","۶","۷","۸","۹"]};if(d.default.has.Number_toLocaleString)return Number(a).toLocaleString(e,c);var i="";switch(c.style){case"percent":i=this.locale_data.numbers["percentFormats-numberSystem-"+g].standard;break;default:i=c.format||this.locale_data.numbers["decimalFormats-numberSystem-"+g].standard}var j=d.default.NumberFormatter.properties(i);j[2]=c.minimumIntegerDigits||1,j[3]=c.minimumFractionDigits||0,j[4]=c.maximumFractionDigits||3,"percent"===c.style&&(j[4]=Math.max(j[3],c.maximumFractionDigits||0)),(c.minSignificantDigits||c.maxSignificantDigits)&&(j[5]=c.minSignificantDigits||1,j[6]=c.maxSignificantDigits||j[5]);var k=this.numberFormat(a,j);return/^(arab)$/.test(g)&&(k=k.replace(/[0-9\,\.\%]/g,function(a){var b=h[d.default.AppSettings.language];return"."===a?"٫":","===a?"٬":37===a.charCodeAt(0)?"‏٪":b[+a]||a})),d.default.AppSettings.rtl&&/\u200E-$/.test(k)&&(k=k.replace("‎-",""),k="‏-"+k),k},a.prototype.numberTruncate=function(){},a.prototype.numberSymbolMap=function(a){for(var b={},c=Object.keys(this.numberSymbolName),d=0,e=c;d<e.length;d++){var f=e[d];b[f]=a[this.numberSymbolName[f]]}return b},a.prototype.stringPad=function(a,b,c){for("string"!=typeof a&&(a=String(a)),length=a.length;length<b;length+=1)a=c?a+"0":"0"+a;return a},a.prototype.numberFormatIntegerFractionDigits=function(a,b,c,d,e,f){var g,h;return d?(g=f?e(a,f):e(a,{exponent:-d}),c&&(h=String(g).split("."),h[1]=this.stringPad(h[1]||"",c,!0),g=h.join("."))):g=e(g),
g=String(g),b&&(h=g.split("."),h[0]=this.stringPad(h[0],b),g=h.join(".")),g},a.prototype.numberToPrecision=function(a,b,c){var d=Number(a.toPrecision(b+2)),e=Math.ceil(Math.log(Math.abs(d))/Math.log(10));return e-=b,c(d,{exponent:e})},a.prototype.numberFormatSignificantDigits=function(a,b,c,d){b>c&&(c=b);var e=this.numberToPrecision(a,b,d),f=this.numberToPrecision(a,c,d),g=+e==+f?e:f;if(g=(+g).toString(10),/e/.test(g))throw new Error("integers out of (1e21, 1e-7)");return b-g.replace(/^0+|\./g,"").length>0&&(g=g.split("."),g[1]=this.stringPad(g[1]||"",b-g[0].replace(/^0+/,"").length,!0),g=g.join(".")),g},a.prototype.numberFormatGroupingSeparator=function(a,b,c){for(var d="",e=b,f=!!c,g=String(a).split("."),h=g[0].length;h>e;)d=g[0].slice(h-e,h)+(d.length?",":"")+d,h-=e,f&&(e=c,f=!1);return g[0]=g[0].slice(0,h)+(d.length?",":"")+d,g.join(".")},a.prototype.numberRound=function(a){var b="truncate"===a?this.numberTruncate:Math[a]||Math.round;return function(a,c){var d,e;if(a=+a,isNaN(a))return NaN;if("object"==typeof c&&c.exponent){if(d=+c.exponent,e=1,0===d)return b(a);if("number"!=typeof d||d%1!=0)return NaN}else{if(1===(e=+c||1))return b(a);if(isNaN(e))return NaN;e=e.toExponential().split("e"),d=+e[1],e=+e[0]}return a=a.toString().split("e"),a[0]=+a[0]/e,a[1]=a[1]?+a[1]-d:-d,a=b(+(a[0]+"e"+a[1])),a=a.toString().split("e"),a[0]=+a[0]*e,a[1]=a[1]?+a[1]+d:d,+(a[0]+"e"+a[1])}},a.prototype.numberPatternProperties=function(a){var b=a.match(/^(('[^']+'|''|[^*#@0,.E])*)(\*.)?((([#,]*[0,]*0+)(\.0*[0-9]*#*)?)|([#,]*@+#*))(E\+?0+)?(('[^']+'|''|[^*#@0,.E])*)$/);if(!b)throw new Error("Invalid pattern: "+b);var c,d,e,f,g,h,i,j,k,l,m=b[1],n=b[3],o=b[4],p=b[8],q=b[10];if(p)p.replace(/(@+)(#*)/,function(a,b,c){return f=b.length,g=f+c.length,a});else{var r=b[7],s=b[6];r&&(r.replace(/[0-9]+/,function(a){return c=a,a}),c?(e=+("0."+c),c=c.length):c=0,h=r.length-1),s.replace(/0+$/,function(){})}return-1!==o.lastIndexOf(",")&&(k=o.lastIndexOf(","),l=o.split(".")[0].length,i=l-k-1,-1!==o.lastIndexOf(",",k-1)&&(l=o.lastIndexOf(",",k-1),j=k-1-l)),[m,n,d,c,h,f,g,e,i,j,q]},a.prototype.numberFormat=function(a,b){var c=b[2],d=b[3],e=b[4],f=b[5],g=b[6],h=b[7],i=b[8],j=b[9],k=b[15],l=b[16],m=b[17],n=b[18],o=b[19];if(isNaN(a))return m;var p,q,r;if(a<0?(p=b[12],q=b[13],r=b[14]):(p=b[11],q=b[0],r=b[10]),!isFinite(a))return q+l+r;var s=q;return-1!==p.indexOf("%")||-1!==p.indexOf("٪")?a*=100:-1!==p.indexOf("‰")&&(a*=1e3),a=isNaN(f*g)?this.numberFormatIntegerFractionDigits(a,c,d,e,k,h):this.numberFormatSignificantDigits(a,f,g,k),a=a.replace(/^-/,""),i&&(a=this.numberFormatGroupingSeparator(a,i,j)),s+=a,s+=r,s.replace(/('([^']|'')+'|'')|./g,function(a,b){return b?(b=b.replace(/''/,'"'),b.length>2&&(b=b.slice(1,-1)),b):(a=a.replace(/[.,\-+E%\u2030]/,function(a){return n[a]}),o&&(a=a.replace(/[0-9]/,function(){})),a)})},a}();b.NumberFormatter=e,d.default.NumberFormatter=new e},"./src/core/widget/ObserverService.ts":function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0});var d=c("./src/tsmodules/Opta.ts");c("./node_modules/intersection-observer/intersection-observer.js");var e=0,f=.05,g=function(){function a(){this.options={threshold:[e,f]}}return a.prototype.listen=function(a){var b=new IntersectionObserver(this.getIntersectionObserverCallback(a),this.options);return b.observe(a.element),b},a.prototype.getIntersectionObserverCallback=function(a){var b=this;return function(c){c.forEach(function(c){c.intersectionRatio>f?b.runCallback(a.inViewAction,c):c.intersectionRatio===e&&b.runCallback(a.outOfViewAction,c)})}},a.prototype.runCallback=function(){},a}();b.ObserverService=g,d.default.observerService=Object.freeze(new g)},"./src/core/widget/Prefetch.ts":function(a,b,c){"use strict";function d(a){f.default.utils.toArray(a).forEach(function(a){void 0===g[a]&&f.default.utils.isUrl(a)&&e(a)&&(g[a]=!0,f.default("head").append('<link rel="prefetch" href="'+a+'">'))})}function e(a){var b=f.default.AppSettings.res,c=new RegExp("^"+b.base),d=new RegExp("^"+b.image);return c.test(a)||d.test(a)}Object.defineProperty(b,"__esModule",{value:!0});var f=c("./src/tsmodules/Opta.ts"),g={};b.Prefetch=d,f.default.prefetch=d},"./src/core/widget/Preload.ts":function(a,b,c){"use strict";function d(a){var b=f.default.Deferred();if(void 0===g[a]){g[a]=b;var c=document.createElement("a");c.href=a,/\.(gif|jpg|png|svg)$/.test(c.pathname)?e(a,b):b.reject()}else b=g[a];return b}function e(a,b){var c=new Image;c.src=a,c.onload=b.resolve,c.onerror=b.reject}Object.defineProperty(b,"__esModule",{value:!0});var f=c("./src/tsmodules/Opta.ts"),g={};b.Preload=d,f.default.preload=d},"./src/core/widget/ProcessOptaTags.ts":function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0});var d=c("./src/tsmodules/Opta.ts"),e=c("./src/core/widget/ProcessOptaTagsUtils.ts"),f=d.default.con.ERROR_NAME,g=function(){function a(){this.count=0,this.total=0,this.promise=d.default.Deferred(),this.widget_set=[]}return a.prototype.init=function(a){var b;if(d.default.processing_tags&&(d.default.reprocess_tags=!0),"resolved"!==d.default.loaded.bootstrapped.state()||d.default.processing_tags)return d.default.processing_tags;this.initProcessingTags(),void 0===a&&(a=d.default(document)),b=a.find('opta-widget[load!="false"]:not(opta-widget opta-widget)'),this.total=b.length,0===this.total&&this.promise.resolve(this.widget_set),b.each(this.parseWidgetTag.bind(this))},a.prototype.initProcessingTags=function(){d.default.processing_tags=this.promise,this.promise.always(function(){d.default.processing_tags=!1,!0===d.default.reprocess_tags&&(d.default.reprocess_tags=!1,d.default.start())})},a.prototype.parseWidgetTag=function(a,b){var c=d.default(b);!d.default.AppSettings.load_when_visible||e.isVisible(c)?this.parseWidgetTagAttributes(c):this.completeTagProcess()},a.prototype.parseWidgetTagAttributes=function(a){var b=e.getTagAttributes(a[0].attributes),c=b.widget_id&&void 0===d.default.widgets[b.widget_id]?b.widget_id.toString():"Opta_"+d.default.AppSettings.genWidgetId(),g=b.folder||b.sport;b.sport&&(b.sport_id=d.default.utils.getSportId(b.sport)),e.validOptaWidgetTag(b)?d.default.Subscriptions.isPermittedWidget({competition:b.competition,season:b.season,sport_id:b.sport_id,widget:b.widget})?this.loadWidgetAndTranslations(c,g,a,b):this.raiseEventsAppError(f.widget_not_permitted,b):this.raiseEventsAppError(f.widget_params,b)},a.prototype.loadWidgetAndTranslations=function(a,b,c,f){var g=this,h=e.loadWidgetTerms(b,f),i=e.loadWidgetFile(b,f);d.default.tags.push({attr:f,dom:c,id:a,tag:c[0].outerHTML.replace(/^\s+|\s+$/g,"")}),d.default.widget[b]=d.default.widget[b]||{},d.default.when(h,i).done(function(){g.instantiateWidget(a,b,c,f)}).fail(function(a){g.completeTagProcess(),console.error(a)})},a.prototype.instantiateWidget=function(a,b,c,e){var g=e.widget,h={attr:e,dom:c,id:a};"function"==typeof d.default.widget[b][g]?(d.default.widgets[a]=new d.default.widget[b][g](h),d.default.widgets[a].tag=c[0].outerHTML,this.widget_set.push(d.default.widgets[a]),this.lazyLoadBootstrap(a)):(this.completeTagProcess(),console.error(new d.default.ErrorMessage({error:f.widget_params,extra:{desc:'Incorrect widget namespace for params provided. Widget function "Opta.widget.'+b+"."+g+'" not found'}})))},a.prototype.lazyLoadBootstrap=function(a){var b=this;d.default.when(d.default.widgets[a].bootstrapped).done(function(){b.completeTagProcess()}).fail(function(a){b.completeTagProcess(),console.error(a)})},a.prototype.completeTagProcess=function(){++this.count===this.total&&this.promise.resolve(this.widget_set)},a.prototype.raiseEventsAppError=function(a,b){d.default.events.appError({error:new d.default.ErrorMessage({error:a,extra:{attr:b}})}),this.completeTagProcess()},a}();d.default.processOptaTags=function(){}},"./src/core/widget/ProcessOptaTagsUtils.ts":function(a,b,c){"use strict";function d(a){var b={};return i.default.each(a,function(a,c){switch(c.name){case"show_image":case"load":b[c.name]="true"===c.value;break;default:b[c.name]=i.default.utils.trimParam(i.default.utils.escapeParam(i.default.utils.castParam(c.value)))}}),b}function e(a,b){if(b.sport_id&&"mixed"!==b.sport)return i.default.Trans.loadTerms({term_set_id:i.default.Trans.mapSportIdToTerms(i.default.utils.getSportId(a)||b.sport_id)})}function f(a,b){return i.default.FeedManager.getFeed({params:b,type:"widget::"+a+"::"+b.widget})}function g(a){return void 0!==a.sport&&void 0!==a.widget&&void 0!==a.competition&&void 0!==a.season}function h(a){var b=i.default(window),c=b.scrollTop(),d=c+b.height(),e=a.offset().top;return e+a.height()>c-j&&e<=d+j}Object.defineProperty(b,"__esModule",{value:!0});var i=c("./src/tsmodules/Opta.ts"),j=300;b.getTagAttributes=d,b.loadWidgetTerms=e,b.loadWidgetFile=f,b.validOptaWidgetTag=g,b.isVisible=h},"./src/core/widget/Widget.ts":function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0});var d=c("./src/tsmodules/Opta.ts"),e=c("./src/core/widget/WidgetExpansions.ts"),f=c("./src/core/widget/WidgetDraw.ts"),g=c("./src/core/widget/WidgetSubscriptions.ts"),h=d.default._,i=d.default.con.ERROR_NAME,j=d.default.utils,k=function(a){function(){}return Opta.tslib.__extends(b,a),b.prototype.destroy=function(a){void 0===a&&(a=!1),this.pause(),this.cancelSubscriptions(),this.onDestroy(),a&&this.dom.remove(),d.default.events.destroyed(this),this.event_subscriptions.forEach(function(a){a.unsubscribe()}),delete d.default.widgets[this.id]},b.prototype.display=function(a,b,c,d){var e=this.WidgetDraw.wrapper(a,b,c);this.storeExpansions(),!1!==d&&(this.hasNestedContent()&&this.dom.addClass("Opta-Nesting"),this.isLive()?this.dom.addClass("Opta-Live"):this.dom.removeClass("Opta-Live"),this.render(e))},b.prototype.draw=function(){var a,b=this.attr;if(this.updateNaming(),"function"!=typeof this["template_"+b.template])return this.handleError(new d.default.ErrorMessage({error:i.widget_params,extra:{desc:"Widget template "+b.template+" not found"}}));a=this["template_"+b.template](),void 0!==a.live&&(this.is_live=!0===a.live),this.display(a.title.toString(),a.html,a.classes),"function"==typeof a.sfx&&a.sfx(),this.onDraw(),!0===this.first_time&&(d.default.events.loaded(this),this.allow_pause=!0),this.first_time=!1,d.default.events.drawn(this)},b.prototype.getConfig=function(a,b,c){void 0===b&&(b={}),void 0===c&&(c=!1);for(var e=d.default.AppSettings.getConfig(c),f=[[this.attr.sport,this.attr.widget,a].join("."),[this.attr.sport,a].join("."),a],g={},h=0;h<3;h++){var i=this.resolvePath(f[h],e);if("object"==typeof i)g=d.default.extend(this.doObjReplacements(i,b),g);else if("string"==typeof i)return this.doReplacements(i,b)}return g},b.prototype.getSize=function(){var a=this.getBreakPoints();return this.is_wide=!1,this.is_narrow=!1,(this.attr.width||this.width)>a[0]?this.width>a[1]?(this.is_wide=!0,"Wide"):"Normal":(this.is_narrow=!0,"Narrow")},b.prototype.getWidth=function(){return this.attr.use_container_width&&this.dom.parent()?this.dom.parent().width():this.dom.width()},b.prototype.hasNestedContent=function(){return void 0!==this.nested_html},b.prototype.hide=function(){},b.prototype.init=function(a){var b=this,c=a.attr,g={components:void 0,libs:void 0,template:void 0};this.id=a.id,this.wid="#"+this.id,this.ID=a.id,this.attr=c,this.attr_original=h.extend({},c),this.first_time=!0,this.paused=!1,this.live=c.live||!1,this.is_live=!1,this.refresh_delay=86400,this.intervals=[],this.timeouts=[],this.subscriptions=[],this.event_subscriptions=[],this.last_data_update=void 0,this.widget_class="Opta_"+(c.tpl_src?"BSPK_":"")+j.getSportCode(c.sport)+"_"+j.getWidgetCode(c.widget),this.is_sdapi=j.isSdapiId(c.competition)||j.isSdapiId(c.season),this.nested_html=(a.dom.html()||"").replace(/<!--[\s\S]*?-->/g,"").replace(/^\s+|\s+$/g,"")||void 0,this.nested_dom=d.default(a.dom.get(0).children),this.nested_content={},!1!==c.autosize&&this.event_subscriptions.push(d.default.events.subscribe("screensize.#",function(){b.resize()})),c.template=c.template||"normal",this.WidgetDraw=new f.WidgetDraw(this),this.WidgetExpansions=new e.WidgetExpansions(this),this.autoPause(this.attr.autopause,this.attr.live,this.first_time),a.dom.replaceWith(this.widgetDom()),this.dom=d.default(this.wid),this.width=this.getWidth(),this.last_width=this.width,this.size=this.getSize(),this.dom.addClass("Opta-"+this.size),this.uid=this.getUID(),this.libs=a.libs||[],this.components=a.components||[],g.libs=d.default.loadLibs(this.libs),g.components=d.default.loadComponents(this.components),g.template=d.default.loadTpl({folder:c.folder,sport:c.sport,template:c.template,tpl_src:c.tpl_src,widget:c.widget}),this.bootstrapped=d.default.when.apply(d.default,h.map(g,void 0)).done(function(){return b.onBootstrapDone()}).fail(function(a){b.handleError(a,"")})},b.prototype.initExpansions=function(a){var b=this;void 0===a&&(a=".Opta-Nest-Control");var c=this.dom.find(a);this.hasNestedContent()&&(this.WidgetExpansions.onLoad(c),(this.first_time||this.show_expansions)&&this.dom.off("click",a).on("click",a,function(a){var c=d.default(a.currentTarget);b.WidgetExpansions.onClick(c)}))},b.prototype.isLive=function(){return this.is_live},b.prototype.isDueRefresh=function(){return this.live&&Math.round((Date.now()-this.last_data_update)/1e3)>=this.refresh_delay},b.prototype.show=function(){this.dom.show(),this.width=this.getWidth(),this.resume(this.attr.live,this.first_time),this.resize(),d.default.events.shown(this)},b.prototype.updateLive=function(a){this.dom.find(".Opta_W > h2").replaceWith(this.WidgetDraw.title(a)),this.isLive()?this.dom.addClass("Opta-Live"):this.dom.removeClass("Opta-Live")},b.prototype.resize=function(){this.width=this.getWidth(),this.first_time||this.width===this.last_width||(this.nested_widgets&&this.nested_widgets.forEach(function(a){return a.resize()}),this.updateWidgetSize(),!1!==this.attr.autosize&&!1!==this.attr.redraw_on_resize&&this.draw(),this.onResize())},b.prototype.getBreakPoints=function(){var a=j.trimSplit(this.attr.breakpoints,",",!0).sort(function(a,b){return a-b});return[a[0]||0,a[1]||9999]},b.prototype.updateWidgetSize=function(){this.last_width=this.width,this.size=this.getSize(),this.dom.removeClass("Opta-Narrow Opta-Normal Opta-Wide"),this.dom.addClass("Opta-"+this.size),this.updateNaming()},b.prototype.onBootstrapDone=function(){this.initTracking(),this.onInit()},b.prototype.initTracking=function(){d.default.AppSettings.opta_tracking&&this.trackLoad()},b.prototype.handleError=function(a,b,c){this.first_time&&this.display(b,'<div class="Opta-Cf"><p>'+a.toUserString(c)+"</p></div>","Opta-Error Opta-error"),this.error=a,d.default.events.error(this)},b.prototype.widgetDom=function(){var a=this.WidgetDraw.widgetDOM(),b=d.default(a);return this.attr.classes&&b.addClass(this.attr.classes),!0===d.default.AppSettings.rtl&&b.addClass("Opta-Rtl"),b},b.prototype.doReplacements=function(a,b){void 0===b&&(b={});var c=d.default.extend({SIZE:this.getSize().toLowerCase()},b);return h.each(c,function(b,c){a=a.replace("["+c+"]",b)}),a},b.prototype.doObjReplacements=function(a,b){var c=this;return void 0===b&&(b={}),h.each(a,function(d,e){"object"==typeof d?a[e]=c.doObjReplacements(d,b):"string"==typeof d&&(a[e]=c.doReplacements(d,b))}),a},b.prototype.getUID=function(){var a=[this.widget_class.substr(5)+"_"+j.getTemplateCode(this.attr.template),this.attr.competition?this.attr.competition.toString():void 0,this.attr.season?this.attr.season.toString():void 0,this.attr.match?this.attr.match.toString():void 0,this.attr.team?this.attr.team.toString():void 0,this.attr.player?this.attr.player.toString():void 0,d.default.sha1(encodeURIComponent(JSON.stringify(this.attr)))];return h.reduce(a,function(){},"").substr(1)},b.prototype.render=function(a){return this.dom[0].innerHTML=a,this.resize(),d.default.events.rendered(this),this.dom},b.prototype.resolvePath=function(a,b){return a.split(".").reduce(function(){},b)},b.prototype.storeExpansions=function(){var a=this;this.dom.find(".Opta-JS-Nest-Content").each(function(b,c){var e=d.default(c),f=e.attr("id");a.nested_content[f]=e.children().detach()})},b.prototype.trackLoad=function(){var a=d.default.analytics.google.getTracker(),b=window.location.protocol+"//"+window.location.hostname+window.location.pathname+window.location.search,c=d.default.analytics.google.tracker_name;a(c+".set","dimension1",d.default.AppSettings.subscription_id),a(c+".set","dimension2",window.location.hostname),a(c+".set","dimension3",b),a(c+".set","dimension4",this.attr.sport.toLowerCase()),a(c+".set","dimension5",this.attr.competition.toString()),a(c+".set","dimension6",this.attr.widget),a(c+".set","dimension7",this.attr.season.toString()),a(c+".set","dimension8",this.attr.template),a(c+".send","pageview")},b.prototype.updateNaming=function(){var a=this.attr,b=this.attr_original,c=b.competition_naming||"full",d=b.team_naming||"full",e=b.player_naming||"full";a.competition_naming="abbr"!==c&&this.is_narrow?"brief":c,a.team_naming="abbr"!==d&&this.is_narrow?"brief":d,a.player_naming=this.is_narrow?"last_name":e},b}(g.WidgetSubscriptions);b.Widget=k},"./src/core/widget/WidgetDraw.ts":function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0});var d=c("./src/tsmodules/Opta.ts"),e=d.default.utils,f=function(){function(){}return a.prototype.live=function(){return this.widget.is_live&&this.attr.show_live?' <span class="Opta-Live">'+d.default.Trans.term(4241)[0]+"</span>":""},a.prototype.logo=function(){},a.prototype.title=function(a){return!1!==this.attr.show_title?"<h2>\n          "+this.live()+'\n          <span class="Opta-Title">'+(this.attr.title||a||this.defaultTitle())+"</span>\n          "+this.logo()+"\n        </h2>":""},a.prototype.widgetDOM=function(){return'<div id="'+this.widget.id+'" class="Opta">\n        <p class="Opta-Load">'+d.default.Trans.term(551)+"</p>\n      </div>"},a.prototype.wrapper=function(a,b,c){return'<div class="Opta_W '+this.getWidgetClasses(c)+'">\n        '+this.title(a)+"\n        "+b+"\n      </div>"},a.prototype.getWidgetClasses=function(a){var b=this.attr,c=e.getTemplateCode(b.template),d=this.widget.widget_class+" Opta_"+e.getSportCode(b.sport);return b.folder&&(d+=" Opta_"+e.getSportCode(b.folder),d+=" Opta_"+e.getSportCode(b.folder)+"_"+e.getWidgetCode(b.widget),d+=" Opta_"+e.getSportCode(b.folder)+"_"+e.getWidgetCode(b.widget)+"_"+c),c&&(d+=" Opta_"+e.getSportCode(b.sport)+"_"+e.getWidgetCode(b.widget)+"_"+c),a&&(d+=" "+a),d},a.prototype.defaultTitle=function(){var a=this.attr.widget.split("_"),b="";return a.forEach(function(a,c){c>0?b+=" "+a:(b+=a.charAt(0).toUpperCase(),b+=a.substr(1))}),b},a}();b.WidgetDraw=f},"./src/core/widget/WidgetExpansions.ts":function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0});var d=c("./src/tsmodules/Opta.ts"),e=function(){function a(a){this.attrs=d.default.extend({},a.attr),this.widget=a}return a.prototype.onClick=function(a){this.expansionAction(a)},a.prototype.onLoad=function(a){var b=this,c=this.widget.fetch("NestExp",{data_type:"object"});a.each(function(a,e){var f=d.default(e),g=f.data("expansion_id");d.default._.contains(c,g)&&b.expansionAction(f,!0)})},a.prototype.addContent=function(a){var b=this;void 0===a&&(a=!1);var c;if(this.container.hasClass("Opta-JS-Nest-Content"))return void this.showHide(a);this.expansion_element.appendTo(this.container),this.container.addClass("Opta-JS-Nest-Content"),this.element.addClass("Opta-Load"),c=d.default.processOptaTags(this.container),d.default.when(c).then(function(){return b.showHide(a)})},a.prototype.expansionAction=function(a,b){if(void 0===b&&(b=!1),this.element=a,this.expansion_id=a.data("expansion_id"),this.container=d.default("#"+this.expansion_id),!this.widget.nested_content[this.expansion_id]){var c=d.default.utils.tagReplacements(this.widget.nested_html,d.default.extend({},this.attrs,a.data()));this.widget.nested_content[this.expansion_id]=d.default(c)}this.expansion_element=this.widget.nested_content[this.expansion_id],this.addContent(b)},a.prototype.showHide=function(a){void 0===a&&(a=!1),this.element.removeClass("Opta-Load"),this.container.hasClass("Opta-Expanded")?(a?this.container.hide():this.container.slideUp(),this.element.removeClass("Opta-Open"),this.container.removeClass("Opta-Expanded"),this.container.addClass("Opta-Collapsed"),this.widget.unstoreArr("NestExp",this.expansion_id,{data_type:"object"})):(this.element.addClass("Opta-Open"),this.container.removeClass("Opta-Collapsed"),this.container.addClass("Opta-Expanded"),this.widget.storeArr("NestExp",this.expansion_id,{data_type:"object"}),a?this.container.show():this.container.slideDown())},a}();b.WidgetExpansions=e},"./src/core/widget/WidgetStore.ts":function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0});var d=c("./src/tsmodules/Opta.ts"),e=function(){function a(){}return a.prototype.fetch=function(a,b){return void 0===b&&(b={}),d.default.storage.getItem(this.uid+"@"+a,b.prefix,b.data_type,b.purge_on_expired)},a.prototype.store=function(a,b,c){return void 0===c&&(c={}),d.default.storage.setItem(this.uid+"@"+a,b,c.expiry,c.prefix)},a.prototype.storeArr=function(a,b,c){void 0===c&&(c={});var d=this.fetch(a,{data_type:c.data_type}),e=!1;d&&-1===d.indexOf(b)?(d.push(b),e=!0):(d=[b],e=!0),e&&this.store(a,d,c)},a.prototype.unstore=function(a){return d.default.storage.removeItem(this.uid+"@"+a)},a.prototype.unstoreArr=function(a,b,c){void 0===c&&(c={});var d,e=this.fetch(a,{data_type:c.data_type});e&&(d=e.indexOf(b),d>-1&&e.splice(d,1),0===e.length?this.unstore(a):this.store(a,e))},a}();b.WidgetStore=e},"./src/core/widget/WidgetSubscriptions.ts":function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0});var d=c("./src/tsmodules/Opta.ts"),e=c("./src/core/widget/WidgetStore.ts"),f=function(a){function b(){return null!==a&&a.apply(this,arguments)||this}return Opta.tslib.__extends(b,a),b.prototype.onDestroy=function(){},b.prototype.onDraw=function(){},b.prototype.onPause=function(){},b.prototype.onResize=function(){},b.prototype.onResume=function(){},b.prototype.onUpdate=function(){},b.prototype.cancelSubscriptions=function(){for(var a=this.subscriptions.length-1;a>=0;a--){var b=this.subscriptions[a];"function"==typeof b.cancel&&(b.cancel(),this.subscriptions.splice(a,1))}},b.prototype.pause=function(){var a=this;this.allow_pause&&(this.paused=!0,this.pauseSubs(),this.intervals.forEach(function(b,c){clearInterval(b),a.intervals.splice(c,1)}),this.timeouts.forEach(function(b,c){clearTimeout(b),a.timeouts.splice(c,1)}),this.onPause(),d.default.events.paused(this))},b.prototype.resume=function(a,b){this.paused=!1,this.resumeSubs(a,b),this.onResume(),d.default.events.resumed(this)},b.prototype.update=function(){},b.prototype.autoPause=function(a,b,c){var e=this;!1!==a&&this.event_subscriptions.push(d.default.events.subscribe("visibilitychange",function(a){a.hidden?e.pauseSubs():e.paused||(e.resumeSubs(b,c),"function"==typeof e.onResume&&e.onResume())}))},b.prototype.pauseSubs=function(){this.subscriptions.forEach(function(a){a.pause()})},b.prototype.resumeSubs=function(a,b){(a||b)&&this.subscriptions.forEach(function(a){a.resume()})},b}(e.WidgetStore);b.WidgetSubscriptions=f},"./src/core/widget/modelFactory.ts":function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0});var d=c("./src/tsmodules/Opta.ts"),e=c("./src/core/widget/ExternalLink.ts"),f=c("./src/core/widget/FlyawayWidget.ts"),g=c("./src/core/widget/Widget.ts"),h=function(){function(){}return a}();b.Models=h,d.default.m=Opta.tslib.__assign({},d.default.m,new h)},"./src/tsmodules/Opta.ts":function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.default=Opta},2:function(){}},[[2,"runtime"]]]),Opta.components.abbr=function(a,b,c,d){"use strict";var e,f="";return a instanceof Array&&1===a.length?a:(e=a.a||a instanceof Array&&a[0]||a,b=a.b||a instanceof Array&&a[1]||b,c=a.classes||a instanceof Array&&a[2]||c||"",d&&(f+='<span class="Opta-HideNarrow Opta-Fulltext">'+e+"</span>",c+=" Opta-HideNormal Opta-HideWide"),f+='<abbr title="'+e+'" class="'+c+'">'+b+"</abbr>")},Opta.components.image=function(a){"use strict";var b=Opta,c=b.AppSettings,d=b._.extend({alt:"*",classes:"",crest_holder:!1,description:"badges",holder_classes:"",show_dimensions:!1,crest_placeholder:!1,size:"small",sport:"football",type:"team",title:!1,only_src:!1},a),e=b.utils.ucFirst,f=function(){var a=d.crest_holder?'<div class="Opta-CrestHolder">':"";if(a+='<span class="Opta-Image-Holder '+d.holder_classes+'"><img src="'+d.src+'" alt="'+d.alt+'"',d.dom_id&&(a+=' id="'+d.dom_id+'"'),d.title&&(a+=' title="'+d.title+'"'),""!==d.classes&&(a+=' class="'+d.classes+'"'),d.show_dimensions&&("player"===d.type||d.crest_placeholder))switch(d.size){case"medium":a+=' width="40" height="60"';break;case"large":case"extra_large":a+=' width="103" height="155"';break;default:d.crest_placeholder?a+=' width="20" height="20"':a+=' width="20" height="30"'}return a+="></span>",d.crest_holder&&(a+="</div>"),a};return d.image_size&&(d.size=d.image_size),"afl"===d.sport&&(d.sport="AFL"),!1!==c.use_retina&&b.has.retina&&!0!==d.no_retina?(d.original_size=d.size,d.size=function(a){switch(a){case"medium":return"large";case"large":return"football"===d.sport&&b._.contains([22,87],Number(d.competition))?"extra_large":"large"}return"medium"}(d.original_size),d.classes+=" Opta-Image-"+e(d.type)+"-"+e(d.original_size)):d.classes+=" Opta-Image-"+e(d.type)+"-"+e(d.size),d.no_holder_classes||(d.holder_classes+=" Opta-Image-"+e(d.type),d.holder_classes+=" Opta-Image-"+e(d.type)+"-"+d.id,d.holder_classes+=" Opta-Image-"+e(d.size)),d.dimensions=function(){switch(d.type){case"team":switch(d.size){case"medium":return"65";case"large":return"150";case"extra_large":return"300";default:return"20"}break;case"player":switch(d.size){case"medium":return"40x60";case"large":case"extra_large":return"103x155";default:return"20x30"}break;case"flags":switch(d.size){case"medium":return"150";default:return"21x21"}}}(),d.src=function(){switch(d.type){case"flags":return c.res.image+"&sport=football&entity=flags&description=countries&dimensions="+d.dimensions+"&id="+d.id.replace(/\s/g,"");default:if(!d.description)switch(d.type){case"team":d.description="badges"}return c.res.image+"&sport="+d.sport+"&entity="+d.type+"&description="+d.description+"&dimensions="+d.dimensions+"&id="+d.id}}(),d.toString=f,d.only_src?d.src:d},Opta.sfx.cardFlipHold=function(a){"use strict";var b=Opta,c=b._,d=c.extend({dom:"",store_selection:!0},a),e=d.widget,f=e?e.dom:b(d.dom),g=d.store_selection;f.find(".Opta-Card").on("click",function(){var a=b(this);a.hasClass("Opta-Show")?(a.removeClass("Opta-Show"),e&&g&&e.unstoreArr("card",a.data("player"),{data_type:"number_array"})):(a.addClass("Opta-Show"),e&&g&&e.storeArr("card",a.data("player"),{data_type:"number_array"}))}),g&&e&&c.each(e.fetch("card",{data_type:"number_array"}),function(){})},Opta.sfx.graphicalStats=function(a){"use strict";var b=Opta,c=b.d3,d=b._.extend({dom:""},a),e=b.utils.renderNumber;b(d.dom+" .Opta-Stats-Radial > .Opta-Stat").each(function(){var a=b(this),d=a.width(),f=a.height(),g=d/2,h=f/2,i=a.data().percent,j="-"===i||void 0===i||isNaN(i)?0:i,k=[{value:j,el_class:"Opta-Arc"},{value:100-j,el_class:"Opta-Blank-Arc"}],l=Math.min(g,h),m=l-12,n=c.select(this).append("svg").attr("width",d).attr("height",f),o=c.svg.arc().innerRadius(m).outerRadius(l),p=c.layout.pie().value(function(a){return a.value}).sort(null),q=b.Trans.getText({success_rate:8491}),r=a.data("description")||q.success_rate[0];0!==j&&100!==j&&p.padAngle(.02),n.append("g").attr("transform","translate("+d/2+","+f/2+")").selectAll("path").data(p(k)).enter().append("path").attr("class",function(a){return a.data.el_class}).attr("d",o),n.append("text").attr("class","Opta-Value").attr("x",g).attr("y",h).text("-"!==i?e(i,{percent:!0,minimumFractionDigits:0,maximumFractionDigits:1}):"-"),n.append("text").attr("class","Opta-Label").attr("x",g).attr("y",h+16).text(r)}),b(d.dom+" .Opta-Stats-Cross > .Opta-Stat").each(function(){var a=b(this),d=a.width(),f=a.height(),g=d/2,h=f/2.1,i=a.data().percents.split("|").map(function(a){return"-"===a||void 0===a||isNaN(a)?"-":e(a,{minimumFractionDigits:1})}),j=c.select(this).append("svg").attr("width",d).attr("height",f),k=(g-12.5)/2,l=b.Trans.getText({forward:4571,left:4581,right:4601,backward:4551});j.append("line").attr("class","Opta-Graph-Line").attr("x1",0).attr("y1",0).attr("x2",d).attr("y2",f),j.append("line").attr("class","Opta-Graph-Line").attr("x1",d).attr("y1",0).attr("x2",0).attr("y2",f),j.append("circle").attr("cx",g).attr("cy",f/2).attr("r",12.5),j.append("text").attr("class","Opta-Value Opta-Cross-Top").attr("x",g).attr("y",h/3).text(i[0]),j.append("text").attr("class","Opta-Label Opta-Cross-Top").attr("x",g).attr("y",h/3+16).text(l.forward[0]),j.append("text").attr("class","Opta-Value Opta-Cross-Left").attr("x",k).attr("y",h+8).text(i[1]),j.append("text").attr("class","Opta-Label Opta-Cross-Left").attr("x",k).attr("y",h+8+16).text(l.left[0]),j.append("text").attr("class","Opta-Value Opta-Cross-Right").attr("x",d-k).attr("y",h+8).text(i[2]),j.append("text").attr("class","Opta-Label Opta-Cross-Right").attr("x",d-k).attr("y",h+8+16).text(l.right[0]),j.append("text").attr("class","Opta-Value Opta-Cross-Bottom").attr("x",g).attr("y",1.8*h).text(i[3]),j.append("text").attr("class","Opta-Label Opta-Cross-Bottom").attr("x",g).attr("y",1.8*h+16).text(l.backward[0])}),b(d.dom+" .Opta-Stats-Pitch-Halfs > .Opta-Stat").each(function(){var a,d,f=b(this),g=f.width(),h=g,i=g-4,j=i/80,k=100*j,l=1*j*4,m=9.15*j/1.7,n=f.data().values.split("|").map(function(a){return b.AppSettings.rtl?"-"===a||void 0===a?"-":a:(a=a&&a.replace(",","."),"-"===a||void 0===a||isNaN(a)?"-":e(a))}),o=b.Trans.getText({opp_half:5401,own_half:5411}),p=c.select(this).append("svg").attr("width",g).attr("height",h),q=[{x:2,y:h-2},{x:2,y:2},{x:g-2,y:2},{x:g-2,y:h-2}],r=c.svg.arc().innerRadius(l).outerRadius(l),s=c.svg.line().x(function(a){return a.x}).y(function(a){return a.y}).interpolate("linear"),t=function(a){var b,c,d;"top"===a?(b=n[0],c=o.opp_half[1],d=2+k/4):(b=n[1],c=o.own_half[0],d=2+k/2*1.4),p.append("text").attr("x",g/2).attr("y",d).attr("transform","translate("+g/2+",0)").append("tspan").attr("class","Opta-Value").attr("x",0).text(b).select(function(){return this.parentNode}).append("tspan").attr("class","Opta-Label").text(c).attr("dy",16).attr("x",0)};p.append("path").attr("d",s(q)).attr("class","Opta-Graph-Line").attr("fill","none"),p.append("line").attr("x1",2).attr("y1",k/2+2).attr("x2",g-2).attr("y2",k/2+2).attr("class","Opta-Graph-Line"),p.append("circle").attr("cx",g/2).attr("cy",k/2+2).attr("r",m).attr("class","Opta-Graph-Line").attr("fill","none"),
a=r.startAngle(b.utils.convertDegRad(90,"radians")).endAngle(b.utils.convertDegRad(180,"radians")),p.append("path").attr("d",a).attr("class","Opta-Graph-Line").attr("transform","translate(2, 2)"),d=r.startAngle(b.utils.convertDegRad(180,"radians")).endAngle(b.utils.convertDegRad(270,"radians")),p.append("path").attr("d",d).attr("class","Opta-Graph-Line").attr("transform","translate("+(g-2)+", 2)"),t("top"),t("bottom")}),b(d.dom+" .Opta-Stats-Football-Box > .Opta-Stat").each(function(){var a=b(this),d=a.width(),f=.4*d,g=a.data("value"),h=a.data("type"),i=.67*d,j=i/40.3,k=9.15*j,l=16.5*j,m=c.svg.arc().innerRadius(k).outerRadius(k).startAngle(b.utils.convertDegRad(127,"radians")).endAngle(b.utils.convertDegRad(233,"radians")),n={x:d/2,y:2+11*j},o=b.Trans.getText({goals_inside_box:5211,shots_inside_box:4671}),p=c.select(this).append("svg").attr("width",d).attr("height",f);p.append("line").attr("x1",2).attr("y1",2).attr("x2",d-2).attr("y2",2).attr("class","Opta-Graph-Line"),p.append("rect").attr("transform","translate("+((d-4)/2-i/2)+",2)").attr("x",0).attr("y",0).attr("width",i).attr("height",l).attr("fill","none").attr("class","Opta-Graph-Line"),p.append("path").attr("d",m).attr("class","Opta-Graph-Line").attr("transform","translate("+n.x+","+n.y+")"),function(){b.AppSettings.rtl?p.append("text").attr("transform","translate("+d/4+", "+(2+l/2)+")").append("tspan").attr("class","Opta-Value").attr("x",d/5).attr("y",16).text(e(g)).select(function(){return this.parentNode}).append("tspan").attr("class","Opta-Label").text(o[h+"_inside_box"][0]).attr("y",0).attr("x",0):p.append("text").attr("transform","translate("+d/2+", "+(2+l/2)+")").append("tspan").attr("class","Opta-Value").attr("x",0).text(e(g)).select(function(){return this.parentNode}).append("tspan").attr("class","Opta-Label").text(o[h+"_inside_box"][0]).attr("dy",16).attr("x",0)}()})},Opta.sfx.runCarousel=function(a){"use strict";var b=Opta,c=b._,d=c.extend({autoheight:!1,automation:!1,dom:"",item:null,width:400,vertical_padding:40,height:0,scrollers:!0,swipe:!1,buttons:!1},a),e=!1,f=a.widget,g=b(d.dom),h=g.children(".Opta-Window"),i=g.children(".Opta-Scroller"),j=g.children(".Opta-ScrollerButtons"),k=j.find("button"),l=k.length,m=0,n=h.children(".Opta-Room"),o=n.children(d.item),p=o.length,q=d.height,r=!1,s=function(){var a=n.find(d.item+":last-child");a.remove(),n.prepend(a),n.css("margin-left",parseInt(n.css("margin-left"),10)-d.width)},t=function(){var a=n.find(d.item+":first-child");a.remove(),n.append(a),n.css("margin-left",parseInt(n.css("margin-left"),10)+d.width)},u=function(){m>=l?m=0:m<0&&(m=l-1),k.removeClass("Opta-On"),b(k[m]).addClass("Opta-On")},v=function(a){n.animate({marginLeft:"+="+d.width},a,s),m-=1,u()},w=function(a){n.animate({marginLeft:"-="+d.width},a,t),m+=1,u()},x=function(){f.carousel_interval_id=setInterval(function(){document.hidden||e||w(400)},1e3*d.automation)},y=function(){r||(i.show(),i.on("click touch",function(){e=!0,b(this).hasClass("Opta-Next")?(n.animate({marginLeft:"-="+d.width},400,t),b.events.interaction(f,"carousel","click","next")):(n.animate({marginLeft:"+="+d.width},400,s),b.events.interaction(f,"carousel","click","previous"))}),d.automation>0&&x(),r=!0)};if(p>1){if(d.autoheight||(c.each(o,function(a){q=Math.max(q,b(a).height())}),d.swipe?(g.height(q+d.vertical_padding),j.css({top:q})):g.height(q),i.height(q),h.height(q),n.height(q)),n.width(d.width*(p+2)),c.each(o,function(a){d.autoheight||b(a).height(q),b(a).outerWidth(d.width),b.utils.isIE()&&b(a).find("a").width(d.width-30)}),2===p&&n.append(o.clone()),d.autoheight){var z=f.attr.show_title?f.dom.find(".Opta-Title").parent().height():0;if((b.utils.isIE()||b.utils.isEdge())&&(z=0),f.dom.height("100%"),f.is_narrow){var A=c.reduce(o,function(a,c){return Math.max(b(c).height(),a)},0);f.dom.height(A-z)}else g.height(f.dom.height()-z)}s(),d.swipe?(function(){b.utils.horizontalSwipe(n,function(a){e=!0,"right"===a?v(400):"left"===a&&w(400)})}(),l===p&&(b(k[m]).addClass("Opta-On"),k.each(function(a,d){var f=b(d);f.on("click tap",function(){var b;e=!0,f.hasClass("Opta-On")||(b=a-m,b>0?c.times(b,function(){w(0)}):c.times(-1*b,function(){v(0)}))})}))):y(),d.scrollers&&y()}},Opta.sfx.runTeamSheetCheckBoxes=function(a){"use strict";var b=Opta,c=b._,d=c.extend({dom:"",onChange:!1,players:{home:[],home_subs:[],away:[],away_subs:[]},show_subs:!0,storage_key:"SEL",uid:!1,preselect:!0},a),e={home:d.dom+" .Opta-Home.Opta-Teamsheet-Tickboxes .Opta-Team",home_subs:d.dom+" .Opta-Home.Opta-Teamsheet-Tickboxes .Opta-Subs",away:d.dom+" .Opta-Away.Opta-Teamsheet-Tickboxes .Opta-Team",away_subs:d.dom+" .Opta-Away.Opta-Teamsheet-Tickboxes .Opta-Subs"},f=function(a,b){d.onChange&&"function"==typeof d.onChange&&d.onChange(a,b)},g=function(){d.uid&&b.storage.setItem(d.uid+"@"+d.storage_key,d.selected_players)},h=function(a,e){c.each(d.selected_players[a],function(a){c.each(b(e),function(c){var d=b(c);b.utils.castParam(d.data().id)===b.utils.castParam(a)&&d.addClass("Opta-On")})})},i=function(a){var c=b(e[a]),f=b(e[a+"_subs"]),g=d.show_subs?d.selected_players[a].length+d.selected_players[a+"_subs"].length>=d.players[a].length+d.players[a+"_subs"].length:d.selected_players[a].length>=d.players[a].length,h=d.show_subs?d.selected_players[a].length+d.selected_players[a+"_subs"].length===0:0===d.selected_players[a].length;g?(c.removeClass("Opta-Half"),c.addClass("Opta-On"),f.removeClass("Opta-Half"),f.addClass("Opta-On")):h?(c.removeClass("Opta-Half"),c.removeClass("Opta-On"),f.removeClass("Opta-Half"),f.removeClass("Opta-On")):(c.addClass("Opta-Half"),c.removeClass("Opta-On"),d.selected_players[a+"_subs"].length===d.players[a+"_subs"].length?(f.removeClass("Opta-Half"),f.addClass("Opta-On")):0===d.selected_players[a+"_subs"].length?(f.removeClass("Opta-Half"),f.removeClass("Opta-On")):(f.addClass("Opta-Half"),f.removeClass("Opta-On")))},j=function(){var a=b(this),e=a.data(),h=b.utils.castParam(e.id),j=!0===e.substitute,k=e.side,l=j?k+"_subs":k;c.contains(d.selected_players[l],h)?(a.removeClass("Opta-On"),d.selected_players[l]=c.without(d.selected_players[l],h)):(d.selected_players[l].push(h),a.addClass("Opta-On")),g(),i(k),f(k,"player")},k=function(a){var c=b(d.dom+" .Opta-"+("home"===a?"Home":"Away")+" .Opta-Player"),h=b(e[a]),i=b(e[a+"_subs"]);h.hasClass("Opta-On")?(h.removeClass("Opta-On"),i.removeClass("Opta-On"),c.removeClass("Opta-On"),d.selected_players[a]=[],d.selected_players[a+"_subs"]=[]):(h.removeClass("Opta-Half"),i.removeClass("Opta-Half"),h.addClass("Opta-On"),i.addClass("Opta-On"),c.addClass("Opta-On"),d.selected_players[a]=d.players[a],d.selected_players[a+"_subs"]=d.players[a+"_subs"]),g(),f(a,"team")},l=function(a){var c=b(d.dom+" .Opta-"+("home"===a?"Home":"Away")+" .Opta-Sub"),h=b(e[a+"_subs"]),i=b(e[a]);h.hasClass("Opta-On")?(h.removeClass("Opta-On"),c.removeClass("Opta-On"),d.selected_players[a+"_subs"]=[]):(h.removeClass("Opta-Half"),h.addClass("Opta-On"),c.addClass("Opta-On"),d.selected_players[a+"_subs"]=d.players[a+"_subs"]),d.selected_players[a+"_subs"].length+d.selected_players[a].length===d.players[a+"_subs"].length+d.players[a].length?(i.removeClass("Opta-Half"),i.addClass("Opta-On")):d.selected_players[a+"_subs"].length+d.selected_players[a].length===0?(i.removeClass("Opta-Half"),i.removeClass("Opta-On")):(i.removeClass("Opta-On"),i.addClass("Opta-Half")),g(),f(a,"subs")};d.preselect&&(h("home"," .Opta-Home.Opta-Teamsheet-Tickboxes .Opta-Starter"),h("away"," .Opta-Away.Opta-Teamsheet-Tickboxes .Opta-Starter"),d.show_subs&&(h("home_subs"," .Opta-Home.Opta-Teamsheet-Tickboxes .Opta-Sub"),h("away_subs"," .Opta-Away.Opta-Teamsheet-Tickboxes .Opta-Sub")),i("home"),i("away")),b(d.dom+" .Opta-Teamsheet-Tickboxes .Opta-Player").on("click",j),b(e.home).on("click",function(){k("home")}),b(e.away).on("click",function(){k("away")}),d.show_subs&&(b(e.home_subs).on("click",function(){l("home")}),b(e.away_subs).on("click",function(){l("away")}))},Opta.sfx.runTeamSheetDropDowns=function(a){"use strict";var b=Opta,c=b._.extend({dom:"",always_height:!1},a),d=b(c.dom).find(".Opta-Teamsheet-Holder");d.each(function(){var a=b(this),e=a.find(".Opta-Teamsheet-Button"),f=a.find(".Opta-Teamsheet"),g=a.closest(".Opta_W"),h=function(){var a,e,f,h,i,j,k=0,l=[],m=b(d).find(".Opta-Teamsheet-Button.Opta-On");g.css({height:"auto","min-height":"auto"}),m.length>0&&(m.each(function(){i=b(this).next(".Opta-Teamsheet"),f=i.outerHeight(),h=b(this).offset(),j=b(this).outerHeight(),a=g.outerHeight(),e=g.offset(),l.push(h.top+f+j-(e.top+a))}),k=Math.max.apply(null,l),k>0?g.css({height:a+k+"px"}):c.always_height&&g.css({"min-height":a+k+"px"}))};f.on("click",function(){h()}),e.on("click",function(){f.length>0&&(b(this).toggleClass("Opta-On"),h(),b(this).hasClass("Opta-On")?f.show():f.hide())})})},Opta.sfx.svgShadow=function(a){"use strict";var b,c,d=Opta,e=d._.extend({svg:"",id:""},a);b=e.svg.append("defs").append("filter").attr("id","Opta-SfxShadow"+(""!==e.id?"-"+e.id:"")).attr("height","180%"),b.append("feGaussianBlur").attr("in","SourceAlpha").attr("stdDeviation","1"),b.append("feOffset").attr("dx","0").attr("dy","2").attr("result","offsetblur"),b.append("feComponentTransfer").append("feFuncA").attr("type","linear").attr("slope","0.5"),c=b.append("feMerge"),c.append("feMergeNode"),c.append("feMergeNode").attr("in","SourceGraphic")},Opta.sfx.tableCellHighlight=function(a){"use strict";var b=Opta;b(a).find("td, th").hover(function(){var a=b(this).index();b(this).hasClass("Opta-NoHighlight")||b(this).toggleClass("Opta-Highlight"),b(this).parents("table").find("tr").each(function(){var c=b(this).find("th, td");b(c[a]).hasClass("Opta-NoHighlight")||b(c[a]).toggleClass("Opta-Column")})})},Opta.sfx.tableScroll=function(a){"use strict";var b,c,d=Opta,e=d._,f=d.AppSettings.rtl,g=e.extend({cols:1,onRunFunction:function(){}},a),h=d(g.dom),i=h.width(),j=h.find("table"),k={},l={},m={},n=0,o=j.hasClass("Opta-Vertical-Header"),p=[];o&&d.sfx.tableVerticalHeader(j),j.length>=1&&e.each(j,function(a){0!==d(a).height()&&p.push(j.index(a))}),e.each(p,function(a){b=o?d(j[a]).find("tbody tr"):d(j[a]).find("tr"),i<d(j[a]).width()&&(g.onRunFunction(),e.each(b,function(a,b){l[b]=0,d(a).children("th, td").not(".Opta-Nest").each(function(a){var c=d(this),e=c.width(),f=c.height(),g=c.outerWidth();k[a]?(k[a]=Math.max(k[a],e),m[a]=Math.max(m[a],g)):(k[a]=e,l[a]=f,m[a]=g),l[b]=Math.max(l[b],f)})}),c=b.filter(function(){}),e.each(c,function(a,b){var c=0;n=0,d(a).children("th, td").each(function(a){var e=d(this),h=e.find("> div"),i=e.find("> span.Opta-column-heading:not(.Opta-Icon)");e.height(l[b]),i.length>0&&i.height(l[b]),a<g.cols?(h.length>0&&h.height(l[b]),e.css({lineHeight:l[b]+"px"}),e.css(f?"right":"left",c),e.width(k[a]),c+=m[a],n+=m[a],e.addClass("Opta-Table-Scroll-Fixed-Column"),a+1===g.cols&&e.addClass("Opta-Table-Scroll-Fixed-Column-Last")):a===g.cols&&e.addClass("Opta-Table-Scroll-Scrolled-Column-First")})}),d(j[a]).css(f?"margin-right":"margin-left",n))})},Opta.sfx.tableSort=function(a){"use strict";var b=Opta,c=b._.extend({cssHeader:"Opta-Sort-Header",cssAsc:"Opta-Sort-HeaderSortUp",cssDesc:"Opta-Sort-HeaderSortDown",cssChildRow:"Opta-Sort-ExpandChild",headers:{},sortInitialOrder:"desc",sortList:[[0,0]],textExtraction:function(a){var b=a.dataset&&a.dataset.hasOwnProperty("srt")?a.dataset.srt:a.innerText;return"-"===b?"":b}},a),d=b(c.dom),e=d.find("tbody tr");e.length<=1&&d.find("thead th").removeClass("Opta-Sort").addClass("Opta-No-Sort"),e.length>1&&(b._.each(d.find("thead th"),function(a,d){b(a).hasClass("Opta-Sort")||(c.headers[d]={sorter:!1})}),delete c.dom,d.tablesorter(c))},Opta.sfx.tableVerticalHeader=function(a){"use strict";var b=Opta,c=a.find("thead tr"),d=c.find("th"),e=0;c.find(".Opta-text-inner").each(function(){}),c.height(e+d.height())},Opta.sfx.timeControls=function(a){"use strict";var b=Opta,c=b(a+" .Opta-TimeBox");b(a+" .Opta-ClickMask").hover(function(){c.show()},function(){c.hide()})},Opta.sfx.toolTips=function(a){"use strict";var b,c=Opta,d=c._.extend({dom:"",arrow_space:18,internal_padding:4,classes:"",type:"classic",precisely:!1,dynamic_content:!1,is_wide:!1},a),e=c(d.dom),f=!!d.live_binding&&c(d.live_binding),g=e.find(".Opta-JS-Tip"),h=e.children(".Opta-Tooltip"),i={top:["top","bottom","right","left"],bottom:["bottom","top","right","left"],right:["right","left","top","bottom"],left:["left","right","top","bottom"]},j=function(a,b,f,g){var i,j,k,l,m,n,o,p,q,r,s,t,u,v,w=d.arrow_space,x=d.internal_padding,y=0,z=w-x,A=function(){switch(v){case"bottom":if(j+l>n+p+t+w+x)return!0;break;case"left":if(m-i>s+w+x)return!0;break;case"right":if(i+k>m+o+s+w+x)return!0;break;default:if(n-j>t+w+x)return!0}return!1},B=function(){var a,b=m-i,c=n-j,f=h.children("span");switch(h.css({top:"auto",left:"auto"}),h.css({top:"initial",left:"initial"}),h.removeClass("Opta-Tooltip-Top Opta-Tooltip-Bottom Opta-Tooltip-Left Opta-Tooltip-Right"),f.removeAttr("style"),h.hide(),v){case"left":h.addClass("Opta-Tooltip-Right"),d.precisely?(r=g.pageY-j-z-30,q=g.pageX-e.find(".Opta-js-main").offset().left-s-z):(q=b-s-w,r=c-t/2+p/2),r-x<0?(a=r-x,r-=a,f.css({top:t/2+a})):r+t>l&&(a=r+t-l+x,r-=a+x,f.css({top:t/2+a}));break;case"right":h.addClass("Opta-Tooltip-Left"),d.precisely?(r=g.pageY-j-z-30,q=g.pageX-e.find(".Opta-js-main").offset().left+z):(q=b+o+w,r=c-t/2+p/2),r-x<0?(a=r-x,r-=a,f.css({top:t/2+a})):r+t>l-x&&(a=r+t-l+x,r-=a+x,f.css({top:t/2+a}));break;case"bottom":h.addClass("Opta-Tooltip-Top"),q=d.precisely?d.is_wide?g.pageX-e.offset().left-s/2:g.pageX-e.find(".Opta-js-main").offset().left-s/2:b+o/2-s/2,q-x<0?(a=q-x,q-=a,f.css({left:s/2+a})):q+s+x>k&&(a=q+s-k+x,q-=a+x,f.css({left:s/2+a+x})),r=c+w+p,d.precisely&&(r=g.pageY-j+t/4-30+w/2);break;default:h.addClass("Opta-Tooltip-Bottom"),q=d.precisely?d.is_wide?g.pageX-e.offset().left-s/2:g.pageX-e.find(".Opta-js-main").offset().left-s/2:b+o/2-s/2,q-x<0?(a=q-x,q-=a,f.css({left:s/2+a})):q+s>k&&(a=q+s-k+x,q-=a+x,f.css({left:s/2+a+x})),r=c-t-w,d.precisely&&(r=g.pageY-j-t+w-30)}h.show()},C=function(){for(i=e.offset().left,j=e.offset().top,k=e.innerWidth(),l=e.innerHeight(),c.utils.isSafari()?(m=window.scrollX+a[0].getBoundingClientRect().left,n=window.scrollY+a[0].getBoundingClientRect().top):(m=a.offset().left,n=a.offset().top),a.closest("svg").length>0?(o=d.width||a[0].getBoundingClientRect().width,p=d.height||a[0].getBoundingClientRect().height):(o=d.width||a.outerWidth(),p=d.height||a.outerHeight()),s=h.outerWidth(),t=h.outerHeight(),y=0;y<4;y+=1)if(v=f[y],A()){B();break}h.css({top:r,left:q})},D=c(b).find("img"),E=D.length,F=function(a){var b=new Image,d=new c.Deferred;return b.onload=function(){d.resolve()},b.onerror=function(){d.resolve()},b.src=a,d.promise()};d.dynamic_content&&(b=c(a).find(".Opta-Hidden").html()),E>0&&!a.data("images-loaded")&&(function(){var a=[];D.each(function(){var b=c(this).attr("src");a.push(F(b))}),c.when.apply(c,a).then(C)}(),a.data("images-loaded",!0)),h.children("div").html(b),C(),h.show(),l=e.outerHeight(),n=c.utils.isSafari()?window.scrollY+a[0].getBoundingClientRect().top:a.offset().top,u=l<h.outerHeight()+n?h.outerHeight():h.outerHeight()-l+2*x,A()||e.css({height:l+Math.abs(u)+"px"}),C(),"function"==typeof d.onShow&&d.onShow({element:a,event:g,tooltip:h})},k=function(){e.css("height","auto"),e.css("height","initial"),h.children("div").html(""),h.css({top:"auto",left:"auto"}),h.css({top:"initial",left:"initial"}),h.hide()};0===h.length&&(h=c('<div class="Opta-Tooltip '+d.classes+'"><span></span><div></div></div>'),e.append(h)),h.hide(),f?c.has.touch||d.click?f.on("click",".Opta-JS-Tip",function(a){var b=c(this);a.stopPropagation(),window.el=b.find(".Opta-Hidden"),j(b,b.find(".Opta-Hidden").get(0).childNodes[0].outerHTML,i[b.data("direction")]||i.top,a),f.find(".Opta-JS-Tip.Opta-Active").removeClass("Opta-Active"),b.addClass("Opta-Active")}):d.precisely?(f.on("mouseleave",".Opta-JS-Tip",k),f.on("mousemove",".Opta-JS-Tip",function(a){var b=c(this);j(b,b.find(".Opta-Hidden").get(0).childNodes[0].outerHTML,i[b.data("direction")]||i.top,a)})):f.on("mouseenter",".Opta-JS-Tip",function(a){var b=c(this);j(b,b.find(".Opta-Hidden").get(0).childNodes[0].outerHTML,i[b.data("direction")]||i.top,a)}).on("mouseleave",".Opta-JS-Tip",k):"classic"===d.type?(g.each(function(){var a=c(this),b=c(this).find(".Opta-Hidden").html(),e=i[a.data().direction]||i.top;c.has.touch?a.on("click",function(c){c.stopPropagation(),j(a,b,e,c),g.removeClass("active Opta-Active"),a.addClass("active Opta-Active")}):d.precisely?(a.hover(k),a.mousemove(function(c){j(a,b,e,c)})):a.hover(function(){j(a,b,e)},k)}),c.has.touch&&e.on("click",function(a){0===c(a.target).closest(".Opta-Tooltip").length&&(e.css("height","auto"),e.css("height","initial"),h.children("div").html(""),h.css({top:"auto",left:"auto"}),h.css({top:"initial",left:"initial"}),h.hide(),g.removeClass("active Opta-Active"))})):(e.click(function(){}),g.each(function(){var a=c(this).parent(),d=c(this).text(),e=i.top;a.click(function(){c(this).attr("id")!==b||c(this).attr("id")===b&&"none"===h.css("display")?(j(a,d,e),b=c(this).attr("id")):h.hide()})}))},function(a){"use strict";var b=function(b){var c=a._.extend({dnt:!0,dom:!1,height:!1,lang:a.AppSettings.language,source_type:"profile",screen_name:!1,tweet_limit:!1},b);window.twttr&&c.dom&&c.screen_name&&window.twttr.widgets.createTimeline({sourcetype:c.source_type,screenName:c.screen_name},document.getElementById(c.dom),{dnt:c.dnt,height:c.height,lang:c.lang,partner:"opta",tweetLimit:c.tweet_limit})};a.sfx.tweets=b}(Opta),(window.webpackJsonpOPTA=window.webpackJsonpOPTA||[]).push([["sfx/plot_icehockey_events"],{"./src/enums/model/icehockey/match.ts":function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),function(){}(b.MATCH_PERIODS_OBJ||(b.MATCH_PERIODS_OBJ={})),function(){}(b.MATCH_EVENT_TYPE_OBJ||(b.MATCH_EVENT_TYPE_OBJ={}))},"./src/sfx/plot_icehockey_events.ts":function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0});var d=c("./src/tsmodules/Opta.ts"),e=c("./src/enums/model/icehockey/match.ts"),f=function(){function a(a){this.wid=a.wid,this.text=a.text,this.events=a.events,this.show_crests=a.show_crests,this.show_tooltips=a.show_tooltips,this.event_shapes=a.event_shapes,this.player_naming=a.player_naming,this.away_team_first=a.away_team_first,this.rink_orientation=a.rink_orientation,this.event_layer_class=a.event_layer_class,this.svg=d.default.d3.select(a.container_selector+" svg"),this.viewbox_size=this.getViewboxSize(),this.plotEvents()}return a.prototype.plotEvents=function(){this.removeEventLayer(),this.addEventLayer(),this.showTooltips()},a.prototype.getViewboxSize=function(){var a=this.svg.node().viewBox.baseVal.width,b=this.svg.node().viewBox.baseVal.height;return{long_side:Math.max(a,b),short_side:Math.min(a,b)}},a.prototype.removeEventLayer=function(){"object"==typeof d.default.d3.select(this.wid+" ."+this.event_layer_class)[0][0]&&d.default.d3.select(this.wid+" ."+this.event_layer_class).remove()},a.prototype.addEventLayer=function(){var a=this,b=this.svg.select(".Opta-IceRinkGroup").append("g").attr("class",this.event_layer_class);this.away_team_first&&b.attr("transform","translate("+this.viewbox_size.long_side+" "+this.viewbox_size.short_side+") rotate(180)"),this.events.forEach(function(c){return a.plotEvent(c,b)})},a.prototype.plotEvent=function(a,b){var c=this.getPerspective(),f=c.transform(a.position_coordinates.x,a.position_coordinates.y);d.default.sfx.plotShape({classes:"Opta-Event-"+e.MATCH_EVENT_TYPE_OBJ[a.type_id]+" Opta-Event-"+a.id,container:b,diameter:16,height:16,rotation:-(("vertical"===this.rink_orientation?90:0)+(this.away_team_first?180:0)),tooltip_html:this.getTooltipTemplate(a),type:this.event_shapes[a.type_id],vertical:"vertical"===this.rink_orientation,width:16,x:f[0],y:f[1]})},a.prototype.getPerspective=function(){var a=this.viewbox_size.short_side-5,b=this.viewbox_size.long_side-5,c=[0,1,0,0,1,0,1,1],e=[5,5,5,a,b,a,b,5];return new d.default.perspective.PerspT(c,e)},a.prototype.getTooltipTemplate=function(a){return this.show_tooltips?'<h3 class="Opta-Event-Tooltip">\n        <div>\n          '+this.drawPlayerName(a)+'\n          <div class="Opta-EventType">'+this.text[e.MATCH_EVENT_TYPE_OBJ[a.type_id]]+"</div>\n        </div>\n        <div>"+this.drawCrest(a)+"</div>\n      </h3>":""},a.prototype.drawPlayerName=function(a){return a.player_name?'<div class="Opta-Name">'+a.player_name.toString(this.player_naming)+"</div>":""},a.prototype.drawCrest=function(a){return a.team_name&&this.show_crests?d.default.components.image({alt:a.team_name.toString(),id:a.team_name.id,size:"small",sport:"icehockeysd"}):""},a.prototype.showTooltips=function(){this.show_tooltips&&d.default.sfx.toolTips({dom:this.wid+" > div",precisely:!1,arrow_space:30,position:"bottom"})},a}();b.PlotIceHockeyEvents=f,d.default.sfx.plotIcehockeyEvents=function(a){return new f(a)}},"./src/tsmodules/Opta.ts":function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.default=Opta}},[["./src/sfx/plot_icehockey_events.ts","runtime"]]]),(window.webpackJsonpOPTA=window.webpackJsonpOPTA||[]).push([["sfx/plot_shape"],{"./src/sfx/plot_shape.ts":function(a,b,c){"use strict";function d(a){var b=Math.cos(.4*Math.PI),c=Math.cos(.2*Math.PI),d=Math.sin(.4*Math.PI),e=Math.sin(.8*Math.PI),f=a/(2*c),g=0-f;return[[0,g],[f*d,f*b*-1],[f*e,f*c],[f*e*-1,f*c],[f*d*-1,f*b*-1],[0,g]]}function e(a,b){var c=a/-2,d=a/2,e=b/-2,f=b/2;return[[0,e],[c,f],[d,f],[0,e]]}function f(a){var b=g.default.d3.svg.line().x(function(a){return a[0]}).y(function(a){return a[1]}).interpolate("linear"),c=a.tooltip_html?a.classes+" Opta-JS-Tip":a.classes,f=a.rotation||0,h=a.container.append("g").attr("transform","translate("+a.x+", "+a.y+")").attr("class",c+" Opta-EventShape");switch(a.type){case"rectangle":h.append("rect").attr("x",a.width/-2).attr("y",a.height/-2).attr("width",a.width).attr("height",a.height).attr("transform","rotate("+f+")").attr("class","Opta-Shape");break;case"triangle":h.append("path").attr("d",b(e(a.width,a.height))).attr("transform","rotate("+f+")").attr("class","Opta-Shape");break;case"pentagon":h.append("path").attr("d",b(d(a.diameter))).attr("transform","rotate("+f+")").attr("class","Opta-Shape");break;default:h.append("circle").attr("cx",0).attr("cy",0).attr("r",a.diameter/2).attr("class","Opta-Shape")}a.tooltip_html&&h.append("span").attr("class","Opta-Hidden").html(function(){return a.tooltip_html})}Object.defineProperty(b,"__esModule",{value:!0});var g=c("./src/tsmodules/Opta.ts");g.default.sfx.plotShape=f},"./src/tsmodules/Opta.ts":function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.default=Opta}},[["./src/sfx/plot_shape.ts","runtime"]]]),(window.webpackJsonpOPTA=window.webpackJsonpOPTA||[]).push([["sfx/run_accordion"],{"./src/sfx/run_accordion.ts":function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0});var d=c("./src/tsmodules/Opta.ts"),e=d.default._,f=function(){function a(a){this.settings=a,this.is_concertina=this.settings.tabs_block.hasClass("Opta-Concertina"),this.accordion_headers=this.settings.accordion_headers,this.accordion_bodies=this.settings.accordion_bodies,this.init()}return a.prototype.init=function(){this.is_concertina&&this.accordion_headers.length===this.accordion_bodies.length?this.runConcertina():this.runAccordion()},a.prototype.runConcertina=function(){var a=this,b=this.settings.selected_tab;d.default(this.accordion_headers[b]).addClass("Opta-Open"),d.default(this.accordion_bodies[b]).show(),e.each(this.accordion_headers,function(b,c){var e=d.default(b);e.off("click").on("click",function(b){b.stopPropagation(),e.hasClass("Opta-Open")||(a.accordion_headers.removeClass("Opta-Open"),a.accordion_bodies.slideUp(),d.default(a.accordion_bodies[c]).slideDown(),e.addClass("Opta-Open"),a.settings.selected_tab=c,a.settings.eventSelection(c),a.settings.onEvent("onOpen",c))}),a.settings.onEvent("onStart",c)}),this.settings.onEvent("onLoad")},a.prototype.runAccordion=function(){var a=this.settings.selected_tab||[];this.settings.selected_tab=e.uniq(a),0===this.settings.selected_tab.length&&(this.settings.selected_tab=this.settings.start_tabs),e.each(this.settings.content_items,this.runAccordionListeners.bind(this)),this.settings.onEvent("onLoad")},a.prototype.runAccordionListeners=function(a,b){var c=this,f=d.default(a).find("> h3"),g=d.default(a).find("> div");if(e.contains(this.settings.selected_tab,b)&&(f.addClass("Opta-Open"),this.resetStyle(g),g.show()),1!==f.length||1!==g.length)return!1;f.unbind("click").click(function(){var a=f.hasClass("Opta-Open");f.toggleClass("Opta-Open"),a?(g.slideUp(),c.settings.selected_tab=e.without(c.settings.selected_tab,b),c.settings.onEvent("onClose",b)):(g.slideDown(),c.settings.selected_tab.push(b),c.settings.onEvent("onOpen",b)),c.resetStyle(g),c.settings.eventSelection(b),c.settings.store(c.settings.selected_tab)})},a.prototype.resetStyle=function(a){var b=a.closest(".Opta-Comparison");0!==b.length&&(this.card_items=b.find(".Opta-Open ~ div .Opta-Accordion-Cards"),this.card_items.length>0&&this.card_items.closest("Opta-Normal").length>0&&(this.card_items.css("display","none"),0!==this.card_items.length&&(this.card_items[0].style.display="table-row")))},a}();d.default.sfx.runAccordion=function(a){return new f(a)}},"./src/tsmodules/Opta.ts":function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.default=Opta}},[["./src/sfx/run_accordion.ts","runtime"]]]),(window.webpackJsonpOPTA=window.webpackJsonpOPTA||[]).push([["sfx/run_clock"],{"./src/sfx/run_clock.ts":function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0});var d=c("./src/tsmodules/Opta.ts"),e=function(){function a(a){this.options=Opta.tslib.__assign({},a),this.match=this.options.match,this.dom=this.options.dom,this.draw()}return a.prototype.stop=function(){this.clockRunning()&&(clearTimeout(this.timerId),this.timerId=void 0)},a.prototype.update=function(a){a&&(this.match=a),this.clockRunning()||this.draw()},a.prototype.draw=function(){var a,b=this,c=Math.round((new Date).getTime()/1e3),e=c-Math.round(this.match.getCurrentPeriodStart()/1e3),f=!1!==this.options.responsive,g=Math.floor(e/60),h=e-60*g;if(d.default._.contains([2,4,6,8],this.match.period_id)){switch(this.match.period_id){case 4:g+=45;break;case 6:g+=90;break;case 8:g+=105}var i=this.match.period_timestamps&&null!==this.match.period_timestamps.first_half_start?g+":"+d.default.utils.pad(2,h):this.getClockTime(!1,f);a='<span class="'+(this.isInjuryStoppageTime(g)?"Opta-Stoppage":"")+'">'+i+"</span>",this.timerId=window.setTimeout(function(){},1e3)}else a=this.getClockTime(!1,f);this.dom.find(".Opta-Clock").html(a),(this.match.isFinished()||"Abandoned"===this.match.period)&&this.stop()},a.prototype.getClockTime=function(a,b){return this.options.ignore_locale&&1===this.match.period_id?this.match.date.clone().tz(d.default.AppSettings.tz).locale("en").format("HH:mm"):this.match.getClockTime(a,b)},a.prototype.isInjuryStoppageTime=function(a){var b=["FirstHalf","SecondHalf","ExtraFirstHalf","ExtraSecondHalf"],c=[45,90,105,120],d=b.indexOf(this.match.period);return d>-1&&a>=c[d]},a.prototype.clockRunning=function(){return!!this.timerId},a}();b.RunClock=e,d.default.sfx.runClock=function(a){return new e(a)}},"./src/tsmodules/Opta.ts":function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.default=Opta}},[["./src/sfx/run_clock.ts","runtime"]]]),(window.webpackJsonpOPTA=window.webpackJsonpOPTA||[]).push([["sfx/run_datepicker"],{"./src/sfx/run_datepicker.ts":function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0});var d=c("./src/tsmodules/Opta.ts"),e=function(){function a(a){this.widget=a,this.selected_tab=0,this.grouped_matches=a.grouped_matches.slice(),this.is_reversed="date_descending"===this.widget.attr.order_by,this.is_reversed&&this.grouped_matches.reverse()}return a.prototype.initDatePicker=function(){var a=this.widget.dom.find(".Opta-datepicker"),b={close_on_select:this.widget.attr.close_on_select||!0,first_day_of_week:this.widget.attr.first_day_of_week,groupings:this.grouped_matches,onClose:this.onDatePickerClose.bind(this),onDateChange:this.onDatePickerDateChange.bind(this),onOpen:this.onDatePickerOpen.bind(this),show_surrounding_days:this.widget.attr.show_surrounding_days};this.datepicker=new d.default.components.generic.datepicker(a,b)},a.prototype.changeDatePickerDate=function(a){var b=this.widget.grouped_matches[a].header.params.date_from,c=d.default.moment(b).tz(d.default.AppSettings.tz),e=c.subtract(c.utcOffset(),"minutes");this.selected_tab=a,this.datepicker.goToDate(e,!1)},a.prototype.onDatePickerDateChange=function(a){var b=this;this.widget.grouped_matches.forEach(function(c,e){var f=c.header.params.date_from;d.default.moment(f).isSame(d.default.moment(a.format("YYYY-MM-DD")),"days")&&(b.selected_tab=e)}),this.widget.dom.find(".Opta-Nav > ul > li:nth-child("+(this.selected_tab+1)+")").click(),this.widget.draw()},a.prototype.onDatePickerOpen=function(){this.widget.dom.find(".Opta-HasDatepicker").addClass("Opta-datepickeropen")},a.prototype.onDatePickerClose=function(){},a}();b.RunDatepicker=e,d.default.sfx.runDatepicker=function(a){return new e(a)}},"./src/tsmodules/Opta.ts":function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.default=Opta}},[["./src/sfx/run_datepicker.ts","runtime"]]]),(window.webpackJsonpOPTA=window.webpackJsonpOPTA||[]).push([["sfx/run_dropdown"],{"./src/sfx/run_dropdown.ts":function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0});var d=c("./src/tsmodules/Opta.ts"),e=d.default._,f=function(){function a(a){this.settings=a,this.selected_tab=a.selected_tab,this.title_block=a.tabs_block.find("> "+a.options.title_block),this.nav_title=this.title_block.find(".Opta-Title"),this.init()}return a.prototype.init=function(){this.changeTitle(this.selected_tab),this.showSelectedContent(this.selected_tab),this.setNavTitleListeners(),this.setNavItemsListeners()},a.prototype.setNavTitleListeners=function(){var a=this;this.title_block.off("click").on("click",function(){a.title_block.toggleClass("Opta-Open"),a.title_block.hasClass("Opta-Open")?a.settings.nav_block.slideDown():a.settings.nav_block.slideUp()})},a.prototype.setNavItemsListeners=function(){var a=this,b=this.settings,c=b.nav_items;e.each(c,function(c,e){d.default(c).off("click").on("click",function(c){c.preventDefault(),a.title_block.removeClass("Opta-Open"),b.nav_block.hide(),a.showSelectedContent(e),b.show_content||b.options.triggerTab(e),a.changeTitle(e),a.settings.eventSelection(e),a.settings.onEvent("onOpen",e)})}),this.settings.onEvent("onLoad")},a.prototype.changeTitle=function(a){this.settings.options.change_title&&this.nav_title.text(d.default(this.settings.nav_items[a]).text())},a.prototype.showSelectedContent=function(a){this.settings.show_content&&!this.settings.single_content&&(this.settings.content_items.removeClass("Opta-On"),
d.default(this.settings.content_items[a]).addClass("Opta-On"))},a}();d.default.sfx.runDropdown=function(a){return new f(a)}},"./src/tsmodules/Opta.ts":function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.default=Opta}},[["./src/sfx/run_dropdown.ts","runtime"]]]),(window.webpackJsonpOPTA=window.webpackJsonpOPTA||[]).push([["sfx/run_nav"],{"./src/sfx/run_nav.ts":function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0});var d=c("./src/tsmodules/Opta.ts"),e=d.default._,f={accordion_bodies:"> div",accordion_headers:"> h3",change_title:!0,consider_height:!1,content_items:"> .Opta-TabbedContent > li",default_nav:1,dom:"",hide_navigation:!1,hide_nested:!1,nav_block:"> ul",nav_container:"> .Opta-Nav",nav_id:"std",nav_items:"> li",nav_items_width:40,tab_trigger:"click",title_block:".Opta-Nav h3",triggerTab:!1,widget:void 0},g=["accordion","dropdown","swipe","tabs"],h=function(){function a(a){this.options=Opta.tslib.__assign({},f,a),this.is_nested=!1,this.nav_index=0,this.nested_navigation=this.options.nested_navigation,this.start_tabs=this.getStartTabs(),this.show_content="function"!=typeof this.options.triggerTab,this.widget=a.widget,this.tabs_block=d.default(this.options.dom).find("div "+this.options.nav_container).parent(),this.navigation_objects=[],this.on_event_params=[],this.init()}return a.prototype.fetch=function(a,b,c){return d.default.storage.getItem(this.getStorageKey(a,b),"",c?"number_array":"number")},a.prototype.store=function(a,b,c){return d.default.storage.setItem(this.getStorageKey(a,b),c,7200)},a.prototype.onEvent=function(a,b,c){var d=e.isNumber(c)?c:this.navigation_objects[b].selected_tab;this.navigation_objects[b].is_nested||"function"!=typeof this.options[a]||this.options[a](Opta.tslib.__assign({},this.getEventParams(a,b,d),{selected_tab:d}))},a.prototype.eventSelection=function(a,b,c){var e="dropdown"===a?"dropdownmenu":a;"accordion"!==e&&this.store(a,b,c),d.default.events.selected(e,this.options.widget,this.getEventParams("onEventSelect",b,c))},a.prototype.getEventParams=function(a,b,c){var d=this.navigation_objects[b];return Opta.tslib.__assign({},this.on_event_params[b],{content:this.getContent(a,b,c),header:d.is_accordion?d.accordion_headers[c]:d.nav_items[c]})},a.prototype.getContent=function(a,b,c){var d=this.navigation_objects[b];return d.single_content?-1!==["onOpen","onEventSelect"].indexOf(a)&&"Callback triggered":d.is_accordion?d.accordion_bodies[c]:d.content_items[c]},a.prototype.getStorageKey=function(a,b){return(this.options.widget&&this.options.widget.uid?this.options.widget.uid+"-":"")+("dropdown"===a?"dropdownmenu":a)+"-"+this.options.nav_id+"-"+b},a.prototype.getStartTabs=function(){var a=this.options.default_nav;if(!a)return[];var b=document.querySelector(this.options.dom+" .Opta-Nav > ul");if(!b||b.childElementCount<=1)return[0];var c=b.childElementCount,e=d.default.utils.trimSplit(a,",",!0).filter(function(a){return d.default.utils.isNumberLike(a)&&a>=1&&a<=c});return 0===e.length?[0]:e.map(function(a){return a-1})},a.prototype.isNavigationReady=function(a){var b=this.navigation_objects[a];switch(b.nav_type){case"tabs":case"dropdown":case"swipe":if(b.nav_items.length>0&&b.nav_items.length===b.content_items.length)return!0;if(!this.show_content)return!0;case"accordion":if(b.content_items.length>0){if(b.is_concertina&&b.accordion_bodies.length===b.accordion_headers.length)return!0;if(!b.is_concertina)return!0}}return!1},a.prototype.prepareNavigationData=function(a,b){var c=this;e.each(d.default(a+" > .Opta-"+d.default.utils.ucFirst(b)),function(a){var e=b,f=d.default(a),g=f.find(c.options.nav_container),h=g.find(c.options.nav_block),i=h.find(c.options.nav_items),j=f.find(c.options.content_items),k="accordion"===e&&f.hasClass("Opta-Accordion"),l=k&&f.hasClass("Opta-Concertina"),m=c.nav_index;(!c.is_nested&&c.options.hide_navigation||c.is_nested&&c.options.hide_nested)&&h.addClass("Opta-Hidden"),l&&(e="concertina"),c.navigation_objects[m]={content_items:j,eventSelection:function(a){return c.eventSelection(e,m,a)},is_accordion:k||l,is_concertina:l,is_nested:c.is_nested,nav_block:h,nav_container:g,nav_height:h.outerHeight(),nav_items:i,nav_type:l?"accordion":e,nav_width:h.outerWidth(),onEvent:function(a,b){return c.onEvent(a,m,b)},options:c.options,selected_tab:void 0,show_content:c.show_content,single_content:i.length>1&&1===j.length,start_tabs:c.start_tabs,store:function(a){return c.store(e,m,a)},tabs_block:f,widget:c.widget},c.actual_nav_index=m,c.navigation_objects[m].selected_tab=c.getSelectedTab(e),c.setOnEventParams(),c.navigation_objects[m].is_accordion&&c.setAccordionTabs(),c.nav_index++})},a.prototype.getSelectedTab=function(a){var b=this.actual_nav_index,c=this.fetch(a,b,"accordion"===a);return e.isNumber(c)&&this.navigation_objects[b].nav_items.length>c?Math.max(0,c):"accordion"!==a?this.start_tabs[0]:c},a.prototype.setOnEventParams=function(){var a=this.navigation_objects[this.actual_nav_index];this.on_event_params[this.actual_nav_index]={dom:a.tabs_block[0],header:a.tabs_block[0],opts:this.options}},a.prototype.setAccordionTabs=function(){var a=this.navigation_objects[this.actual_nav_index];a.accordion_headers=a.content_items.find(this.options.accordion_headers),a.accordion_bodies=a.content_items.find(this.options.accordion_bodies)},a.prototype.getNavigationType=function(a){for(var b=0,c=g;b<c.length;b++){var e=c[b];if(-1!==a.indexOf("Opta-"+d.default.utils.ucFirst(e)))return e}},a.prototype.init=function(){var a=this,b=d.default(this.options.dom).find("div "+this.options.nav_container).not("Opta-js-drodpown").parent().attr("class"),c=b?b.split(" "):[],f=this.getNavigationType(c);if(f&&this.prepareNavigationData(this.options.dom,f),this.nested_navigation&&""!==this.nested_navigation){var g=this.getNavigationType(d.default(this.nested_navigation).children()[0].className.split(" "));g&&(this.is_nested=!0,this.prepareNavigationData(this.nested_navigation,g))}e.each(this.navigation_objects,function(b,c){if(a.isNavigationReady(c))return d.default.sfx["run"+d.default.utils.ucFirst(b.nav_type)](b)})},a}();b.RunNav=h,d.default.sfx.runNav=function(a){return new h(a)}},"./src/tsmodules/Opta.ts":function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.default=Opta}},[["./src/sfx/run_nav.ts","runtime"]]]),(window.webpackJsonpOPTA=window.webpackJsonpOPTA||[]).push([["sfx/run_overlay"],{"./src/sfx/run_overlay.ts":function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0});var d=c("./src/sfx/sfx_utils.ts"),e=c("./src/tsmodules/Opta.ts"),f=function(){function a(a){this.options=Opta.tslib.__assign({dom:""},a),this.container=e.default(this.options.dom),this.center_dom=this.options.hasOwnProperty("center_dom")?e.default(this.options.center_dom):void 0,this.overlayer=e.default('<div class="Opta-Overlayer"></div>'),this.overlay=e.default('<div class="Opta-Overlay"><span class="Opta-Close"></span><div></div></div>'),this.content_holder=this.overlay.children("div"),this.container.append(this.overlayer),this.container.append(this.overlay),this.hideOverlay(),this.addListeners()}return a.prototype.hideOverlay=function(){},a.prototype.addListeners=function(){var a=this;e.default(this.container).on("click",".Opta-JS-Overlay",function(b){return a.onOverlayContainerClick(b)}),this.overlayer.click(function(){return a.hideOverlay()}),this.overlay.children("span").click(function(){return a.hideOverlay()})},a.prototype.onOverlayContainerClick=function(a){var b=this,c=e.default(a.currentTarget);"function"==typeof this.options.onClick?this.options.onClick(c).then(function(){b.renderOverlay(c)}):this.renderOverlay(c)},a.prototype.renderOverlay=function(a){this.overlayer.show(),this.overlay.show(),this.content_holder.html(a.find(".Opta-Hidden").html());var b=this.overlay.find("img");if(d.waitForImagesLoad(b,this.setContainerHeight.bind(this)),e.default.events.selected("overlay",this.options.widget,{content:this.content_holder[0],dom:this.container[0],header:a[0],opts:this.options}),this.center_dom){var c=(this.center_dom.height()-this.overlay.height())/2+this.center_dom.position().top,f=Math.max(this.overlay.position().top,c,0);this.overlay.css({top:f})}},a.prototype.setContainerHeight=function(){this.container.css("min-height",1.04*(this.overlay.height()+this.overlay.position().top)+"px")},a}();e.default.sfx.runOverlay=function(a){return new f(a)}},"./src/sfx/sfx_utils.ts":function(a,b,c){"use strict";function d(a,b){var c=[];e.default.each(a,function(a,b){var d=e.default.Deferred();b.onload=function(){return d.resolve(a)},c.push(d.promise())}),e.default.when.apply(null,c).then(b)}Object.defineProperty(b,"__esModule",{value:!0});var e=c("./src/tsmodules/Opta.ts");b.waitForImagesLoad=d},"./src/tsmodules/Opta.ts":function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.default=Opta}},[["./src/sfx/run_overlay.ts","runtime"]]]),(window.webpackJsonpOPTA=window.webpackJsonpOPTA||[]).push([["sfx/run_scroll"],{"./src/sfx/run_scroll.ts":function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0});var d=c("./src/tsmodules/Opta.ts"),e=c("./src/sfx/scroll/match_drawing.ts"),f=c("./src/sfx/scroll/calculations.ts"),g=function(){function(){}return a.prototype.runScroll=function(a){var b=this;this.attr=a.attr,this.all_matches=a.matches,this.gatherMatchData=a.gatherMatchData,this.widget=a.widget;var c=this.getScrollElements(a.container),e=c.opta_buttons,g=c.opta_room;this.metrics=f.calculateMetrics(c,this.all_matches.length,this.attr),g.style.width=this.metrics.all_matches_count*this.metrics.match_width+"px";var h=d.default._.isNumber(a.current_match)&&a.current_match>=0?a.current_match:this.getCurrentMatch();this.match_indexes=f.getInitialMatchIndexes(h,this.metrics,this.attr),this.attr.limit||h===this.match_indexes.current_match_index?this.widget.store("current_match_"+this.widget.ID,h):this.widget.store("current_match_"+this.widget.ID,Math.max(h-this.metrics.matches_in_space+1,0));var i={first_match_index:this.match_indexes.first_match_index,last_match_index:this.match_indexes.last_match_index};this.handleNewMatches(g,e,i,"init"),setTimeout(function(){g.style.transition="transform 1s",b.setButtonsEvents(e,g)})},a.prototype.getCurrentMatch=function(){var a=this.widget.fetch("scroll_position_"+this.widget.ID,{data_type:"number"}),b=null===a&&"object"==typeof a;if(!this.attr.start_on_current&&(b||Number(a)<0))return 0;if(this.attr.start_on_current&&b){var c=this.all_matches.map(function(a){return a.getLocaleDate(null)}),e=d.default.moment().tz(d.default.AppSettings.tz).endOf("hour").add(Number(this.attr.switch_current)||0,"hours");return d.default.utils.getNearestDateFromRange(c,e,!0)}return Number(a)},a.prototype.getScrollElements=function(a){var b=document.createRange().createContextualFragment('<div class="Opta-Scroller Opta-Previous Opta-Hidden"></div>\n      <div class="Opta-Window">\n        <div class="Opta-Room"></div>\n      </div>\n      <div class="Opta-Scroller Opta-Next Opta-Hidden"></div>\n    '),c=document.querySelector(this.widget.wid+" "+a);c.appendChild(b),this.attr.match_link&&c.classList.add("Opta-match-linked");var e=c.querySelector(".Opta-Window"),f=c.querySelector(".Opta-Room"),g=c.querySelector(".Opta-Previous"),h=c.querySelector(".Opta-Next");return{opta_buttons:{next:d.default.AppSettings.rtl?g:h,prev:d.default.AppSettings.rtl?h:g},opta_room:f,opta_scroll:c,opta_window:e}},a.prototype.handleNewMatches=function(a,b,c,d){var e=this;this.widget.store("scroll_position_"+this.widget.ID,this.match_indexes.current_match_index),a.style.transform="translateX("+-1*this.match_indexes.current_match_index*this.metrics.match_width+"px)";var f=this.getNewMatchesArgs(c),g=f.incomplete_new_matches,h=f.new_match_dates,i={incomplete_new_matches:g,new_matches_indexes:c,opta_buttons:b,opta_room:a,phase:d};h.length>0?this.getNewMatchesData(this.gatherMatchData,h).then(function(c){c.forEach(function(a,b){return e.storeNewMatchElements(a,b)}),e.addNewMatchesToRoom(i),e.handleAfterNewMatchesOperations(a,b,d)}):(this.addNewMatchesToRoom(i),this.handleAfterNewMatchesOperations(a,b,d))},a.prototype.getNewMatchesArgs=function(a){var b=this,c=a.first_match_index,e=a.last_match_index;if(-1===c&&-1===e)return{incomplete_new_matches:[],new_match_dates:[]};var f=[],g=this.all_matches.slice(c,e+1);return g.forEach(function(a){b.stored_elements.hasOwnProperty(a.id)||f.push(d.default.moment(a.date.tz(d.default.AppSettings.tz).format("YYYY-MM-DD")))}),{incomplete_new_matches:g,new_match_dates:f}},a.prototype.getNewMatchesData=function(a,b){var c=d.default.Deferred(),e={hour:0,minute:0,second:0,millisecond:0},f={hour:23,minute:59,second:59,millisecond:0},g=b[0].clone().set(e),h=b[b.length-1].clone().set(f);return"date_descending"===this.attr.order_by&&(g=b[0].clone().set(f),h=b[b.length-1].clone().set(e)),a(g,h).then(function(a){a?c.resolve(a):c.reject()}).catch(function(a){return c.reject(a)}),c.promise()},a.prototype.storeNewMatchElements=function(a,b){var c=document.createElement("div"),d={attr:this.attr,first_match_index:this.match_indexes.first_match_index,match:a,match_index:b,metrics:this.metrics};c.setAttribute("class","Opta-Match-"+a.id+" Opta-ScrollFixture"),c.innerHTML=e.drawMatch(d),this.stored_elements[a.id]=c,this.stored_matches[a.id]=a},a.prototype.addNewMatchesToRoom=function(a){var b=this,c=document.createDocumentFragment();a.incomplete_new_matches.forEach(function(d,e){if(b.stored_elements.hasOwnProperty(d.id)){var f=(a.new_matches_indexes.first_match_index+e)*b.metrics.match_width;b.stored_elements[d.id].setAttribute("style","left: "+f+"px; width: "+b.metrics.match_width+"px"),c.appendChild(b.stored_elements[d.id])}});var d=a.opta_room.querySelector(".Opta-Match-"+this.all_matches[this.match_indexes.current_match_index].id);"prev"===a.phase?a.opta_room.insertBefore(c,d):a.opta_room.appendChild(c),this.setButtonsActivity(a.opta_buttons),"init"===a.phase&&this.setButtonsVisibility(a.opta_buttons)},a.prototype.handleAfterNewMatchesOperations=function(a,b,c){var d=this;this.setButtonsActivity(b),"init"!==c&&(this.updateMatchesToRemove(c),setTimeout(function(){d.removeOldMatches(a)},1e3))},a.prototype.setButtonsActivity=function(a){var b=this.match_indexes,c=b.current_match_index;b.first_match_index<c?a.prev.classList.contains("Opta-Active")||a.prev.classList.add("Opta-Active"):a.prev.classList.remove("Opta-Active"),c+this.metrics.matches_in_space>=this.metrics.all_matches_count?a.next.classList.remove("Opta-Active"):a.next.classList.contains("Opta-Active")||a.next.classList.add("Opta-Active")},a.prototype.setButtonsVisibility=function(a){setTimeout(function(){})},a.prototype.setButtonsEvents=function(a,b){var c=this;a.prev.addEventListener("click",function(){return c.handleButtonClick(b,a,"prev")}),a.next.addEventListener("click",function(){return c.handleButtonClick(b,a,"next")})},a.prototype.handleButtonClick=function(a,b,c){if(b[c].classList.contains("Opta-Active")){b[c].classList.remove("Opta-Active");var d="prev"===c?f.getPrevNewMatchIndexes(this.metrics,this.match_indexes.first_match_index):f.getNextNewMatchIndexes(this.metrics,this.match_indexes.last_match_index);this.move_matches_count="prev"===c?f.getPrevMove(this.match_indexes):f.getNextMove(this.match_indexes,this.metrics),this.changeGlobalCurrentMatch(c),this.match_indexes="prev"===c?f.getPrevMatchIndexes(d,this.match_indexes,this.metrics,this.move_matches_count):f.getNextMatchIndexes(d,this.match_indexes,this.move_matches_count),this.handleNewMatches(a,b,d,c)}},a.prototype.changeGlobalCurrentMatch=function(a){var b=this.widget.fetch("current_match_"+this.widget.ID,{data_type:"number"});"prev"===a?this.widget.store("current_match_"+this.widget.ID,Math.max(Number(b)-this.move_matches_count,0)):this.widget.store("current_match_"+this.widget.ID,Number(b)+this.move_matches_count)},a.prototype.updateMatchesToRemove=function(a){var b="prev"===a?f.getPrevOldMatchIndexes(this.match_indexes,this.metrics,this.move_matches_count):f.getNextOldMatchIndexes(this.match_indexes,this.move_matches_count),c=b.first_match_index,d=b.last_match_index;if(c!==d||this.match_indexes.last_match_index!==d&&this.match_indexes.first_match_index!==c){var e=this.all_matches.slice(c,d+1);this.matches_to_remove=this.matches_to_remove.concat(e)}},a.prototype.removeOldMatches=function(a){if(0!==this.matches_to_remove.length){for(var b=Math.min(this.matches_to_remove.length,this.metrics.matches_in_space),c=0;c<b;c++){var d=a.querySelector(".Opta-Match-"+this.matches_to_remove[c].id);d&&a.removeChild(d)}this.matches_to_remove.splice(0,b)}},a}();b.Scroll=g,d.default.sfx.scroll=g},"./src/sfx/scroll/calculations.ts":function(a,b,c){"use strict";function d(a,b,c){var d=a.opta_buttons,e=a.opta_room,f=a.opta_scroll,g=a.opta_window,h=n.default.AppSettings.min_fixture_width||160,i=b*h,j=f.clientWidth;if(i<=j)return{all_matches_count:b,match_width:j/b,matches_in_space:b,space_width:j,visible_matches_width:j};f.classList.add("Opta-Active"),j=e.clientWidth;var k=Math.min(Math.floor(j/h),Math.floor(j/(Number(c.fixture_width)||h))),l=Math.floor(j/k),m=k*l,o=j-m;if(o>0){var p=d.next.clientWidth+o/2;g.style.paddingLeft=p+"px",d.prev.style.width=p+"px",d.next.style.width=p+"px"}return{all_matches_count:b,match_width:l,matches_in_space:k,space_width:j,visible_matches_width:m}}function e(a,b,c){if(b.matches_in_space===b.all_matches_count)return{current_match_index:0,first_match_index:0,last_match_index:b.all_matches_count-1};var d=Number(c.limit)||b.all_matches_count-(a+1),e=a;return d<b.matches_in_space&&(e=b.all_matches_count-b.matches_in_space),(c.limit||a<b.matches_in_space)&&(e=0),{current_match_index:e,first_match_index:e-Math.min(b.matches_in_space,e),last_match_index:e+Math.min(2*b.matches_in_space-1,b.all_matches_count-(e+1))}}function(){}function g(a,b){var c=a.current_match_index;return a.last_match_index+1-(c+b.matches_in_space)}function h(a,b,c,d){var e=c.matches_in_space,f=b.current_match_index,g=b.last_match_index,h=g-Math.min(g+1-(f+e),d);return{current_match_index:f-d,first_match_index:-1===a.first_match_index?0:a.first_match_index,last_match_index:h}}function i(a,b,c){var d=b.current_match_index,e=b.first_match_index,f=b.last_match_index;return{current_match_index:d+c,first_match_index:e+Math.min(d-e,c),last_match_index:-1===a.last_match_index?f:a.last_match_index}}function j(a,b){return b>0?{first_match_index:Math.max(0,b-a.matches_in_space),last_match_index:b>0?b-1:0}:{first_match_index:-1,last_match_index:-1}}function k(a,b){return b<a.all_matches_count-1?{first_match_index:b+1,last_match_index:Math.min(a.all_matches_count-1,b+a.matches_in_space)}:{first_match_index:-1,last_match_index:-1}}function l(a,b,c){return a.last_match_index<b.all_matches_count-1?{first_match_index:a.last_match_index+1,last_match_index:Math.min(b.all_matches_count-1,a.last_match_index+c)}:{first_match_index:a.last_match_index,last_match_index:a.last_match_index}}function m(a,b){return{first_match_index:Math.max(0,a.first_match_index-b),last_match_index:a.first_match_index>0?a.first_match_index-1:0}}Object.defineProperty(b,"__esModule",{value:!0});var n=c("./src/tsmodules/Opta.ts");b.calculateMetrics=d,b.getInitialMatchIndexes=e,b.getPrevMove=f,b.getNextMove=g,b.getPrevMatchIndexes=h,b.getNextMatchIndexes=i,b.getPrevNewMatchIndexes=j,b.getNextNewMatchIndexes=k,b.getPrevOldMatchIndexes=l,b.getNextOldMatchIndexes=m},"./src/sfx/scroll/match_drawing.ts":function(a,b,c){"use strict";function d(a){var b=a.attr,c=a.match,d=b.show_date?'<div class="Opta-date">'+c.getLocaleDate(b.date_format)+"</div>":"",f=k.default.components.generic.clockTime(c,{time_format:b.time_format||"HH:mm"});return e(c,c.team[0],b)+"\n    "+e(c,c.team[1],b)+'\n    <div class="Opta-timings">\n      <div class="Opta-Time">'+f+"</div>\n      "+d+"\n    </div>\n    "+i(c,b)}function e(a,b,c){var d=f(a,b),e=k.default.components.generic.scoreline(a,{away_team_first:c.away_team_first,element:"div",ignore_abandoned:!0,segment:"score",side:b.side});return'<div class="Opta-Team Opta-'+k.default.utils.ucFirst(b.side)+" Opta-Team-"+b.id+d+'">\n      '+e+"\n      "+g(b,c)+"\n      "+h(b,c)+"\n    </div>"}function f(a,b){return a.isFinished()&&a.winner?a.winner===b.id?" Opta-Winner":" Opta-Loser":""}function g(a,b){return b.show_crests?'<div class="Opta-Image">\n      '+k.default.components.image({alt:a.toString("full"),id:a.id,image_size:b.image_size,size:"small",sport:"baseballsd"})+"\n    </div>":""}function h(a,b){var c=a.toString(b.team_naming);return b.team_link?'<div class="Opta-TeamName">'+new k.default.m.ExternalLink({base_url:b.team_link,competition:b.competition,html:c,season:b.season,team:a.id}).toString()+"</div>":'<div class="Opta-TeamName">'+c+"</div>"}function i(a,b){if(!b.match_link||!j(a,b))return"";var c=k.default.Trans.getText({match_link:131});return'<span class="Opta-match-link">'+new k.default.m.ExternalLink({base_url:b.match_link,classes:"Opta-match-linking",competition:b.competition,html:c.match_link,match:a.id,season:b.season}).toString()+"</span>"}function j(a,b){var c=a.getSecondsUntilKickoff(),d=Number(b.pre_match)*l;return!!(!0===b.pre_match||a.getPeriod()&&a.hasStarted()||c>0&&c<d)}Object.defineProperty(b,"__esModule",{value:!0});var k=c("./src/tsmodules/Opta.ts"),l=60;b.drawMatch=d},"./src/tsmodules/Opta.ts":function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.default=Opta}},[["./src/sfx/run_scroll.ts","runtime"]]]),(window.webpackJsonpOPTA=window.webpackJsonpOPTA||[]).push([["sfx/run_swipe"],{"./src/sfx/run_swipe.ts":function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0});var d=c("./src/tsmodules/Opta.ts"),e=d.default._,f=function(){function a(a){this.settings=a,this.has_touch=d.default.has.touch,this.content_block=this.settings.content_items.parent(),this.content_width=this.content_block.innerWidth(),this.selected_tab=this.settings.selected_tab,this.overflow_count=0,this.content_steps=this.settings.content_items.length,this.init()}return a.prototype.init=function(){this.settings.nav_items.removeClass("Opta-On"),d.default(this.settings.nav_items[this.selected_tab]).addClass("Opta-On"),this.styleNavigationItems(),this.setNavContainerListeners(),this.setNavItemsListeners(),this.wrapSwiper(),this.handleSwipe(),this.setActualContent(),this.resetHeight()},a.prototype.styleNavigationItems=function(){var a=this,b=this.settings,c=0;this.content_items_width=0,e.each(b.nav_items,function(e){var f=d.default(e),g=f.outerWidth();f.removeClass("Opta-Overflow"),a.content_items_width+=g,a.content_items_width+24>a.content_width&&(a.is_tabs_more=!0,c=Math.max(g,c,150),a.overflow_count+=1,f.addClass("Opta-Overflow"),a.nav_height=b.nav_block.outerHeight(),f.css("top",a.overflow_count*a.nav_height+"px"))}),this.overflow_count>0&&b.nav_block.addClass("Opta-Overflowed"),b.nav_block.find(".Opta-Overflow").css("width",c+"px")},a.prototype.wrapSwiper=function(){d.default(this.content_block).wrap('<div class="Opta-Swipe-Content"></div>'),e.map(this.settings.content_items,function(){}),this.swipe_container=this.settings.tabs_block.find(".Opta-Swipe-Content"),this.has_touch?(this.swipe_container.addClass("Opta-Swipe-Touch"),d.default(this.swipe_container).wrap('<div class="Opta-Outer-Swipe"></div>'),this.settings.content_items.width(this.content_width-20)):(d.default('<div class="Opta-Swipe-Scroller Opta-Swipe-Prev"></div>').insertBefore(this.content_block),d.default('<div class="Opta-Swipe-Scroller Opta-Swipe-Next"></div>').insertBefore(this.content_block),this.settings.content_items.css({width:this.content_width-56,marginRight:56}),d.default(this.settings.content_items[this.content_steps-1]).css({marginRight:0})),this.content_block.width(this.getContainerWidth())},a.prototype.setNavContainerListeners=function(){var a=this,b=this.settings;b.nav_block.off("mouseover mouseout").on("mouseover mouseout",function(c){b.nav_block.addClass("Opta-Hover"),(d.default(c.target).closest("li").is("li")&&!a.has_touch||!a.has_touch)&&b.nav_block.removeClass("Opta-Hover")}),b.nav_block.off("click").on("click",function(c){d.default(c.target).is("ul")&&(b.nav_block.hasClass("Opta-Overflow")&&a.setHeight(),b.nav_block.toggleClass("Opta-Overflow"))})},a.prototype.setHeight=function(){if(this.is_tabs_more){var a=this.overflow_count*this.settings.nav_height,b=d.default(this.settings.content_items[0]);this.settings.content_items.filter(".Opta-On").length>0&&(b=this.settings.content_items.filter(".Opta-On")),a>b.outerHeight(!0)&&b.height(a)}},a.prototype.setNavItemsListeners=function(){var a=this;e.each(this.settings.nav_items,function(b,c){var e=d.default(b);e.off("click").on("click",function(b){b.preventDefault(),a.settings.nav_block.removeClass("Opta-Overflow"),a.settings.nav_items.removeClass("Opta-On"),e.addClass("Opta-On"),c>a.selected_tab&&c-a.selected_tab>0?a.swipe("left",c-a.selected_tab):c<a.selected_tab&&a.selected_tab-c<a.content_steps&&a.swipe("right",a.selected_tab-c)})})},a.prototype.getContainerWidth=function(){return this.has_touch?this.content_steps*(this.content_width-20)-20*(this.content_steps-1):this.content_steps*this.content_width},a.prototype.handleSwipe=function(){var a=this,b=this.has_touch?20:28;this.getContainerWidth()>this.settings.nav_block.innerWidth()&&(this.has_touch?d.default.utils.horizontalSwipe(this.content_block,function(b){a.swipe(b)}):(this.content_block.css({marginLeft:b}),this.prev_button=this.swipe_container.find(".Opta-Swipe-Prev"),this.next_button=this.swipe_container.find(".Opta-Swipe-Next"),this.checkButtonClasses(),this.prev_button.off("click").on("click",function(){return a.swipe("right")}),this.next_button.off("click").on("click",function(){return a.swipe("left")})))},a.prototype.setActualContent=function(){if(this.selected_tab>0){var a=this.has_touch?40*this.selected_tab:0;this.content_block.css({marginLeft:"-="+(this.content_width*this.selected_tab-a)+"px"})}},a.prototype.swipe=function(a,b){var c=this,d=b||1,e="right"===a,f=this.has_touch?40*d:0,g=this.content_width*d-f+"px",h={marginLeft:(e?"+=":"-=")+g};this.selected_tab=this.selected_tab+(e?-d:d),this.settings.eventSelection(this.selected_tab),this.content_block.animate(h,200,function(){c.checkButtonClasses(),c.resetNavClasses(),c.resetHeight()})},a.prototype.checkButtonClasses=function(){this.has_touch||(this.prev_button.addClass("Opta-Active"),this.next_button.addClass("Opta-Active"),0===this.selected_tab?this.prev_button.removeClass("Opta-Active"):this.selected_tab===this.content_steps-1&&this.next_button.removeClass("Opta-Active"))},a.prototype.resetHeight=function(){this.settings.options.consider_height&&this.swipe_container.height(this.settings.content_items[this.selected_tab].offsetHeight)},a.prototype.resetNavClasses=function(){this.settings.nav_items.removeClass("Opta-On"),d.default(this.settings.nav_items[this.selected_tab]).addClass("Opta-On")},a}();d.default.sfx.runSwipe=function(a){return new f(a)}},"./src/tsmodules/Opta.ts":function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.default=Opta}},[["./src/sfx/run_swipe.ts","runtime"]]]),(window.webpackJsonpOPTA=window.webpackJsonpOPTA||[]).push([["sfx/run_tabs"],{"./src/sfx/run_tabs.ts":function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0});var d=c("./src/tsmodules/Opta.ts"),e=d.default._,f=function(){function a(a){this.settings=a,this.nav_parent=a.nav_container.parent(),this.is_tabs_more=a.tabs_block.hasClass("Opta-TabsMore"),this.selected_tab=a.selected_tab;var b=a.tabs_block.closest(".Opta-TabbedContent").length>0;this.nav_width=a.is_nested&&b?a.tabs_block.closest(".Opta-TabbedContent").outerWidth():a.nav_width,this.default_items_width=a.options.nav_items_width,this.items_width=0,this.has_touch=d.default.has.touch,this.max_overflow_li_width=0,this.scroll_position=0,this.steps=[],this.init()}return a.prototype.init=function(){var a=this.settings;a.nav_items.removeClass("Opta-On"),void 0!==this.selected_tab&&d.default(a.nav_items[this.selected_tab]).addClass("Opta-On"),this.showSelectedContent(this.selected_tab),a.tabs_block.hasClass("Opta-TabsScroll")?this.handleScrolling():a.tabs_block.hasClass("Opta-TabsFixed")?this.setFixed():this.is_tabs_more&&this.handleTabsMore(),this.setNavBlockListeners(),this.setNavItemsListeners()},a.prototype.setNavBlockListeners=function(){var a=this,b=this.settings;b.nav_block.off("mouseover mouseout").on("mouseover mouseout",function(c){b.nav_block.addClass("Opta-Hover"),(d.default(c.target).closest("li").is("li")&&!a.has_touch||!a.has_touch)&&b.nav_block.removeClass("Opta-Hover")}),b.nav_block.off("click").on("click",function(c){if(d.default(c.target).is("ul")){var e=b.nav_block.hasClass("Opta-Overflow");b.nav_block.toggleClass("Opta-Overflow"),a.setHeight(e)}})},a.prototype.setHeight=function(a){if(this.is_tabs_more)if(a)this.nav_parent.removeAttr("style");else{var b=this.overflow_count*this.settings.nav_height+this.settings.nav_height;b>this.nav_parent.outerHeight(!0)&&this.nav_parent.height(b)}},a.prototype.setNavItemsListeners=function(){var a=this,b=this.settings,c=b.nav_items;e.each(c,function(e,f){var g=d.default(e);g.off(b.options.tab_trigger).on(b.options.tab_trigger,function(d){d.preventDefault(),b.nav_block.removeClass("Opta-Overflow"),c.removeClass("Opta-On"),g.addClass("Opta-On"),a.showSelectedContent(f),"function"==typeof b.options.triggerTab&&b.options.triggerTab(f),a.setHeight(!0),a.settings.eventSelection(f),a.settings.onEvent("onOpen",f)})}),this.settings.onEvent("onLoad")},a.prototype.showSelectedContent=function(a){this.settings.show_content&&!this.settings.single_content&&(this.settings.content_items.removeClass("Opta-On"),d.default(this.settings.content_items[a]).addClass("Opta-On"))},a.prototype.handleTabsMore=function(){var a=this,b=this.settings,c=b.nav_container.closest("li > div"),f=this.default_items_width;this.overflow_count=0,b.nav_items.removeClass("Opta-Overflow"),b.content_items.removeClass("Opta-Overflow"),c.show(),e.each(b.nav_items,function(c,e){var g=d.default(c),h=g.outerWidth();(f+=h)>a.nav_width&&(a.overflow_count++,a.max_overflow_li_width=Math.max(h,a.max_overflow_li_width,150),g.addClass("Opta-Overflow"),d.default(b.content_items[e]).addClass("Opta-Overflow"),g.css("top",a.overflow_count*b.nav_height+"px"))}),c.removeAttr("style"),this.overflow_count>0&&b.nav_block.addClass("Opta-Overflowed"),b.nav_block.find(".Opta-Overflow").css("width",this.max_overflow_li_width+"px")},a.prototype.handleScrolling=function(){var a=this,b=this.settings,c=30;b.show_content=b.show_content&&0!==b.options.default_nav,this.setScrollNavItemsWidth(),this.items_width<=b.nav_container.innerWidth()||(this.scroll_position>0&&(c-=this.steps.slice(0,this.scroll_position).reduce(function(a,b){return a+b})),b.nav_block.width(this.items_width+this.nav_width),this.has_touch?d.default.utils.horizontalSwipe(b.nav_container,function(){}):(b.nav_block.css("left",c+"px"),this.wrapScrollContent(),this.prev_button.off("click").on("click",this.swipeRight.bind(this)),this.next_button.off("click").on("click",this.swipeLeft.bind(this))))},a.prototype.setScrollNavItemsWidth=function(){var a=this,b=this.settings.nav_container.innerWidth()-(this.has_touch?0:60),c=0;e.each(this.settings.nav_items,function(e){var f=d.default(e),g=f.outerWidth();c+g>b?(a.steps.push(c),c=g):c+=g,f.hasClass("Opta-On")&&(a.scroll_position=a.steps.length),a.items_width+=g})},a.prototype.wrapScrollContent=function(){this.prev_button=d.default('<span class="Opta-Scroller Opta-Previous"></span>'),this.next_button=d.default('<span class="Opta-Scroller Opta-Next"></span>'),
this.settings.nav_container.append(this.prev_button,this.next_button),this.setButtonClasses()},a.prototype.swipeRight=function(){this.scroll_position>0&&(this.scroll_position-=1,this.settings.nav_block.animate({left:"+="+this.steps[this.scroll_position]}),this.setButtonClasses())},a.prototype.swipeLeft=function(){this.scroll_position<this.steps.length&&(this.settings.nav_block.animate({left:"-="+this.steps[this.scroll_position]}),this.scroll_position+=1,this.setButtonClasses())},a.prototype.setButtonClasses=function(){this.has_touch||(this.prev_button.addClass("Opta-Active"),this.next_button.addClass("Opta-Active"),0===this.scroll_position?this.prev_button.removeClass("Opta-Active"):this.scroll_position===this.steps.length&&this.next_button.removeClass("Opta-Active"))},a.prototype.setFixed=function(){if(this.settings.options.nav_count){var a=100/this.settings.options.nav_count;e.each(this.settings.nav_items,function(b){d.default(b).css("width",a+"%")})}},a}();d.default.sfx.runTabs=function(a){return new f(a)}},"./src/tsmodules/Opta.ts":function(){}