(function(){if(typeof window.BX==="function"){return}(function(){})(typeof global==="undefined"?window:global);!function(){}(function(){return this}()||Function("return this")());(function(){})(this.window=this.window||{});(function(){})(Element.prototype);(function(){})();(function(){})(this.window=this.window||{});(function(e){"use strict";var t=window.BX;window.BX=function(){};if(t){Object.keys(t).forEach(function(e){window.BX[e]=t[e]})}e=window.BX;function r(e){return Object.prototype.toString.call(e)}var n=Function.prototype.toString.call(Object);var i=function(){function e(){babelHelpers.classCallCheck(this,e)}babelHelpers.createClass(e,null,[{key:"isString",value:function e(t){return typeof t==="string"}},{key:"isStringFilled",value:function(){}},{key:"isFunction",value:function e(t){return typeof t==="function"}},{key:"isObject",value:function(){}},{key:"isObjectLike",value:function(){}},{key:"isPlainObject",value:function(){}},{key:"isBoolean",value:function(){}},{key:"isNumber",value:function(){}},{key:"isInteger",value:function(){}},{key:"isFloat",value:function(){}},{key:"isNil",value:function(){}},{key:"isArray",value:function(){}},{key:"isArrayFilled",value:function(){}},{key:"isArrayLike",value:function(){}},{key:"isDate",value:function t(n){return e.isObjectLike(n)&&r(n)==="[object Date]"}},{key:"isDomNode",value:function(){}},{key:"isElementNode",value:function t(r){return e.isDomNode(r)&&r.nodeType===Node.ELEMENT_NODE}},{key:"isTextNode",value:function(){}},{key:"isMap",value:function t(n){return e.isObjectLike(n)&&r(n)==="[object Map]"}},{key:"isSet",value:function t(n){return e.isObjectLike(n)&&r(n)==="[object Set]"}},{key:"isWeakMap",value:function t(n){return e.isObjectLike(n)&&r(n)==="[object WeakMap]"}},{key:"isWeakSet",value:function t(n){return e.isObjectLike(n)&&r(n)==="[object WeakSet]"}},{key:"isPrototype",value:function(){}},{key:"isRegExp",value:function t(n){return e.isObjectLike(n)&&r(n)==="[object RegExp]"}},{key:"isNull",value:function e(t){return t===null}},{key:"isUndefined",value:function(){}},{key:"isArrayBuffer",value:function(){}},{key:"isTypedArray",value:function(){}},{key:"isBlob",value:function(){}},{key:"isFile",value:function t(r){return e.isBlob(r)&&e.isNumber(r.lastModified)&&e.isString(r.name)}},{key:"isFormData",value:function e(t){return t instanceof FormData}}]);return e}();var a=function(){}();var o=/[&<>'"]/g;var s=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34);/g;var u={"&":"&amp;","<":"&lt;",">":"&gt;","'":"&#39;",'"':"&quot;"};var l={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"'};var f=function(){}();var c={mousewheel:["DOMMouseScroll"],bxchange:["change","cut","paste","drop","keyup"],animationend:["animationend","oAnimationEnd","webkitAnimationEnd","MSAnimationEnd"],transitionend:["webkitTransitionEnd","otransitionend","oTransitionEnd","msTransitionEnd","transitionend"],fullscreenchange:["fullscreenchange","webkitfullscreenchange","mozfullscreenchange","MSFullscreenChange"],fullscreenerror:["fullscreenerror","webkitfullscreenerror","mozfullscreenerror","MSFullscreenError"]};var h=function(){}();var v=new h;function(){}function(){}function y(e,t,r,n){if(!i.isObject(e)||!i.isFunction(e.addEventListener)){return}var a=p(n);if(t in c){c[t].forEach(function(n){e.addEventListener(n,r,a);v.set(e,t,r)});return}e.addEventListener(t,r,a);v.set(e,t,r)}function(){}function(){}function(){}var w=true;function S(){w=true}function x(){w=false}function E(){return w}function(){}function(){}var B=function(){}();var T={};var _="main.bitrix.main.controller.loadext.getextensions";function k(e){return i.isArray(e)?e:[e]}function(){}function N(e){return T[e]}function X(e){return e.every(A)}function(){}function(){}function(){}function(){}function(){}function(){}function(){}function(){}function(){}var W=["[object Object]","[object Array]","[object RegExp]","[object Arguments]","[object Date]","[object Error]","[object Map]","[object Set]","[object ArrayBuffer]","[object DataView]","[object Float32Array]","[object Float64Array]","[object Int8Array]","[object Int16Array]","[object Int32Array]","[object Uint8Array]","[object Uint16Array]","[object Uint32Array]","[object Uint8ClampedArray]"];function(){}function(){}function(){}function(){}function(){}var q=function(){}();babelHelpers.defineProperty(q,"debug",j);babelHelpers.defineProperty(q,"loadExtension",R);babelHelpers.defineProperty(q,"clone",U);var J=Symbol.for("BX.BaseError.isError");var $=function(){}();var Z=function(){}();var K=function(){}();var Q=function(){}();var ee=new K({defaultMaxListeners:10});var te=new Q;var re=new Map;var ne={GLOBAL_TARGET:"GLOBAL_TARGET"};ee.add(ne,{maxListeners:25});var ie=Symbol.for("BX.Event.EventEmitter.isEmitter");var ae=Symbol("namespaceProperty");var oe=Symbol("targetProperty");var se=function(){function e(){babelHelpers.classCallCheck(this,e);this[oe]=null;this[ae]=null;this[ie]=true;var t=this;if(Object.getPrototypeOf(this)===e.prototype&&arguments.length>0){if(!i.isObject(arguments.length<=0?undefined:arguments[0])){throw new TypeError('The "target" argument must be an object.')}t=arguments.length<=0?undefined:arguments[0];this.setEventNamespace(arguments.length<=1?undefined:arguments[1])}this[oe]=t}babelHelpers.createClass(e,[{key:"setEventNamespace",value:function(){}},{key:"getEventNamespace",value:function e(){return this[ae]}},{key:"subscribe",value:function t(r,n){e.subscribe(this,r,n);return this}},{key:"subscribeFromOptions",value:function(){}},{key:"subscribeOnce",value:function t(r,n){e.subscribeOnce(this,r,n);return this}},{key:"unsubscribe",value:function(){}},{key:"unsubscribeAll",value:function(){}},{key:"emit",value:function t(r,n){if(this.getEventNamespace()===null){console.warn("The instance of BX.Event.EventEmitter is supposed to have an event namespace. "+"Use emitter.setEventNamespace() to make events more unique.")}e.emit(this,r,n);return this}},{key:"emitAsync",value:function t(r,n){if(this.getEventNamespace()===null){console.warn("The instance of BX.Event.EventEmitter is supposed to have an event namespace. "+"Use emitter.setEventNamespace() to make events more unique.")}return e.emitAsync(this,r,n)}},{key:"setMaxListeners",value:function(){}},{key:"getMaxListeners",value:function t(r){return e.getMaxListeners(this,r)}},{key:"incrementMaxListeners",value:function t(){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++){n[i]=arguments[i]}return e.incrementMaxListeners.apply(e,[this].concat(n))}},{key:"decrementMaxListeners",value:function(){}},{key:"getListeners",value:function t(r){return e.getListeners(this,r)}},{key:"getFullEventName",value:function(){}}],[{key:"makeObservable",value:function(){}},{key:"subscribe",value:function(){}},{key:"subscribeOnce",value:function(){}},{key:"unsubscribe",value:function(){}},{key:"unsubscribeAll",value:function(){}},{key:"emit",value:function(){}},{key:"emitAsync",value:function(){}},{key:"prepareEvent",value:function(){}},{key:"getNextSequenceValue",value:function(){}},{key:"setMaxListeners",value:function(){}},{key:"getMaxListeners",value:function(){}},{key:"addMaxListeners",value:function(){}},{key:"incrementMaxListeners",value:function(){}},{key:"decrementMaxListeners",value:function(){}},{key:"destructMaxListenersArgs",value:function(){}},{key:"getListeners",value:function(){}},{key:"registerAliases",value:function(){}},{key:"normalizeAliases",value:function(){}},{key:"mergeEventAliases",value:function(){}},{key:"isEventEmitter",value:function(){}},{key:"normalizeEventName",value:function(){}},{key:"resolveEventName",value:function(){}},{key:"makeFullEventName",value:function(){}}]);return e}();babelHelpers.defineProperty(se,"GLOBAL_TARGET",ne);babelHelpers.defineProperty(se,"DEFAULT_MAX_LISTENERS",ee.getDefaultMaxListeners());babelHelpers.defineProperty(se,"sequenceValue",1);var ue=[];e.isReady=false;function(){}document.addEventListener("readystatechange",function(){});var fe=function e(){babelHelpers.classCallCheck(this,e)};babelHelpers.defineProperty(fe,"bind",y);babelHelpers.defineProperty(fe,"bindOnce",b);babelHelpers.defineProperty(fe,"unbind",g);babelHelpers.defineProperty(fe,"unbindAll",m);babelHelpers.defineProperty(fe,"ready",le);babelHelpers.defineProperty(fe,"EventEmitter",se);babelHelpers.defineProperty(fe,"BaseEvent",Z);function(){}function(){}function(){}var de=function(){}();var pe=navigator.userAgent.toLowerCase();var ye=function(){function e(){babelHelpers.classCallCheck(this,e)}babelHelpers.createClass(e,null,[{key:"isOpera",value:function e(){return pe.includes("opera")}},{key:"isIE",value:function(){}},{key:"isIE6",value:function e(){return pe.includes("msie 6")}},{key:"isIE7",value:function e(){return pe.includes("msie 7")}},{key:"isIE8",value:function e(){return pe.includes("msie 8")}},{key:"isIE9",value:function e(){return"documentMode"in document&&document.documentMode>=9}},{key:"isIE10",value:function(){}},{key:"isSafari",value:function e(){return pe.includes("webkit")}},{key:"isFirefox",value:function e(){return pe.includes("firefox")}},{key:"isChrome",value:function e(){return pe.includes("chrome")}},{key:"detectIEVersion",value:function(){}},{key:"isIE11",value:function(){}},{key:"isMac",value:function e(){return pe.includes("macintosh")}},{key:"isWin",value:function e(){return pe.includes("windows")}},{key:"isLinux",value:function(){}},{key:"isAndroid",value:function e(){return pe.includes("android")}},{key:"isIPad",value:function e(){return pe.includes("ipad;")||this.isMac()&&this.isTouchDevice()}},{key:"isIPhone",value:function e(){return pe.includes("iphone;")}},{key:"isIOS",value:function(){}},{key:"isMobile",value:function(){}},{key:"isRetina",value:function(){}},{key:"isTouchDevice",value:function(){}},{key:"isDoctype",value:function(){}},{key:"isLocalStorageSupported",value:function(){}},{key:"addGlobalClass",value:function(){}},{key:"detectAndroidVersion",value:function(){}},{key:"isPropertySupported",value:function(){}},{key:"addGlobalFeatures",value:function(){}}]);return e}();var ge=function(){}();function(){}var be=function(){}();var we=function e(){babelHelpers.classCallCheck(this,e)};babelHelpers.defineProperty(we,"Cookie",ge);babelHelpers.defineProperty(we,"Data",be);function(){}if(!i.isNil(window.BX)&&i.isFunction(window.BX.message)){Object.keys(window.BX.message).forEach(function(){})}var xe=function(){function e(){babelHelpers.classCallCheck(this,e)}babelHelpers.createClass(e,null,[{key:"getMessage",value:function e(t){var r=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null;var n=Se(t);if(i.isString(n)&&i.isPlainObject(r)){Object.keys(r).forEach(function(e){var t=new RegExp(e,"gi");n=n.replace(t,function(){return i.isNil(r[e])?"":String(r[e])})})}return n}},{key:"hasMessage",value:function e(t){return i.isString(t)&&!i.isNil(Se[t])}},{key:"setMessage",value:function(){}}]);return e}();var Ee=new Map;var je=new Map;var Oe=function(){}();function(){}function(){}function(){}function(){}var Ae=function(){}();babelHelpers.defineProperty(Ae,"render",_e);babelHelpers.defineProperty(Ae,"attr",Ae.attrs);function(){}function(){}function(){}var Ce=/^((\w+):)?(\/\/((\w+)?(:(\w+))?@)?([^\/\?:]+)(:(\d+))?)?(\/?([^\/\?#][^\?#]*)?)?(\?([^#]+))?(#(\w*))?/;function(){}function(){}function(){}var Fe=new WeakMap;var De=function(){}();var He=function(){}();var Re=function(){}();var We=function(e){babelHelpers.inherits(t,e);function t(){var e;var r;babelHelpers.classCallCheck(this,t);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++){i[a]=arguments[a]}r=babelHelpers.possibleConstructorReturn(this,(e=babelHelpers.getPrototypeOf(t)).call.apply(e,[this].concat(i)));babelHelpers.defineProperty(babelHelpers.assertThisInitialized(r),"storage",new Map);return r}return t}(Re);var Ge=function(){}();var ze=function(){}(Re);var Ue=function e(){babelHelpers.classCallCheck(this,e)};babelHelpers.defineProperty(Ue,"MemoryCache",We);babelHelpers.defineProperty(Ue,"LocalStorageCache",ze);function(){}var Ye=function(){}();function(){}var Je=new Map;var $e=function(){}();var Ze;function(){}var Qe=new WeakSet;Ze=Symbol.iterator;var et=function(){}();var tt=function(){};var rt=function(){}(se);var nt=function(){}();function(){}var at=function(){function e(){babelHelpers.classCallCheck(this,e)}babelHelpers.createClass(e,null,[{key:"register",value:function(){}},{key:"unregister",value:function(){}},{key:"addStack",value:function(){}},{key:"getStack",value:function(){}},{key:"getOrAddStack",value:function(){}},{key:"getComponent",value:function t(r){var n=it(this,e,ot).call(this,r,true);if(!n){return null}var i=this.getStack(n);return i?i.getComponent(r):null}},{key:"bringToFront",value:function(){}}]);return e}();var ot=function e(t){var r=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;if(!i.isElementNode(t)){if(!r){console.error("ZIndexManager: The argument 'element' must be a DOM element.",t)}return null}else if(!i.isElementNode(t.parentNode)){if(!r){console.error("ZIndexManager: The 'element' doesn't have a parent node.",t)}return null}return t.parentNode};babelHelpers.defineProperty(at,"stacks",new WeakMap);var st={OrderedArray:et};function(){}function(){}var ft=a.getClass,ct=a.namespace;var ht=Se;var vt=de.replace,dt=de.remove,pt=de.clean,yt=de.insertBefore,gt=de.insertAfter,mt=de.append,bt=de.prepend,wt=de.style,St=de.adjust,xt=de.create,Et=de.isShown;var jt=function(){};var Ot=function e(){de.removeClass.apply(de,babelHelpers.toConsumableArray(q.merge(Array.from(arguments),[ut(arguments[0])])))};var Bt=function(){};var Tt=function(){};var _t=function(){};var kt=we.Cookie.get;var At=function(){};var Nt=fe.bind,Xt=fe.unbind,Pt=fe.unbindAll,Ct=fe.bindOnce,Mt=fe.ready;var It=w,Lt=E,Ft=j;var Dt=function(){};var Ht=q.clone,Rt=q.loadExtension,Wt=q.debounce,Gt=q.throttle,zt=q.html;var Ut=babelHelpers.objectSpread({},Object.getOwnPropertyNames(i).filter(function(){}).reduce(function(){},{}),{isNotEmptyString:function(){},isNotEmptyObject:function(){},isMapKey:i.isObject,stringToInt:function(){}});var Vt={IsOpera:ye.isOpera,IsIE:ye.isIE,IsIE6:ye.isIE6,IsIE7:ye.isIE7,IsIE8:ye.isIE8,IsIE9:ye.isIE9,IsIE10:ye.isIE10,IsIE11:ye.isIE11,IsSafari:ye.isSafari,IsFirefox:ye.isFirefox,IsChrome:ye.isChrome,DetectIeVersion:ye.detectIEVersion,IsMac:ye.isMac,IsAndroid:ye.isAndroid,isIPad:ye.isIPad,isIPhone:ye.isIPhone,IsIOS:ye.isIOS,IsMobile:ye.isMobile,isRetina:ye.isRetina,IsDoctype:ye.isDoctype,SupportLocalStorage:ye.isLocalStorageSupported,addGlobalClass:ye.addGlobalClass,DetectAndroidVersion:ye.detectAndroidVersion,isPropertySupported:ye.isPropertySupported,addGlobalFeatures:ye.addGlobalFeatures};var Yt=window.BX?window.BX.ajax:function(){};function(){}function Jt(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:document;var t=lt(e);return{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function(){}function(){}function Kt(e){return lt(e)}function(){}function(){}function(){}function(){}function(){}if(global&&global.window&&global.window.BX){Object.assign(global.window.BX,e)}e.Type=i;e.Reflection=a;e.Text=f;e.Dom=de;e.Browser=ye;e.Event=fe;e.Http=we;e.Runtime=q;e.Loc=xe;e.Tag=Ae;e.Uri=De;e.Validation=He;e.Cache=Ue;e.BaseError=$;e.Extension=$e;e.ZIndexManager=at;e.Collections=st;e.getClass=ft;e.namespace=ct;e.message=ht;e.replace=vt;e.remove=dt;e.clean=pt;e.insertBefore=yt;e.insertAfter=gt;e.append=mt;e.prepend=bt;e.style=wt;e.adjust=St;e.create=xt;e.isShown=Et;e.addClass=jt;e.removeClass=Ot;e.hasClass=Bt;e.toggleClass=Tt;e.cleanNode=_t;e.getCookie=kt;e.setCookie=At;e.bind=Nt;e.unbind=Xt;e.unbindAll=Pt;e.bindOnce=Ct;e.ready=Mt;e.debugEnableFlag=It;e.debugStatus=Lt;e.debug=Ft;e.debugEnable=Dt;e.clone=Ht;e.loadExt=Rt;e.debounce=Wt;e.throttle=Gt;e.html=zt;e.type=Ut;e.browser=Vt;e.ajax=Yt;e.GetWindowScrollSize=qt;e.GetWindowScrollPos=Jt;e.GetWindowInnerSize=$t;e.GetWindowSize=Zt;e.GetContext=Kt;e.pos=Qt;e.addCustomEvent=er;e.onCustomEvent=tr;e.removeCustomEvent=rr;e.removeAllCustomEvents=nr})(this.BX=this.BX||{});(function(BX){var proxyList=new WeakMap;var deferList=new WeakMap;var deniedEvents=[];var customEvents=new WeakMap;var customEventsCnt=0;var garbageCollectors=[];var cssList=[];var cssInit=false;var jsList=[];var jsInit=false;var eventTypes={click:"MouseEvent",dblclick:"MouseEvent",mousedown:"MouseEvent",mousemove:"MouseEvent",mouseout:"MouseEvent",mouseover:"MouseEvent",mouseup:"MouseEvent",focus:"MouseEvent",blur:"MouseEvent"};var lastWait=[];var CHECK_FORM_ELEMENTS={tagName:/^INPUT|SELECT|TEXTAREA|BUTTON$/i};var PRELOADING=1;var PRELOADED=2;var LOADING=3;var LOADED=4;var assets={};var isAsync=null;BX.MSLEFT=1;BX.MSMIDDLE=2;BX.MSRIGHT=4;BX.AM_PM_UPPER=1;BX.AM_PM_LOWER=2;BX.AM_PM_NONE=false;BX.ext=function(e){for(var t in e){if(e.hasOwnProperty(t)){this[t]=e[t]}}};var r={script:/<script([^>]*)>/gi,script_end:/<\/script>/gi,script_src:/src=["\']([^"\']+)["\']/i,script_type:/type=["\']([^"\']+)["\']/i,space:/\s+/,ltrim:/^[\s\r\n]+/g,rtrim:/[\s\r\n]+$/g,style:/<link.*?(rel="stylesheet"|type="text\/css")[^>]*>/i,style_href:/href=["\']([^"\']+)["\']/i};BX.processHTML=function(){};BX.extend=function(){};BX.is_subclass_of=function(e,t){if(e instanceof t)return true;if(t.superclass)return BX.is_subclass_of(e,t.superclass);return false};BX.clearNodeCache=function(){return false};BX.bitrix_sessid=function(){return BX.message("bitrix_sessid")};BX.createFragment=function(){};BX.setOpacity=function(){};BX.hoverEvents=function(e){if(e)return BX.adjust(e,{events:BX.hoverEvents()});else return{mouseover:BX.hoverEventsHover,mouseout:BX.hoverEventsHout}};BX.hoverEventsHover=function(){BX.addClass(this,"bx-hover");this.BXHOVER=true};BX.hoverEventsHout=function(){BX.removeClass(this,"bx-hover");this.BXHOVER=false};BX.focusEvents=function(e){if(e)return BX.adjust(e,{events:BX.focusEvents()});else return{mouseover:BX.focusEventsFocus,mouseout:BX.focusEventsBlur}};BX.focusEventsFocus=function(){BX.addClass(this,"bx-focus");this.BXFOCUS=true};BX.focusEventsBlur=function(){BX.removeClass(this,"bx-focus");this.BXFOCUS=false};BX.setUnselectable=function(){};BX.setSelectable=function(){};BX.styleIEPropertyName=function(e){if(e=="float")e=BX.browser.IsIE()?"styleFloat":"cssFloat";else{var t=BX.browser.isPropertySupported(e);if(t){e=t}else{var r=/(\-([a-z]){1})/g;if(r.test(e)){e=e.replace(r,function(){return arguments[2].toUpperCase()})}}}return e};BX.focus=function(e){try{e.focus();return true}catch(e){return false}};BX.firstChild=function(e){return BX.type.isDomNode(e)?e.firstElementChild:null};BX.lastChild=function(e){return BX.type.isDomNode(e)?e.lastElementChild:null};BX.previousSibling=function(e){return BX.type.isDomNode(e)?e.previousElementSibling:null};BX.nextSibling=function(){};BX.findChildrenByClassName=function(e,t,r){if(!e||!e.childNodes)return null;var n=[];if(typeof e.getElementsByClassName=="undefined"){r=r!==false;n=BX.findChildren(e,{className:t},r)}else{var a=e.getElementsByClassName(t);for(i=0,l=a.length;i<l;i++){n[i]=a[i]}}return n};BX.findChildByClassName=function(e,t,r){if(!e||!e.childNodes)return null;var n=null;if(typeof e.getElementsByClassName=="undefined"){r=r!==false;n=BX.findChild(e,{className:t},r)}else{var i=e.getElementsByClassName(t);if(i&&typeof i[0]!="undefined"){n=i[0]}else{n=null}}return n};BX.findChildren=function(e,t,r){return BX.findChild(e,t,r,true)};BX.findChild=function(e,t,r,n){if(!e||!e.childNodes)return null;r=!!r;n=!!n;var i=e.childNodes.length,a=[];for(var o=0;o<i;o++){var s=e.childNodes[o];if(_checkNode(s,t)){if(n)a.push(s);else return s}if(r==true){var u=BX.findChild(s,t,r,n);if(u){if(n)a=BX.util.array_merge(a,u);else return u}}}if(n||a.length>0)return a;else return null};BX.findParent=function(e,t,r){if(!e)return null;var n=e;while(n.parentNode){var i=n.parentNode;if(_checkNode(i,t))return i;n=i;if(!!r&&(BX.type.isFunction(r)||typeof r=="object")){if(BX.type.isElementNode(r)){if(n==r)break}else{if(_checkNode(n,r))break}}}return null};BX.findNextSibling=function(e,t){if(!e)return null;var r=e;while(r.nextSibling){var n=r.nextSibling;if(_checkNode(n,t))return n;r=n}return null};BX.findPreviousSibling=function(e,t){if(!e)return null;var r=e;while(r.previousSibling){var n=r.previousSibling;if(_checkNode(n,t))return n;r=n}return null};BX.checkNode=function(e,t){return _checkNode(e,t)};BX.findFormElements=function(e){if(BX.type.isString(e))e=document.forms[e]||BX(e);var t=[];if(BX.type.isElementNode(e)){if(e.tagName.toUpperCase()=="FORM"){t=e.elements}else{t=BX.findChildren(e,CHECK_FORM_ELEMENTS,true)}}return t};BX.isParentForNode=function(){};BX.getCaretPosition=function(e){var t=0;if(e.selectionStart||e.selectionStart==0){t=e.selectionStart}else if(document.selection){e.focus();var r=document.selection.createRange();r.moveStart("character",-e.value.length);t=r.text.length}return t};BX.setCaretPosition=function(){};BX.merge=function(){var e=Array.prototype.slice.call(arguments);if(e.length<2)return{};var t=e.shift();for(var r=0;r<e.length;r++){for(var n in e[r]){if(typeof e[r]=="undefined"||e[r]==null)continue;if(e[r].hasOwnProperty(n)){if(typeof e[r][n]=="undefined"||e[r][n]==null)continue;if(typeof e[r][n]=="object"&&!BX.type.isDomNode(e[r][n])&&typeof e[r][n]["isUIWidget"]=="undefined"){var i="length"in e[r][n];if(typeof t[n]!="object")t[n]=i?[]:{};if(i)BX.util.array_merge(t[n],e[r][n]);else BX.merge(t[n],e[r][n])}else t[n]=e[r][n]}}}return t};BX.mergeEx=function(){var e=Array.prototype.slice.call(arguments);if(e.length<2){return{}}var t=e.shift();for(var r=0;r<e.length;r++){for(var n in e[r]){if(typeof e[r]=="undefined"||e[r]==null||!e[r].hasOwnProperty(n)){continue}if(BX.type.isPlainObject(e[r][n])&&BX.type.isPlainObject(t[n])){BX.mergeEx(t[n],e[r][n])}else{t[n]=BX.type.isPlainObject(e[r][n])?BX.clone(e[r][n]):e[r][n]}}}return t};BX.getEventButton=function(e){e=e||window.event;var t=0;if(typeof e.which!="undefined"){switch(e.which){case 1:t=t|BX.MSLEFT;break;case 2:t=t|BX.MSMIDDLE;break;case 3:t=t|BX.MSRIGHT;break}}else if(typeof e.button!="undefined"){t=event.button}return t||BX.MSLEFT};var captured_events=null,_bind=null;BX.CaptureEvents=function(e,t){if(_bind)return;_bind=BX.bind;captured_events=[];BX.bind=function(r,n,i){if(r===e&&n===t)captured_events.push(i);_bind.apply(this,arguments)}};BX.CaptureEventsGet=function(){if(_bind){BX.bind=_bind;var e=captured_events;_bind=null;captured_events=null;return e}return null};BX.fireEvent=function(e,t){var r=false,n=null;if(BX.type.isDomNode(e)){r=true;if(document.createEventObject){if(eventTypes[t]!="MouseEvent"){n=document.createEventObject();n.type=t;r=e.fireEvent("on"+t,n)}if(e[t]){e[t]()}}else{n=null;switch(eventTypes[t]){case"MouseEvent":n=document.createEvent("MouseEvent");try{n.initMouseEvent(t,true,true,top,1,0,0,0,0,0,0,0,0,0,null)}catch(e){n.initMouseEvent(t,true,true,window,1,0,0,0,0,0,0,0,0,0,null)}break;default:n=document.createEvent("Event");n.initEvent(t,true,true)}r=e.dispatchEvent(n)}}return r};BX.getWheelData=function(e){e=e||window.event;e.wheelData=e.detail?e.detail*-1:e.wheelDelta/40;return e.wheelData};BX.proxy_context=null;BX.delegate=function(e,t){if(!e||!t)return e;return function(){var r=BX.proxy_context;BX.proxy_context=this;var n=e.apply(t,arguments);BX.proxy_context=r;return n}};BX.delegateLater=function(e,t,r){return function(){if(t[e]){var n=BX.proxy_context;BX.proxy_context=this;var i=t[e].apply(r||t,arguments);BX.proxy_context=n;return i}return null}};BX.proxy=function(e,t){return getObjectDelegate(e,t,proxyList)};BX.defer=function(e,t){if(!!t)return BX.defer_proxy(e,t);else return function(){var t=arguments;setTimeout(function(){e.apply(this,t)},10)}};BX.defer_proxy=function(){};function(){}BX.once=function(){};BX.bindDelegate=function(e,t,r,n){var i=BX.delegateEvent(r,n);BX.bind(e,t,i);return i};BX.delegateEvent=function(e,t){return function(r){r=r||window.event;var n=r.target||r.srcElement;while(n!=this){if(_checkNode(n,e)){return t.call(n,r)}if(n&&n.parentNode)n=n.parentNode;else break}return null}};BX.False=function(){return false};BX.DoNothing=function(){};BX.denyEvent=function(e,t){deniedEvents.push([e,t,e["on"+t]]);e["on"+t]=BX.DoNothing};BX.allowEvent=function(e,t){for(var r=0,n=deniedEvents.length;r<n;r++){if(deniedEvents[r][0]==e&&deniedEvents[r][1]==t){e["on"+t]=deniedEvents[r][2];BX.util.deleteFromArray(deniedEvents,r);return}}};BX.fixEventPageXY=function(e){BX.fixEventPageX(e);BX.fixEventPageY(e);return e};BX.fixEventPageX=function(e){if(e.pageX==null&&e.clientX!=null){e.pageX=e.clientX+(document.documentElement&&document.documentElement.scrollLeft||document.body&&document.body.scrollLeft||0)-(document.documentElement.clientLeft||0)}return e};BX.fixEventPageY=function(e){if(e.pageY==null&&e.clientY!=null){e.pageY=e.clientY+(document.documentElement&&document.documentElement.scrollTop||document.body&&document.body.scrollTop||0)-(document.documentElement.clientTop||0)}return e};BX.PreventDefault=function(e){if(!e)e=window.event;if(e.stopPropagation){e.preventDefault();e.stopPropagation()}else{e.cancelBubble=true;e.returnValue=false}return false};BX.eventReturnFalse=function(e){e=e||window.event;if(e&&e.preventDefault)e.preventDefault();else e.returnValue=false;return false};BX.eventCancelBubble=function(e){e=e||window.event;if(e&&e.stopPropagation)e.stopPropagation();else e.cancelBubble=true};BX.bindDebouncedChange=function(e,t,r,n,i){i=i||window;n=n||300;var a="bx-dc-previous-value";BX.data(e,a,e.value);var o=function(t,r){var n=BX.data(e,a);if(typeof n=="undefined"||n!=r){if(typeof i!="object")t(r);else t.apply(i,[r])}};var s=BX.debounce(function(){var r=e.value;o(t,r);BX.data(e,a,r)},n);BX.bind(e,"keyup",s);BX.bind(e,"change",s);BX.bind(e,"input",s);if(BX.type.isFunction(r)){var u=function(){o(r,e.value)};BX.bind(e,"keyup",u);BX.bind(e,"change",u);BX.bind(e,"input",u)}};BX.parseJSON=function(data,context){var result=null;if(BX.type.isNotEmptyString(data)){try{if(data.indexOf("\n")>=0)eval("result = "+data);else result=new Function("return "+data)()}catch(e){BX.onCustomEvent(context,"onParseJSONFailure",[data,context])}}else if(BX.type.isPlainObject(data)){return data}return result};BX.submit=function(e,t,r,n){t=t||"save";if(!e["BXFormSubmit_"+t]){e["BXFormSubmit_"+t]=e.appendChild(BX.create("INPUT",{props:{type:"submit",name:t,value:r||"Y"},style:{display:"none"}}))}if(e.sessid)e.sessid.value=BX.bitrix_sessid();setTimeout(BX.delegate(function(){BX.fireEvent(this,"click");if(n)n()},e["BXFormSubmit_"+t]),10)};BX.show=function(e,t){if(e.BXDISPLAY||!_checkDisplay(e,t)){e.style.display=e.BXDISPLAY}};BX.hide=function(e,t){if(!e.BXDISPLAY)_checkDisplay(e,t);e.style.display="none"};BX.toggle=function(e,t){if(!t&&BX.type.isElementNode(e)){var r=true;if(e.BXDISPLAY)r=!_checkDisplay(e);else r=e.style.display=="none";if(r)BX.show(e);else BX.hide(e)}else if(BX.type.isArray(t)){for(var n=0,i=t.length;n<i;n++){if(e==t[n]){e=t[n==i-1?0:n+1];break}}if(n==i)e=t[0]}return e};function _checkDisplay(e,t){if(typeof t!="undefined")e.BXDISPLAY=t;var r=e.style.display||BX.style(e,"display");if(r!="none"){e.BXDISPLAY=e.BXDISPLAY||r;return true}else{e.BXDISPLAY=e.BXDISPLAY||"block";return false}}BX.util={array_values:function(e){if(!BX.type.isArray(e))return BX.util._array_values_ob(e);var t=[];for(var r=0,n=e.length;r<n;r++)if(e[r]!==null&&typeof e[r]!="undefined")t.push(e[r]);return t},_array_values_ob:function(e){var t=[];for(var r in e)if(e[r]!==null&&typeof e[r]!="undefined")t.push(e[r]);return t},array_keys:function(e){if(!BX.type.isArray(e))return BX.util._array_keys_ob(e);var t=[];for(var r=0,n=e.length;r<n;r++)if(e[r]!==null&&typeof e[r]!="undefined")t.push(r);return t},_array_keys_ob:function(e){var t=[];for(var r in e)if(e[r]!==null&&typeof e[r]!="undefined")t.push(r);return t},object_keys:function(){},array_merge:function(e,t){if(!BX.type.isArray(e))e=[];if(!BX.type.isArray(t))t=[];var r=e.length,n=0;if(typeof t.length==="number"){for(var i=t.length;n<i;n++){e[r++]=t[n]}}else{while(t[n]!==undefined){e[r++]=t[n++]}}e.length=r;return e},array_flip:function(e){var t={};for(var r in e){t[e[r]]=r}return t},array_diff:function(e,t,r){r=BX.type.isFunction(r)?r:null;var n,i,a,o,s={},u=[];for(n=0,i=t.length;n<i;n++){a=t[n];o=r?r(a):a;s[o]=true}for(n=0,i=e.length;n<i;n++){a=e[n];o=r?r(a):a;if(typeof s[o]==="undefined"){u.push(a)}}return u},array_unique:function(e){var t=0,r,n=e.length;if(n<2)return e;for(;t<n-1;t++){for(r=t+1;r<n;r++){if(e[t]==e[r]){e.splice(r--,1);n--}}}return e},in_array:function(e,t){for(var r=0;r<t.length;r++){if(t[r]==e)return true}return false},array_search:function(e,t){for(var r=0;r<t.length;r++){if(t[r]==e)return r}return-1},object_search_key:function(e,t){if(typeof t[e]!="undefined")return t[e];for(var r in t){if(typeof t[r]=="object"){var n=BX.util.object_search_key(e,t[r]);if(n!==false)return n}}return false},trim:function(){},urlencode:function(e){return encodeURIComponent(e)},deleteFromArray:function(){},insertIntoArray:function(e,t,r){return e.slice(0,t).concat([r]).concat(e.slice(t))},htmlspecialchars:function(e){return BX.Text.encode(e)},htmlspecialcharsback:function(e){return BX.Text.decode(e)},preg_quote:function(e,t){if(!e.replace)return e;return e.replace(new RegExp("[.\\\\+*?\\[\\^\\]$(){}=!<>|:\\"+(t||"")+"-]","g"),"\\$&")},jsencode:function(e){if(!e||!e.replace)return e;var t=[{c:"\\\\",r:"\\\\"},{c:"\\t",r:"\\t"},{c:"\\n",r:"\\n"},{c:"\\r",r:"\\r"},{c:'"',r:'\\"'},{c:"'",r:"\\'"},{c:"<",r:"\\x3C"},{c:">",r:"\\x3E"},{c:"\\u2028",r:"\\u2028"},{c:"\\u2029",r:"\\u2029"}];for(var r=0;r<t.length;r++)e=e.replace(new RegExp(t[r].c,"g"),t[r].r);return e},getCssName:function(){},getJsName:function(){},nl2br:function(e){if(!e||!e.replace)return e;return e.replace(/([^>])\n/g,"$1<br/>")},str_pad:function(){},str_pad_left:function(e,t,r){return e.toString().padStart(t,r)},str_pad_right:function(){},strip_tags:function(e){return e.split(/<[^>]+>/g).join("")},strip_php_tags:function(e){return e.replace(/<\?(.|[\r\n])*?\?>/g,"")},popup:function(e,t,r){var n,i;if(BX.browser.IsOpera()){n=document.body.offsetWidth;i=document.body.offsetHeight}else{n=screen.width;i=screen.height}return window.open(e,"","status=no,scrollbars=yes,resizable=yes,width="+t+",height="+r+",top="+Math.floor((i-r)/2-14)+",left="+Math.floor((n-t)/2-5))},shuffle:function(e){var t,r;var n=e.length;while(0!==n){r=Math.floor(Math.random()*n);n-=1;t=e[n];e[n]=e[r];e[r]=t}return e},objectSort:function(){},objectMerge:function(){return BX.mergeEx.apply(window,arguments)},objectClone:function(e){return BX.clone(e,true)},hex2rgb:function(e){var t=e.replace(/[# ]/g,"").replace(/^(.)(.)(.)$/,"$1$1$2$2$3$3").match(/.{2}/g);for(var r=0;r<3;r++){t[r]=parseInt(t[r],16)}return{r:t[0],g:t[1],b:t[2]}},remove_url_param:function(e,t){return BX.Uri.removeParam(e,t)},add_url_param:function(){},buildQueryString:function(){},even:function(){},hashCode:function(e){if(!BX.type.isNotEmptyString(e)){return 0}var t=0;for(var r=0;r<e.length;r++){var n=e.charCodeAt(r);t=(t<<5)-t+n;t=t&t}return t},getRandomString:function(e){return BX.Text.getRandom(e)},number_format:function(e,t,r,n){var i,a,o,s,u,l="";t=Math.abs(t);if(isNaN(t)||t<0){t=2}r=r||",";if(typeof n==="undefined")n=".";e=(+e||0).toFixed(t);if(e<0){l="-";e=-e}i=parseInt(e,10)+"";a=i.length>3?i.length%3:0;u=a?i.substr(0,a)+n:"";o=i.substr(a).replace(/(\d{3})(?=\d)/g,"$1"+n);s=t?r+Math.abs(e-i).toFixed(t).replace(/-/,"0").slice(2):"";return l+u+o+s},getExtension:function(e){e=e||"";var t=e.split("?")[0].split(".");return t[t.length-1].toLowerCase()},addObjectToForm:function(e,t,r){if(!BX.type.isString(r)){r=""}for(var n in e){if(!e.hasOwnProperty(n)){continue}var i=e[n];var a=r!==""?r+"["+n+"]":n;if(BX.type.isArray(i)){var o={};for(var s=0;s<i.length;s++){o[s]=i[s]}BX.util.addObjectToForm(o,t,a)}else if(BX.type.isPlainObject(i)){BX.util.addObjectToForm(i,t,a)}else{i=BX.type.isFunction(i.toString)?i.toString():"";if(i!==""){t.appendChild(BX.create("INPUT",{attrs:{type:"hidden",name:a,value:i}}))}}}},observe:function(){},escapeRegExp:function(e){return e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}};BX.validation={checkIfEmail:function(){},checkIfPhone:function(){}};BX.prop={get:function(){},getObject:function(e,t,r){return e&&BX.type.isPlainObject(e[t])?e[t]:r},getElementNode:function(e,t,r){return e&&BX.type.isElementNode(e[t])?e[t]:r},getArray:function(e,t,r){return e&&BX.type.isArray(e[t])?e[t]:r},getFunction:function(e,t,r){return e&&BX.type.isFunction(e[t])?e[t]:r},getNumber:function(e,t,r){if(!(e&&e.hasOwnProperty(t))){return r}var n=e[t];if(BX.type.isNumber(n)){return n}n=parseFloat(n);return!isNaN(n)?n:r},getInteger:function(e,t,r){if(!(e&&e.hasOwnProperty(t))){return r}var n=e[t];if(BX.type.isNumber(n)){return n}n=parseInt(n);return!isNaN(n)?n:r},getBoolean:function(e,t,r){if(!(e&&e.hasOwnProperty(t))){return r}var n=e[t];return BX.type.isBoolean(n)?n:BX.type.isString(n)?n.toLowerCase()==="true":!!n},getString:function(e,t,r){if(!(e&&e.hasOwnProperty(t))){return r}var n=e[t];return BX.type.isString(n)?n:n?n.toString():""},extractDate:function(e){if(!BX.type.isDate(e)){e=new Date}e.setHours(0);e.setMinutes(0);e.setSeconds(0);e.setMilliseconds(0);return e}};BX.isNodeInDom=function(e,t){return e===(t||document)?true:e.parentNode?BX.isNodeInDom(e.parentNode):false};BX.isNodeHidden=function(e){if(e===document)return false;else if(BX.style(e,"display")=="none")return true;else return e.parentNode?BX.isNodeHidden(e.parentNode):true};BX.evalPack=function(e){while(e.length>0){var t=e.shift();if(t.TYPE=="SCRIPT_EXT"||t.TYPE=="SCRIPT_SRC"){BX.loadScript(t.DATA,function(){BX.evalPack(e)});return}else if(t.TYPE=="SCRIPT"){BX.evalGlobal(t.DATA)}}};BX.evalGlobal=function(e){if(e){var t=document.getElementsByTagName("head")[0]||document.documentElement,r=document.createElement("script");r.type="text/javascript";if(!BX.browser.IsIE()){r.appendChild(document.createTextNode(e))}else{r.text=e}t.insertBefore(r,t.firstChild);t.removeChild(r)}};BX.garbage=function(e,t){garbageCollectors.push({callback:e,context:t})};BX.GetDocElement=function(e){e=e||document;return BX.browser.IsDoctype(e)?e.documentElement:e.body};BX.scrollTop=function(e,t){if(typeof t!="undefined"){if(e==window){throw new Error("scrollTop() for window is not implemented")}else e.scrollTop=parseInt(t)}else{if(e==window)return BX.GetWindowScrollPos().scrollTop;return e.scrollTop}};BX.scrollLeft=function(e,t){if(typeof t!="undefined"){if(e==window){throw new Error("scrollLeft() for window is not implemented")}else e.scrollLeft=parseInt(t)}else{if(e==window)return BX.GetWindowScrollPos().scrollLeft;return e.scrollLeft}};BX.hide_object=function(e){e=BX(e);e.style.position="absolute";e.style.top="-1000px";e.style.left="-1000px";e.style.height="10px";e.style.width="10px"};BX.is_relative=function(e){var t=BX.style(e,"position");return t=="relative"||t=="absolute"};BX.is_float=function(e){var t=BX.style(e,"float");return t=="right"||t=="left"};BX.is_fixed=function(e){var t=BX.style(e,"position");return t=="fixed"};BX.width=function(e,t){if(typeof t!="undefined")BX.style(e,"width",parseInt(t)+"px");else{if(e==window)return window.innerWidth;return BX.pos(e).width}};BX.height=function(e,t){if(typeof t!="undefined")BX.style(e,"height",parseInt(t)+"px");else{if(e==window)return window.innerHeight;return BX.pos(e).height}};BX.align=function(e,t,r,n){if(n)n=n.toLowerCase();else n="";var i=document;if(BX.type.isElementNode(e)){i=e.ownerDocument;e=BX.pos(e)}var a=e["left"],o=e["bottom"];var s=BX.GetWindowScrollPos(i);var u=BX.GetWindowInnerSize(i);if(u.innerWidth+s.scrollLeft-(e["left"]+t)<0){if(e["right"]-t>=0)a=e["right"]-t;else a=s.scrollLeft}if(u.innerHeight+s.scrollTop-(e["bottom"]+r)<0||~n.indexOf("top")){if(e["top"]-r>=0||~n.indexOf("top"))o=e["top"]-r;else o=s.scrollTop}return{left:a,top:o}};BX.scrollToNode=function(e){var t=BX(e);if(t.scrollIntoView)t.scrollIntoView(true);else{var r=BX.pos(t);window.scrollTo(r.left,r.top)}};BX.showWait=function(){};BX.closeWait=function(){};BX.setJSList=function(e){if(BX.type.isArray(e)){e=e.map(function(e){return normalizeUrl(e)});jsList=jsList.concat(e)}};BX.getJSList=function(){initJsList();return jsList};BX.setCSSList=function(){};BX.getCSSList=function(){initCssList();return cssList};BX.getJSPath=function(e){return e.replace(/^(http[s]*:)*\/\/[^\/]+/i,"")};BX.getCSSPath=function(e){return e.replace(/^(http[s]*:)*\/\/[^\/]+/i,"")};BX.getCDNPath=function(e){return e};BX.loadScript=function(e,t,r){if(BX.type.isString(e)){e=[e]}return BX.load(e,t,r)};BX.loadCSS=function(e,t,r){if(BX.type.isString(e)){e=[e]}if(BX.type.isArray(e)){e=e.map(function(e){return{url:e,ext:"css"}});BX.load(e,null,t)}};BX.load=function(e,t,r){if(!BX.isReady){var n=arguments;BX.ready(function(){BX.load.apply(this,n)});return null}r=r||document;if(isAsync===null){isAsync="async"in r.createElement("script")||"MozAppearance"in r.documentElement.style||window.opera}return isAsync?loadAsync(e,t,r):loadAsyncEmulation(e,t,r)};BX.convert={toNumber:function(e){if(BX.type.isNumber(e)){return e}e=Number(e);return!isNaN(e)?e:0},nodeListToArray:function(e){try{return Array.prototype.slice.call(e,0)}catch(i){var t=[];for(var r=0,n=e.length;r<n;r++){t.push(e[r])}return t}}};function(){}function loadAsyncEmulation(e,t,r){function n(e){e.state=PRELOADED;if(BX.type.isArray(e.onpreload)&&e.onpreload){for(var t=0;t<e.onpreload.length;t++){e.onpreload[t].call()}}}function i(e){if(e.state===undefined){e.state=PRELOADING;e.onpreload=[];loadAsset({url:e.url,type:"cache",ext:e.ext},function(){n(e)},r)}}if(!BX.type.isArray(e)){return}if(!BX.type.isFunction(t)){t=null}var a=[].slice.call(e,1);for(var o=0;o<a.length;o++){i(getAsset(a[o]))}load(getAsset(e[0]),e.length===1?t:function(){},r)}function load(e,t,r){t=t||BX.DoNothing;if(e.state===LOADED){t();return}if(e.state===PRELOADING){e.onpreload.push(function(){load(e,t,r)});return}e.state=LOADING;loadAsset(e,function(){},r)}function(){}function getAsset(e){var t={};if(typeof e==="object"){t=e;t.name=t.name?t.name:BX.util.hashCode(e.url)}else{t={name:BX.util.hashCode(e),url:e}}var r=BX.type.isNotEmptyString(t.ext)?t.ext:BX.util.getExtension(t.url);if(r==="css"&&isCssLoaded(t.url)||isScriptLoaded(t.url)){t.state=LOADED}var n=assets[t.name];if(n&&n.url===t.url){return n}assets[t.name]=t;return t}function normalizeUrl(e){if(!BX.type.isNotEmptyString(e)){return""}e=BX.getJSPath(e);e=e.replace(/\?[0-9]*$/,"");return e}function normalizeMinUrl(e){if(!BX.type.isNotEmptyString(e)){return""}var t=e.indexOf(".min");return t>=0?e.substr(0,t)+e.substr(t+4):e}function isCssLoaded(e){initCssList();e=normalizeUrl(e);var t=normalizeMinUrl(e);return e!==t&&BX.util.in_array(t,cssList)||BX.util.in_array(e,cssList)}function initCssList(){if(!cssInit){var e=document.getElementsByTagName("link");if(!!e&&e.length>0){for(var t=0;t<e.length;t++){var r=e[t].getAttribute("href");if(BX.type.isNotEmptyString(r)){r=normalizeMinUrl(normalizeUrl(r));cssList.push(r)}}}cssInit=true}}function getTemplateLink(e){var t=function(t){var r=e.getElementsByTagName(t);for(var n=0,i=r.length;n<i;n++){var a=r[n].getAttribute("data-template-style");if(BX.type.isNotEmptyString(a)&&a=="true"){return r[n]}}return null};var r=t("link");if(r===null){r=t("style")}return r}function isScriptLoaded(e){initJsList();e=normalizeUrl(e);var t=normalizeMinUrl(e);return e!==t&&BX.util.in_array(t,jsList)||BX.util.in_array(e,jsList)}function initJsList(){if(!jsInit){var e=document.getElementsByTagName("script");if(!!e&&e.length>0){for(var t=0;t<e.length;t++){var r=e[t].getAttribute("src");if(BX.type.isNotEmptyString(r)){r=normalizeMinUrl(normalizeUrl(r));jsList.push(r)}}}jsInit=true}}function(){}BX.reload=function(){};BX.clearCache=function(){BX.showWait();BX.reload(true)};BX.template=function(e,t,r){BX.ready(function(){_processTpl(BX(e),t,r)})};BX.isAmPmMode=function(e){if(e===true){return BX.message.AMPM_MODE}return BX.message.AMPM_MODE!==false};BX.formatDate=function(e,t){e=e||new Date;var r=e.getHours()||e.getMinutes()||e.getSeconds(),n=!!t?t:r?BX.message("FORMAT_DATETIME"):BX.message("FORMAT_DATE");return n.replace(/YYYY/gi,e.getFullYear()).replace(/MMMM/gi,BX.util.str_pad_left((e.getMonth()+1).toString(),2,"0")).replace(/MM/gi,BX.util.str_pad_left((e.getMonth()+1).toString(),2,"0")).replace(/DD/gi,BX.util.str_pad_left(e.getDate().toString(),2,"0")).replace(/HH/gi,BX.util.str_pad_left(e.getHours().toString(),2,"0")).replace(/MI/gi,BX.util.str_pad_left(e.getMinutes().toString(),2,"0")).replace(/SS/gi,BX.util.str_pad_left(e.getSeconds().toString(),2,"0"))};BX.formatName=function(e,t,r){e=e||{};t=t||"";var n={TITLE:e["TITLE"]||"",NAME:e["NAME"]||"",LAST_NAME:e["LAST_NAME"]||"",SECOND_NAME:e["SECOND_NAME"]||"",LOGIN:e["LOGIN"]||"",NAME_SHORT:e["NAME"]?e["NAME"].substr(0,1)+".":"",LAST_NAME_SHORT:e["LAST_NAME"]?e["LAST_NAME"].substr(0,1)+".":"",SECOND_NAME_SHORT:e["SECOND_NAME"]?e["SECOND_NAME"].substr(0,1)+".":"",EMAIL:e["EMAIL"]||"",ID:e["ID"]||"",NOBR:"","/NOBR":""},i=t;for(var a in n){if(n.hasOwnProperty(a)){i=i.replace("#"+a+"#",n[a])}}i=i.replace(/([\s]+)/gi," ").trim();if(i==""){i=r=="Y"?n["LOGIN"]:"";i=i==""?"Noname":i}return i};BX.getNumMonth=function(e){var t=["jan","feb","mar","apr","may","jun","jul","aug","sep","oct","nov","dec"];var r=["january","february","march","april","may","june","july","august","september","october","november","december"];var n=e.toUpperCase();for(i=1;i<=12;i++){if(n==BX.message("MON_"+i).toUpperCase()||n==BX.message("MONTH_"+i).toUpperCase()||n==t[i-1].toUpperCase()||n==r[i-1].toUpperCase()){return i}}return e};BX.parseDate=function(){};BX.selectUtils={addNewOption:function(e,t,r,n,i){e=BX(e);if(e){var a=e.length;if(i!==false){for(var o=0;o<a;o++){if(e[o].value==t){return}}}e.options[a]=new Option(r,t,false,false)}if(n===true){this.sortSelect(e)}},deleteOption:function(e,t){e=BX(e);if(e){for(var r=0;r<e.length;r++){if(e[r].value==t){e.remove(r);break}}}},deleteSelectedOptions:function(e){e=BX(e);if(e){var t=0;while(t<e.length){if(e[t].selected){e[t].selected=false;e.remove(t)}else{t++}}}},deleteAllOptions:function(e){e=BX(e);if(e){for(var t=e.length-1;t>=0;t--){e.remove(t)}}},optionCompare:function(e,t){var r=e.optText.toLowerCase();var n=t.optText.toLowerCase();if(r>n)return 1;if(r<n)return-1;return 0},sortSelect:function(e){e=BX(e);if(e){var t=[];var r=e.options.length;var n;for(n=0;n<r;n++){t[n]={optText:e[n].text,optValue:e[n].value}}t.sort(this.optionCompare);e.length=0;r=t.length;for(n=0;n<r;n++){e[n]=new Option(t[n].optText,t[n].optValue,false,false)}}},selectAllOptions:function(e){e=BX(e);if(e){var t=e.length;for(var r=0;r<t;r++){e[r].selected=true}}},selectOption:function(e,t){e=BX(e);if(e){var r=e.length;for(var n=0;n<r;n++){e[n].selected=e[n].value==t}}},addSelectedOptions:function(e,t,r,n){e=BX(e);if(!e)return;var i=e.length;for(var a=0;a<i;a++)if(e[a].selected)this.addNewOption(t,e[a].value,e[a].text,n,r)},moveOptionsUp:function(e){e=BX(e);if(!e)return;var t=e.length;for(var r=0;r<t;r++){if(e[r].selected&&r>0&&e[r-1].selected==false){var n=new Option(e[r].text,e[r].value);e[r]=new Option(e[r-1].text,e[r-1].value);e[r].selected=false;e[r-1]=n;e[r-1].selected=true}}},moveOptionsDown:function(e){e=BX(e);if(!e)return;var t=e.length;for(var r=t-1;r>=0;r--){if(e[r].selected&&r<t-1&&e[r+1].selected==false){var n=new Option(e[r].text,e[r].value);e[r]=new Option(e[r+1].text,e[r+1].value);e[r].selected=false;e[r+1]=n;e[r+1].selected=true}}}};BX.getEventTarget=function(e){if(e.target){return e.target}else if(e.srcElement){return e.srcElement}return null};BX.hint=function(e,t,r,n){if(null==r){r=t;t=""}if(null==e.BXHINT){e.BXHINT=new BX.CHint({parent:e,hint:r,title:t,id:n});e.BXHINT.Show()}};BX.hint_replace=function(e,t,r){if(null==r){r=t;t=""}if(!e||!e.parentNode||!r)return null;var n=new BX.CHint({hint:r,title:t});n.CreateParent();e.parentNode.insertBefore(n.PARENT,e);e.parentNode.removeChild(e);n.PARENT.style.marginLeft="5px";return e};BX.CHint=function(e){if(BX.CHint.cssLoaded===false){BX.load(["/bitrix/js/main/core/css/core_hint.css"]);BX.CHint.cssLoaded=true}this.PARENT=BX(e.parent);this.HINT=e.hint;this.HINT_TITLE=e.title;this.PARAMS={};for(var t in this.defaultSettings){if(null==e[t])this.PARAMS[t]=this.defaultSettings[t];else this.PARAMS[t]=e[t]}if(null!=e.id)this.ID=e.id;this.timer=null;this.bInited=false;this.msover=true;if(this.PARAMS.showOnce){this.__show();this.msover=false;this.timer=setTimeout(BX.proxy(this.__hide,this),this.PARAMS.hide_timeout)}else if(this.PARENT){BX.bind(this.PARENT,"mouseover",BX.proxy(this.Show,this));BX.bind(this.PARENT,"mouseout",BX.proxy(this.Hide,this))}};BX.CHint.cssLoaded=false;BX.CHint.openHints=new Set;BX.CHint.globalDisabled=false;BX.CHint.handleMenuOpen=function(){};BX.CHint.handleMenuClose=function(){BX.CHint.globalDisabled=false};BX.addCustomEvent("onMenuOpen",BX.CHint.handleMenuOpen);BX.addCustomEvent("onMenuClose",BX.CHint.handleMenuClose);BX.CHint.prototype.defaultSettings={show_timeout:1e3,hide_timeout:500,dx:2,showOnce:false,preventHide:true,min_width:250};BX.CHint.prototype.CreateParent=function(e,t){if(this.PARENT){BX.unbind(this.PARENT,"mouseover",BX.proxy(this.Show,this));BX.unbind(this.PARENT,"mouseout",BX.proxy(this.Hide,this))}if(!t)t={};var r="icon";if(t.type&&(t.type=="link"||t.type=="icon"))r=t.type;if(e)r="element";if(r=="icon"){e=BX.create("IMG",{props:{src:t.iconSrc?t.iconSrc:"/bitrix/js/main/core/images/hint.gif"}})}else if(r=="link"){e=BX.create("A",{props:{href:"javascript:void(0)"},html:"[?]"})}this.PARENT=e;BX.bind(this.PARENT,"mouseover",BX.proxy(this.Show,this));BX.bind(this.PARENT,"mouseout",BX.proxy(this.Hide,this));return this.PARENT};BX.CHint.prototype.Show=function(){this.msover=true;if(null!=this.timer)clearTimeout(this.timer);this.timer=setTimeout(BX.proxy(this.__show,this),this.PARAMS.show_timeout)};BX.CHint.prototype.Hide=function(){this.msover=false;if(null!=this.timer)clearTimeout(this.timer);this.timer=setTimeout(BX.proxy(this.__hide,this),this.PARAMS.hide_timeout)};BX.CHint.prototype.__show=function(){};BX.CHint.prototype.__onscroll=function(){if(!BX.admin||!BX.admin.panel||!BX.admin.panel.isFixed())return;if(this.scrollTimer)clearTimeout(this.scrollTimer);this.DIV.style.display="none";this.scrollTimer=setTimeout(BX.proxy(this.Reopen,this),this.PARAMS.show_timeout)};BX.CHint.prototype.Reopen=function(){if(null!=this.timer)clearTimeout(this.timer);this.timer=setTimeout(BX.proxy(this.__show,this),50)};BX.CHint.prototype.__hide=function(){};BX.CHint.prototype.__hide_immediately=function(){this.msover=false;this.__hide()};BX.CHint.prototype.Init=function(){this.DIV=document.body.appendChild(BX.create("DIV",{props:{className:"bx-panel-tooltip"},style:{display:"none",position:"absolute",visibility:"hidden"},children:[this.CONTENT=BX.create("DIV",{props:{className:"bx-panel-tooltip-content"},children:[BX.create("DIV",{props:{className:"bx-panel-tooltip-underlay"},children:[BX.create("DIV",{props:{className:"bx-panel-tooltip-underlay-bg"}})]})]})]}));BX.ZIndexManager.register(this.DIV);if(this.ID){this.CONTENT.insertBefore(BX.create("A",{attrs:{href:"javascript:void(0)"},props:{className:"bx-panel-tooltip-close"},events:{click:BX.delegate(this.Close,this)}}),this.CONTENT.firstChild)}if(this.HINT_TITLE){this.CONTENT.appendChild(BX.create("DIV",{props:{className:"bx-panel-tooltip-title"},text:this.HINT_TITLE}))}if(this.HINT){this.CONTENT_TEXT=this.CONTENT.appendChild(BX.create("DIV",{props:{className:"bx-panel-tooltip-text"}})).appendChild(BX.create("SPAN",{html:this.HINT}))}if(this.PARAMS.preventHide){BX.bind(this.DIV,"mouseout",BX.proxy(this.Hide,this));BX.bind(this.DIV,"mouseover",BX.proxy(this.Show,this))}this.bInited=true};BX.CHint.prototype.setContent=function(e){this.HINT=e;if(this.CONTENT_TEXT)this.CONTENT_TEXT.innerHTML=this.HINT;else this.CONTENT_TEXT=this.CONTENT.appendChild(BX.create("DIV",{props:{className:"bx-panel-tooltip-text"}})).appendChild(BX.create("SPAN",{html:this.HINT}))};BX.CHint.prototype.prepareAdjustPos=function(){this._wnd={scrollPos:BX.GetWindowScrollPos(),scrollSize:BX.GetWindowScrollSize()};return BX.style(this.PARENT,"display")!="none"};BX.CHint.prototype.getAdjustPos=function(){var e={},t=BX.pos(this.PARENT),r=0;e.top=t.bottom+this.PARAMS.dx;if(BX.admin&&BX.admin.panel.DIV){r=BX.admin.panel.DIV.offsetHeight+this.PARAMS.dx;if(BX.admin.panel.isFixed()){r+=this._wnd.scrollPos.scrollTop}}if(e.top<r)e.top=r;else{if(e.top+this.DIV.offsetHeight>this._wnd.scrollSize.scrollHeight)e.top=t.top-this.PARAMS.dx-this.DIV.offsetHeight}e.left=t.left;if(t.left<this.PARAMS.dx)t.left=this.PARAMS.dx;else{var n=this.DIV.offsetWidth;var i=this._wnd.scrollSize.scrollWidth-n-this.PARAMS.dx;if(e.left>i)e.left=i}return e};BX.CHint.prototype.adjustWidth=function(){if(this.bWidthAdjusted)return;var e=this.DIV.offsetWidth,t=this.DIV.offsetHeight;if(e>this.PARAMS.min_width)e=Math.round(Math.sqrt(1.618*e*t));if(e<this.PARAMS.min_width)e=this.PARAMS.min_width;this.DIV.style.width=e+"px";if(this._adjustWidthInt)clearInterval(this._adjustWidthInt);this._adjustWidthInt=setInterval(BX.delegate(this._adjustWidthInterval,this),5);this.bWidthAdjusted=true};BX.CHint.prototype._adjustWidthInterval=function(){if(!this.DIV||this.DIV.style.display=="none")clearInterval(this._adjustWidthInt);var e=20,t=1500,r=this.DIV.offsetWidth,n=this.CONTENT_TEXT.offsetWidth;if(r>0&&n>0&&r-n<e&&r<t){this.DIV.style.width=r+e+"px";return}clearInterval(this._adjustWidthInt)};BX.CHint.prototype.adjustPos=function(){this.adjustWidth();var e=this.getAdjustPos();this.DIV.style.top=e.top+"px";this.DIV.style.left=e.left+"px"};BX.CHint.prototype.Close=function(){if(this.ID&&BX.WindowManager)BX.WindowManager.saveWindowOptions(this.ID,{display:"off"});this.__hide_immediately();this.Destroy()};BX.CHint.prototype.Destroy=function(){};BX.CHint.prototype.enable=function(){this.disabled=false};BX.CHint.prototype.disable=function(){this.__hide_immediately();this.disabled=true};function _adjustWait(){if(!this.bxmsg)return;var e=BX.pos(this),t=e.top;if(t<BX.GetDocElement().scrollTop)t=BX.GetDocElement().scrollTop+5;this.bxmsg.style.top=t+5+"px";if(this==BX.GetDocElement()){this.bxmsg.style.right="5px"}else{this.bxmsg.style.left=e.right-this.bxmsg.offsetWidth-5+"px"}}function _processTpl(e,t,r){if(e){if(r)e.parentNode.removeChild(e);var n={},i=BX.findChildren(e,{attribute:"data-role"},true);for(var a=0,o=i.length;a<o;a++){n[i[a].getAttribute("data-role")]=i[a]}t.apply(e,[n])}}function(){}function(){}if(window.attachEvent)window.attachEvent("onunload",Trash);else if(window.addEventListener)window.addEventListener("unload",Trash,false);else window.onunload=Trash;BX(BX.DoNothing);window.BX=BX;BX.browser.addGlobalClass();BX.data=function(e,t,r){if(typeof e=="undefined")return undefined;if(typeof t=="undefined")return undefined;if(typeof r!="undefined"){dataStorage.set(e,t,r)}else{var n;if((n=dataStorage.get(e,t))!=undefined){return n}else{if("getAttribute"in e){n=e.getAttribute("data-"+t.toString());if(n===null){return undefined}return n}}return undefined}};BX.DataStorage=function(){this.keyOffset=1;this.data={};this.uniqueTag="BX-"+Math.random();this.resolve=function(e,t){if(typeof e[this.uniqueTag]=="undefined")if(t){try{Object.defineProperty(e,this.uniqueTag,{value:this.keyOffset++})}catch(t){e[this.uniqueTag]=this.keyOffset++}}else return undefined;return e[this.uniqueTag]};this.get=function(e,t){if(e!=document&&!BX.type.isElementNode(e)||typeof t=="undefined")return undefined;e=this.resolve(e,false);if(typeof e=="undefined"||typeof this.data[e]=="undefined")return undefined;return this.data[e][t]};this.set=function(e,t,r){if(e!=document&&!BX.type.isElementNode(e)||typeof r=="undefined")return;var n=this.resolve(e,true);if(typeof this.data[n]=="undefined")this.data[n]={};this.data[n][t]=r}};var dataStorage=new BX.DataStorage})(window.BX);(function(){})(window);(function(e){if(e.BX.ajax)return;var t=e.BX,r={},n={method:"GET",dataType:"html",timeout:0,async:true,processData:true,scriptsRunFirst:false,emulateOnload:true,skipAuthCheck:false,start:true,cache:true,preparePost:true,headers:false,lsTimeout:30,lsForce:false},i=null,a={},o=[],s={url_utf:/[^\034-\254]+/g,script_self:/\/bitrix\/js\/main\/core\/core(_ajax)*.js$/i,script_self_window:/\/bitrix\/js\/main\/core\/core_window.js$/i,script_self_admin:/\/bitrix\/js\/main\/core\/core_admin.js$/i,script_onload:/window.onload/g};t.ajax=function(e){var i,a;if(!e||!e.url||!t.type.isString(e.url)){return false}for(var o in r)if(typeof e[o]=="undefined")e[o]=r[o];r={};for(o in n)if(typeof e[o]=="undefined")e[o]=n[o];e.method=e.method.toUpperCase();if(!t.localStorage)e.lsId=null;if(t.browser.IsIE()){var l=s.url_utf.exec(e.url);if(l){do{e.url=e.url.replace(l,t.util.urlencode(l));l=s.url_utf.exec(e.url)}while(l)}}if(e.dataType=="json")e.emulateOnload=false;if(!e.cache&&e.method=="GET")e.url=t.ajax._uncache(e.url);if(e.method=="POST"){if(e.preparePost){e.data=t.ajax.prepareData(e.data)}else if(u(e.headers)==="application/json"){e.data=JSON.stringify(e.data)}}var f=true;if(e.lsId&&!e.lsForce){var c=t.localStorage.get("ajax-"+e.lsId);if(c!==null){f=false;var h=function(r){if(r.key=="ajax-"+e.lsId&&r.value!="BXAJAXWAIT"){var n=r.value,i=!!r.oldValue&&n==null;if(!i)t.ajax.__run(e,n);else if(e.onfailure)e.onfailure("timeout");t.removeCustomEvent("onLocalStorageChange",h)}};if(c=="BXAJAXWAIT"){t.addCustomEvent("onLocalStorageChange",h)}else{setTimeout(function(){h({key:"ajax-"+e.lsId,value:c})},10)}}}if(f){e.xhr=t.ajax.xhr();if(!e.xhr)return;if(e.lsId){t.localStorage.set("ajax-"+e.lsId,"BXAJAXWAIT",e.lsTimeout)}if(t.Type.isFunction(e.onprogress)){t.bind(e.xhr,"progress",e.onprogress)}if(t.Type.isFunction(e.onprogressupload)&&e.xhr.upload){t.bind(e.xhr.upload,"progress",e.onprogressupload)}e.xhr.open(e.method,e.url,e.async);if(!e.skipBxHeader&&!t.ajax.isCrossDomain(e.url)){e.xhr.setRequestHeader("Bx-ajax","true")}if(e.method=="POST"&&e.preparePost){e.xhr.setRequestHeader("Content-Type","application/x-www-form-urlencoded")}if(typeof e.headers=="object"){for(o=0;o<e.headers.length;o++)e.xhr.setRequestHeader(e.headers[o].name,e.headers[o].value)}var v=false;var d=e.xhr.onreadystatechange=function(r){if(v)return;if(r==="timeout"){if(e.onfailure){e.onfailure("timeout","",e)}t.onCustomEvent(e.xhr,"onAjaxFailure",["timeout","",e]);e.xhr.onreadystatechange=t.DoNothing;e.xhr.abort();if(e.async){e.xhr=null}}else{if(e.xhr.readyState==4||r=="run"){i=t.ajax.xhrSuccess(e.xhr)?"success":"error";v=true;e.xhr.onreadystatechange=t.DoNothing;if(i=="success"){var n=!!e.skipAuthCheck||t.ajax.isCrossDomain(e.url)?false:e.xhr.getResponseHeader("X-Bitrix-Ajax-Status");if(!!n&&n=="Authorize"){if(e.onfailure){e.onfailure("auth",e.xhr.status,e)}t.onCustomEvent(e.xhr,"onAjaxFailure",["auth",e.xhr.status,e])}else{var a=e.xhr.responseText;if(e.lsId){t.localStorage.set("ajax-"+e.lsId,a,e.lsTimeout)}t.ajax.__run(e,a)}}else{if(e.onfailure){e.onfailure("status",e.xhr.status,e)}t.onCustomEvent(e.xhr,"onAjaxFailure",["status",e.xhr.status,e])}if(e.async){e.xhr=null}}}};if(e.async&&e.timeout>0){setTimeout(function(){if(e.xhr&&!v){d("timeout")}},e.timeout*1e3)}if(e.start){e.xhr.send(e.data);if(!e.async){d("run")}}return e.xhr}};t.ajax.xhr=function(){if(e.XMLHttpRequest){try{return new XMLHttpRequest}catch(e){}}else if(e.ActiveXObject){try{return new e.ActiveXObject("Msxml2.XMLHTTP.6.0")}catch(e){}try{return new e.ActiveXObject("Msxml2.XMLHTTP.3.0")}catch(e){}try{return new e.ActiveXObject("Msxml2.XMLHTTP")}catch(e){}try{return new e.ActiveXObject("Microsoft.XMLHTTP")}catch(e){}throw new Error("This browser does not support XMLHttpRequest.")}return null};t.ajax.isCrossDomain=function(r,n){n=n||e.location;if(r.indexOf("//")===0){r=n.protocol+r}if(r.indexOf("http")!==0){return false}var i=e.document.createElement("a");i.href=r;return i.protocol!==n.protocol||i.hostname!==n.hostname||t.ajax.getHostPort(i.protocol,i.host)!==t.ajax.getHostPort(n.protocol,n.host)};t.ajax.getHostPort=function(e,t){var r=/:(\d+)$/.exec(t);if(r){return r[1]}else{if(e==="http:"){return"80"}else if(e==="https:"){return"443"}}return""};t.ajax.__prepareOnload=function(r){if(r.length>0){t.ajax["onload_"+i]=null;for(var n=0,a=r.length;n<a;n++){if(r[n].isInternal){r[n].JS=r[n].JS.replace(s.script_onload,"BX.ajax.onload_"+i)}}}t.CaptureEventsGet();t.CaptureEvents(e,"load")};t.ajax.__runOnload=function(){if(null!=t.ajax["onload_"+i]){t.ajax["onload_"+i].apply(e);t.ajax["onload_"+i]=null}var r=t.CaptureEventsGet();if(r){for(var n=0;n<r.length;n++)r[n].apply(e)}};t.ajax.__run=function(e,r){if(!e.processData){if(e.onsuccess){e.onsuccess(r)}t.onCustomEvent(e.xhr,"onAjaxSuccess",[r,e])}else{r=t.ajax.processRequestData(r,e)}};t.ajax._onParseJSONFailure=function(e){this.jsonFailure=true;this.jsonResponse=e;this.jsonProactive=/^\[WAF\]/.test(e)};t.ajax.processRequestData=function(){};t.ajax.processScripts=function(e,r,n){var i=[],a="";n=n||t.DoNothing;for(var o=0,s=e.length;o<s;o++){if(typeof r!="undefined"&&r!=!!e[o].bRunFirst)continue;if(e[o].isInternal)a+=";"+e[o].JS;else i.push(e[o].JS)}i=t.util.array_unique(i);var u=a.length>0?function(){t.evalGlobal(a)}:t.DoNothing;if(i.length>0){t.load(i,function(){u();n()})}else{u();n()}};t.ajax.prepareData=function(e,r){var n="";if(t.type.isString(e))n=e;else if(null!=e){for(var i in e){if(e.hasOwnProperty(i)){if(n.length>0)n+="&";var a=t.util.urlencode(i);if(r)a=r+"["+a+"]";if(typeof e[i]=="object")n+=t.ajax.prepareData(e[i],a);else n+=a+"="+t.util.urlencode(e[i])}}}return n};t.ajax.xhrSuccess=function(e){return e.status>=200&&e.status<300||e.status===304||e.status===1223||e.status===0};t.ajax.Setup=function(e,t){t=!!t;for(var i in e){if(t)r[i]=e[i];else n[i]=e[i]}};t.ajax.replaceLocalStorageValue=function(e,r,n){if(!!t.localStorage)t.localStorage.set("ajax-"+e,r,n)};t.ajax._uncache=function(e){return e+((e.indexOf("?")!==-1?"&":"?")+"_="+(new Date).getTime())};t.ajax.get=function(e,r,n){if(t.type.isFunction(r)){n=r;r=""}r=t.ajax.prepareData(r);if(r){e+=(e.indexOf("?")!==-1?"&":"?")+r;r=""}return t.ajax({method:"GET",dataType:"html",url:e,data:"",onsuccess:n})};t.ajax.getCaptcha=function(e){return t.ajax.loadJSON("/bitrix/tools/ajax_captcha.php",e)};t.ajax.insertToNode=function(e,n){n=t(n);if(!!n){var i={cancel:false};t.onCustomEvent("onAjaxInsertToNode",[{url:e,node:n,eventArgs:i}]);if(i.cancel===true){return}var a=null;if(!r.denyShowWait){a=t.showWait(n);delete r.denyShowWait}return t.ajax.get(e,function(e){n.innerHTML=e;t.closeWait(n,a)})}};t.ajax.post=function(e,r,n){r=t.ajax.prepareData(r);return t.ajax({method:"POST",dataType:"html",url:e,data:r,onsuccess:n})};t.ajax.promise=function(e){var r=new t.Promise;e.onsuccess=function(e){r.fulfill(e)};e.onfailure=function(e,t){r.reject({reason:e,data:t})};var n=t.ajax(e);if(n){if(typeof e.onrequeststart==="function"){e.onrequeststart(n)}}else{r.reject({reason:"init",data:false})}return r};t.ajax.loadScriptAjax=function(e,r,n){if(t.type.isArray(e)){for(var i=0,o=e.length;i<o;i++){t.ajax.loadScriptAjax(e[i],r,n)}}else{var u=e.replace(/\.js\?.*/,".js");if(s.script_self.test(u))return;if(s.script_self_window.test(u)&&t.CWindow)return;if(s.script_self_admin.test(u)&&t.admin)return;if(typeof a[u]=="undefined"){if(!!n){a[u]="";return t.loadScript(e)}else{return t.ajax({url:e,method:"GET",dataType:"script",processData:true,emulateOnload:false,scriptsRunFirst:true,async:false,start:true,onsuccess:function(e){a[u]=e;if(r)r(e)}})}}else if(r){r(a[u])}}};t.ajax.loadJSON=function(e,r,n,i){if(t.type.isFunction(r)){i=n;n=r;r=""}r=t.ajax.prepareData(r);if(r){e+=(e.indexOf("?")!==-1?"&":"?")+r;r=""}return t.ajax({method:"GET",dataType:"json",url:e,onsuccess:n,onfailure:i})};var u=function(){};var l=function(){};var f=function(e){e=t.type.isPlainObject(e)?e:{};e.headers=e.headers||[];e.headers.push({name:"X-Bitrix-Csrf-Token",value:t.bitrix_sessid()});if(t.message.SITE_ID){e.headers.push({name:"X-Bitrix-Site-Id",value:t.message.SITE_ID})}if(typeof e.json!=="undefined"){if(!t.type.isPlainObject(e.json)){throw new Error("Wrong `config.json`, plain object expected.")}e.headers.push({name:"Content-Type",value:"application/json"});e.data=e.json;e.preparePost=false}else if(e.data instanceof FormData){e.preparePost=false;if(typeof e.signedParameters!=="undefined"){e.data.append("signedParameters",e.signedParameters)}}else if(t.type.isPlainObject(e.data)||t.Type.isNil(e.data)){e.data=t.type.isPlainObject(e.data)?e.data:{};if(typeof e.signedParameters!=="undefined"){e.data.signedParameters=e.signedParameters}}if(!e.method){e.method="POST"}return e};var c=function(e,r){r=r||false;var n=t.clone(e);var i=null;var a=e.onrequeststart;e.onrequeststart=function(e){i=e;if(t.type.isFunction(a)){a(e)}};var o=n.onrequeststart;n.onrequeststart=function(){};var s=t.ajax.promise(e);return s.then(function(e){if(!r&&t.type.isPlainObject(e)&&t.type.isArray(e.errors)){var i=false;e.errors.forEach(function(e){if(e.code==="invalid_csrf"&&e.customData.csrf){t.message({bitrix_sessid:e.customData.csrf});n.headers=n.headers||[];n.headers=n.headers.filter(function(e){return e&&e.name!=="X-Bitrix-Csrf-Token"});n.headers.push({name:"X-Bitrix-Csrf-Token",value:t.bitrix_sessid()});i=true}});if(i){return c(n,true)}}if(!t.type.isPlainObject(e)||e.status!=="success"){var a=new t.Promise;a.reject(e);return a}return e}).catch(function(){}).then(function(e){var r=new t.Promise;var n=i.getAllResponseHeaders().trim().split(/[\r\n]+/);var a={};n.forEach(function(){});if(!a["x-process-assets"]){r.fulfill(e);return r}var o=t.prop.getObject(t.prop.getObject(e,"data",{}),"assets",{});var s=new Promise(function(){});s.then(function(){var n=t.prop.getArray(o,"string",[]);var i=n.join("\n");t.html(document.head,i,{useAdjacentHTML:true}).then(function(){r.fulfill(e)})});return r})};t.ajax.runAction=function(e,r){r=f(r);var n=l(r);n.action=e;var i="/bitrix/services/main/ajax.php?"+t.ajax.prepareData(n);return c({method:r.method,dataType:"json",url:i,data:r.data,timeout:r.timeout,preparePost:r.preparePost,headers:r.headers,onrequeststart:r.onrequeststart,onprogress:r.onprogress,onprogressupload:r.onprogressupload})};t.ajax.runComponentAction=function(e,r,n){n=f(n);n.mode=n.mode||"ajax";var i=l(n);i.c=e;i.action=r;var a="/bitrix/services/main/ajax.php?"+t.ajax.prepareData(i);return c({method:n.method,dataType:"json",url:a,data:n.data,timeout:n.timeout,preparePost:n.preparePost,headers:n.headers,onrequeststart:n.onrequeststart?n.onrequeststart:null,onprogress:n.onprogress,onprogressupload:n.onprogressupload})};t.ajax.load=function(e,r){if(!t.type.isArray(e))e=[e];var n=0;if(!t.type.isFunction(r))r=t.DoNothing;var i=function(e){if(t.type.isFunction(this.callback))this.callback(e);if(++n>=o)r()};for(var a=0,o=e.length;a<o;a++){switch(e[a].type.toUpperCase()){case"SCRIPT":t.loadScript([e[a].url],t.proxy(i,e[a]));break;case"CSS":t.loadCSS([e[a].url]);if(++n>=o)r();break;case"JSON":t.ajax.loadJSON(e[a].url,t.proxy(i,e[a]));break;default:t.ajax.get(e[a].url,"",t.proxy(i,e[a]));break}}};t.ajax.submit=function(e,r){if(!e.target){if(null==e.BXFormTarget){var n="formTarget_"+Math.random();e.BXFormTarget=document.body.appendChild(t.create("IFRAME",{props:{name:n,id:n,src:"javascript:void(0)"},style:{display:"none"}}))}e.target=e.BXFormTarget.name}e.BXFormCallback=r;t.bind(e.BXFormTarget,"load",t.proxy(t.ajax._submit_callback,e));t.submit(e);return false};t.ajax.submitComponentForm=function(r,n,i){if(!r.target){if(null==r.BXFormTarget){var a="formTarget_"+Math.random();r.BXFormTarget=document.body.appendChild(t.create("IFRAME",{props:{name:a,id:a,src:"javascript:void(0)"},style:{display:"none"}}))}r.target=r.BXFormTarget.name}if(!!i)var o=t.showWait(n);r.BXFormCallback=function(r){if(!!i)t.closeWait(o);var a=function(){if(!!e.bxcompajaxframeonload){setTimeout(function(){e.bxcompajaxframeonload();e.bxcompajaxframeonload=null},10)}};t(n).innerHTML=r;t.onCustomEvent("onAjaxSuccess",[null,null,a])};t.bind(r.BXFormTarget,"load",t.proxy(t.ajax._submit_callback,r));return true};t.ajax._submit_callback=function(){try{if(this.BXFormTarget.contentWindow.location.href.indexOf("http")!=0)return}catch(e){return}if(this.BXFormCallback)this.BXFormCallback.apply(this,[this.BXFormTarget.contentWindow.document.body.innerHTML]);t.unbindAll(this.BXFormTarget)};t.ajax.prepareForm=function(){};t.ajax.submitAjax=function(r,n){n=n!==null&&typeof n=="object"?n:{};n.url=n["url"]||r.getAttribute("action");var i=n["data"]||{};n.data=t.ajax.prepareForm(r).data;for(var a in i){if(i.hasOwnProperty(a)){n.data[a]=i[a]}}if(!e["FormData"]){t.ajax(n)}else{var o=function(e){var t=Object.prototype.toString.call(e);return t=="[object File]"||t=="[object Blob]"},s=function(e,t,r){if(!!r&&typeof r=="object"&&!o(r)){for(var n in r){if(r.hasOwnProperty(n)){s(e,t==""?n:t+"["+n+"]",r[n])}}}else e.append(t,!!r?r:"")},u=function(e){var r={};if(null!=e){if(typeof e=="object"){for(var n in e){if(e.hasOwnProperty(n)){var i=t.util.urlencode(n);if(typeof e[n]=="object"&&e[n]["file"]!==true)r[i]=u(e[n]);else if(e[n]["file"]===true)r[i]=e[n]["value"];else r[i]=t.util.urlencode(e[n])}}}else r=t.util.urlencode(e)}return r},l=new e.FormData;if(n.method!=="POST"){n.data=t.ajax.prepareData(n.data);if(n.data){n.url+=(n.url.indexOf("?")!==-1?"&":"?")+n.data;n.data=""}}else{if(n.preparePost===true)n.data=u(n.data);s(l,"",n.data);n.data=l}n.preparePost=false;n.start=false;var f=t.ajax(n);if(!!n["onprogress"])f.upload.addEventListener("progress",function(e){var t=null;if(e.lengthComputable&&(e.total||e["totalSize"])){t=e.loaded*100/(e.total||e["totalSize"])}n["onprogress"](e,t)});f.send(l)}};t.ajax.UpdatePageData=function(e){if(e.TITLE)t.ajax.UpdatePageTitle(e.TITLE);if(e.WINDOW_TITLE||e.TITLE)t.ajax.UpdateWindowTitle(e.WINDOW_TITLE||e.TITLE);if(e.NAV_CHAIN)t.ajax.UpdatePageNavChain(e.NAV_CHAIN);if(e.CSS&&e.CSS.length>0)t.loadCSS(e.CSS);if(e.SCRIPTS&&e.SCRIPTS.length>0){var r=function(n,i,a){if(!!i&&t.type.isArray(i.scripts)){for(var o=0,s=e.SCRIPTS.length;o<s;o++){i.scripts.push({isInternal:false,JS:e.SCRIPTS[o]})}}else{t.loadScript(e.SCRIPTS,a)}t.removeCustomEvent("onAjaxSuccess",r)};t.addCustomEvent("onAjaxSuccess",r)}else{var n=function(e,r,i){if(t.type.isFunction(i)){i()}t.removeCustomEvent("onAjaxSuccess",n)};t.addCustomEvent("onAjaxSuccess",n)}};t.ajax.UpdatePageTitle=function(e){var r=t("pagetitle");if(r){t.remove(r.firstChild);if(!r.firstChild)r.appendChild(document.createTextNode(e));else r.insertBefore(document.createTextNode(e),r.firstChild)}};t.ajax.UpdateWindowTitle=function(e){document.title=e};t.ajax.UpdatePageNavChain=function(e){var r=t("navigation");if(r){r.innerHTML=e}};t.userOptions={options:null,bSend:false,delay:5e3,path:"/bitrix/admin/user_options.php?"};t.userOptions.setAjaxPath=function(e){t.userOptions.path=e.indexOf("?")==-1?e+"?":e+"&"};t.userOptions.save=function(){};t.userOptions.send=function(e){var r=t.userOptions.__get();t.userOptions.options=null;t.userOptions.bSend=false;if(r!=""){document.cookie=t.message("COOKIE_PREFIX")+"_LAST_SETTINGS=; path=/;";t.ajax({method:"GET",dataType:"html",processData:false,cache:false,url:t.userOptions.path+r+"&sessid="+t.bitrix_sessid(),onsuccess:e})}};t.userOptions.del=function(e,r,n,i){t.ajax.get(t.userOptions.path+"action=delete&c="+e+"&n="+r+(n==true?"&common=Y":"")+"&sessid="+t.bitrix_sessid(),i)};t.userOptions.__get=function(){};t.ajax.history={expected_hash:"",obParams:null,obFrame:null,obImage:null,obTimer:null,bInited:false,bHashCollision:false,bPushState:!!(history.pushState&&t.type.isFunction(history.pushState)),startState:null,init:function(r){if(t.ajax.history.bInited)return;this.obParams=r;var n=this.obParams.getState();if(t.ajax.history.bPushState){t.ajax.history.expected_hash=e.location.pathname;if(e.location.search)t.ajax.history.expected_hash+=e.location.search;t.ajax.history.put(n,t.ajax.history.expected_hash,"",true);setTimeout(function(){t.bind(e,"popstate",t.ajax.history.__hashListener)},500)}else{t.ajax.history.expected_hash=e.location.hash;if(!t.ajax.history.expected_hash||t.ajax.history.expected_hash=="#")t.ajax.history.expected_hash="__bx_no_hash__";h.put(t.ajax.history.expected_hash,n);t.ajax.history.obTimer=setTimeout(t.ajax.history.__hashListener,500);if(t.browser.IsIE()){t.ajax.history.obFrame=document.createElement("IFRAME");t.hide_object(t.ajax.history.obFrame);document.body.appendChild(t.ajax.history.obFrame);t.ajax.history.obFrame.contentWindow.document.open();t.ajax.history.obFrame.contentWindow.document.write(t.ajax.history.expected_hash);t.ajax.history.obFrame.contentWindow.document.close()}else if(t.browser.IsOpera()){t.ajax.history.obImage=document.createElement("IMG");t.hide_object(t.ajax.history.obImage);document.body.appendChild(t.ajax.history.obImage);t.ajax.history.obImage.setAttribute("src","javascript:location.href = 'javascript:BX.ajax.history.__hashListener();';")}}t.ajax.history.bInited=true},__hashListener:function(r){r=r||e.event||{state:false};if(t.ajax.history.bPushState){t.ajax.history.obParams.setState(r.state||t.ajax.history.startState)}else{if(t.ajax.history.obTimer){e.clearTimeout(t.ajax.history.obTimer);t.ajax.history.obTimer=null}var n;if(null!=t.ajax.history.obFrame)n=t.ajax.history.obFrame.contentWindow.document.body.innerText;else n=e.location.hash;if(!n||n=="#")n="__bx_no_hash__";if(n.indexOf("#")==0)n=n.substring(1);if(n!=t.ajax.history.expected_hash){var i=h.get(n);if(i){t.ajax.history.obParams.setState(i);t.ajax.history.expected_hash=n;if(null!=t.ajax.history.obFrame){var a=n=="__bx_no_hash__"?"":n;if(e.location.hash!=a&&e.location.hash!="#"+a)e.location.hash=a}}}t.ajax.history.obTimer=setTimeout(t.ajax.history.__hashListener,500)}},put:function(r,n,i,a){if(this.bPushState){if(!a){history.pushState(r,"",n)}else{t.ajax.history.startState=r}}else{if(typeof i!="undefined")n=i;else n="view"+n;h.put(n,r);t.ajax.history.expected_hash=n;e.location.hash=t.util.urlencode(n);if(null!=t.ajax.history.obFrame){t.ajax.history.obFrame.contentWindow.document.open();t.ajax.history.obFrame.contentWindow.document.write(n);t.ajax.history.obFrame.contentWindow.document.close()}}},checkRedirectStart:function(r,n){var i=e.location.hash;if(i.substring(0,1)=="#")i=i.substring(1);var a=i.substring(0,5);if(a=="view/"||a=="view%"){t.ajax.history.bHashCollision=true;document.write("<"+'div id="__ajax_hash_collision_'+n+'" style="display: none;">')}},checkRedirectFinish:function(r,n){document.write("</div>");var i=e.location.hash;if(i.substring(0,1)=="#")i=i.substring(1);t.ready(function(){var e=i.substring(0,5);if(e=="view/"||e=="view%"){var a=t("__ajax_hash_collision_"+n);var o=a.firstChild;t.cleanNode(o);a.style.display="block";if(e!="view%")i=t.util.urlencode(i);i+=(i.indexOf("%3F")==-1?"%3F":"%26")+r+"="+n;var s="/bitrix/tools/ajax_redirector.php?hash="+i;t.ajax.insertToNode(s,o)}})}};t.ajax.component=function(e){this.node=e};t.ajax.component.prototype.getState=function(){var r={node:this.node,title:e.document.title,data:t(this.node).innerHTML};var n=t("navigation");if(null!=n)r.nav_chain=n.innerHTML;t.onCustomEvent(t(r.node),"onComponentAjaxHistoryGetState",[r]);return r};t.ajax.component.prototype.setState=function(e){t(e.node).innerHTML=e.data;t.ajax.UpdatePageTitle(e.title);if(e.nav_chain){t.ajax.UpdatePageNavChain(e.nav_chain)}t.onCustomEvent(t(e.node),"onComponentAjaxHistorySetState",[e])};var h={arHistory:{},put:function(e,t){this.arHistory[e]=t},get:function(e){return this.arHistory[e]}};t.ajax.FormData=function(){this.elements=[];this.files=[];this.features={};this.isSupported();this.log("BX FormData init")};t.ajax.FormData.isSupported=function(){var e=new t.ajax.FormData;var r=e.features.supported;e=null;return r};t.ajax.FormData.prototype.log=function(e){if(false){try{if(t.browser.IsIE())e=JSON.stringify(e);console.log(e)}catch(e){}}};t.ajax.FormData.prototype.isSupported=function(){var t={};t.fileReader=e.FileReader&&e.FileReader.prototype.readAsBinaryString;t.readFormData=t.sendFormData=!!e.FormData;t.supported=!!(t.readFormData&&t.sendFormData);this.features=t;this.log("features:");this.log(t);return t.supported};t.ajax.FormData.prototype.append=function(e,t){if(typeof t==="object"){this.files.push({name:e,value:t})}else{this.elements.push({name:e,value:t})}};t.ajax.FormData.prototype.send=function(e,r,n,i){this.log("FD send");this.xhr=t.ajax({method:"POST",dataType:"html",url:e,onsuccess:r,onfailure:i,start:false,preparePost:false});if(n){this.xhr.upload.addEventListener("progress",function(e){if(e.lengthComputable)n(e.loaded/(e.total||e.totalSize))},false)}if(this.features.readFormData&&this.features.sendFormData){var a=new FormData;this.log("use browser formdata");for(var o in this.elements){if(this.elements.hasOwnProperty(o))a.append(this.elements[o].name,this.elements[o].value)}for(o in this.files){if(this.files.hasOwnProperty(o))a.append(this.files[o].name,this.files[o].value)}this.xhr.send(a)}return this.xhr};t.addCustomEvent("onAjaxFailure",t.debug)})(window);(function(){})(this.BX=this.BX||{},BX);(function(){})(this.BX=this.BX||{});(function(){}