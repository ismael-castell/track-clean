/*! Raygun4js - v2.21.1 - 2021-01-26
* https://github.com/MindscapeHQ/raygun4js
* Copyright (c) 2021 MindscapeHQ; Licensed MIT */

!function(b){var p,s,t,r,u,c,i,a,d={},e=b.TraceKit,o=[].slice,h="?";function y(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function l(e){return void 0===e}function(){}function n(e,t,n,i,r){var a,o=null;return r?o=d.computeStackTrace(r):c?(d.computeStackTrace.augmentStackTraceWithInitialElement(c,t,n,e),o=c,u=c=null):((a={url:t,line:n,column:i}).func=d.computeStackTrace.guessFunctionName(a.url,a.line),a.context=d.computeStackTrace.gatherContext(a.url,a.line),o={mode:"onerror",message:e,url:document.location.href,stack:[a],useragent:navigator.userAgent}),f(o,"from window.onerror"),!!s&&s.apply(this,arguments)}function g(e){var t;if("undefined"!=typeof document&&(t=o.call(arguments,1)),c){if(u===e)return;var n=c;f.apply(u=c=null,[n,null].concat(t))}var i=d.computeStackTrace(e);if(c=i,u=e,b.setTimeout(function(){u===e&&f.apply(u=c=null,[i,null].concat(t))},i.incomplete?2e3:0),!p.Utilities.isReactNative())throw e}function v(e){var t,n;return y(a,e)||(t="",e=e||"",n="undefined"!=typeof document?document.domain:b.location.hostname,e.indexOf&&-1!==e.indexOf(n)&&(t="string"!=typeof e?[]:""),a[e]=t?t.split("\n"):[]),a[e]}function(){}function S(e,t){var n=v(e);if(!n.length)return null;var i=[],r=Math.floor(d.linesOfContext/2),e=r+d.linesOfContext%2,r=Math.max(0,t-r-1),a=Math.min(n.length,t+e-1);--t;for(var o=r;o<a;++o)l(n[o])||i.push(n[o]);return 0<i.length?i:null}function m(e){return e.replace(/[\-\[\]{}()*+?.,\\\^$|#]/g,"\\$&")}function(){}function(){}function w(e,t,n){var i,t=v(t),e=new RegExp("\\b"+m(e)+"\\b");return--n,t&&t.length>n&&(i=e.exec(t[n]))?i.index:null}function x(e,t,n,i){n={url:t,line:n};if(n.url&&n.line){e.incomplete=!1,n.func||(n.func=U(n.url,n.line)),n.context||(n.context=S(n.url,n.line));i=/ '([^']+)' /.exec(i);if(i&&(n.column=w(i[1],n.url,n.line)),0<e.stack.length&&e.stack[0].url===n.url){if(e.stack[0].line===n.line)return!1;if(!e.stack[0].line&&e.stack[0].func===n.func)return e.stack[0].line=n.line,e.stack[0].context=n.context,!1}return e.stack.unshift(n),e.partial=!0}return!(e.incomplete=!0)}function E(e,t){for(var n,i,r,a,o=/function\s+([_$a-zA-Z\xA0-\uFFFF][_$a-zA-Z0-9\xA0-\uFFFF]*)?\s*\(/i,s=[],u={},c=!1,l=E.caller;l&&!c;l=l.caller)if(l!==A&&l!==d.report){if(i={url:null,func:h,line:null,column:null},l.name?i.func=l.name:(n=o.exec(l.toString()))&&(i.func=n[1]),void 0===i.func)try{i.func=n.input.substring(0,n.input.indexOf("{"))}catch(e){}(r=function(e){for(var t,n,i,r=[b.location.href],a=document.getElementsByTagName("script"),o=""+e,s=0;s<a.length;++s){var u=a[s];u.src&&r.push(u.src)}if(n=R((t=/^function(?:\s+([\w$]+))?\s*\(([\w\s,]*)\)\s*\{\s*(\S[\s\S]*\S)\s*\}\s*$/.exec(o))?(e=t[1]?"\\s+"+t[1]:"",n=t[2].split(",").join("\\s*,\\s*"),i=m(t[3]).replace(/;$/,";?"),new RegExp("function"+e+"\\s*\\(\\s*"+n+"\\s*\\)\\s*{\\s*"+i+"\\s*}")):new RegExp(m(o).replace(/\s+/g,"\\s+")),r))return n;if(t=/^function on([\w$]+)\s*\(event\)\s*\{\s*(\S[\s\S]*\S)\s*\}\s*$/.exec(o)){o=t[1];if(i=k(t[2]),n=R(new RegExp("on"+o+"=[\\'\"]\\s*"+i+"\\s*[\\'\"]","i"),r[0]))return n;if(n=R(new RegExp(i),r))return n}return null}(l))&&(i.url=r.url,i.line=r.line,i.func===h&&(i.func=U(i.url,i.line)),(a=/ '([^']+)' /.exec(e.message||e.description))&&(i.column=w(a[1],r.url,r.line))),u[""+l]?c=!0:u[""+l]=!0,s.push(i)}t&&s.splice(0,t);t={mode:"callers",name:e.name,message:e.message,url:document.location.href,stack:s,useragent:navigator.userAgent};return x(t,e.sourceURL||e.fileName,e.line||e.lineNumber,e.message||e.description),t}function A(e,t){var n=null;t=null==t?0:+t;try{if(n=function(e){for(var t,n=e.stacktrace,i=/ line (\d+), column (\d+) in (?:<anonymous function: ([^>]+)>|([^\)]+))\((.*)\) in (.*):\s*$/i,r=n?n.split("\n"):[],a=[],o=0,s=r.length;o<s;o+=2)if(t=i.exec(r[o])){var u={line:+t[1],column:+t[2],func:t[3]||t[4],args:t[5]?t[5].split(","):[],url:t[6]};if(!u.func&&u.line&&(u.func=U(u.url,u.line)),u.line)try{u.context=S(u.url,u.line)}catch(e){}u.context||(u.context=[r[o+1]]),a.push(u)}return a.length?{mode:"stacktrace",name:e.name,message:e.message,url:document.location.href,stack:a,useragent:navigator.userAgent,stackstring:n}:null}(e))return n}catch(e){if(i)throw e}try{if(n=function(e){if(!e.stack)return null;var t,n=/^\s*at (.*?) ?\(((?:file|https?|\s*|blob|chrome-extension|native|webpack|ionic|app|eval|<anonymous>|\/).*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,i=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)((?:file|https?|blob|chrome|webpack|ionic|app|\[native).*?|[^@]*bundle)(?::(\d+))?(?::(\d+))?\s*$/i,r=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:ms-appx|https?|webpack|blob):.*?):(\d+)(?::(\d+))?\)?\s*$/i,a=e.stack.split("\n"),o=[],s=/^(.*) is undefined$/.exec(e.message);if(p.Utilities.isReactNative())for(var u,c,l,d=/^(.*@)?.*\/[^\.]+(\.app|CodePush)\/?(.*)/,f=0;f<a.length;f++)null!==(l=d.exec(a[f]))&&(u=l[1]||"anonymous@",c=l[3],a[f]=u+"file://reactnative.local/"+c);for(var f=0,g=a.length;f<g;++f){if(l=i.exec(a[f]))t={url:l[3],func:l[1]||h,args:l[2]?l[2].split(","):"",line:+l[4],column:l[5]?+l[5]:null};else if(l=n.exec(a[f]))t={url:l[2],func:l[1]||h,line:+l[3],column:l[4]?+l[4]:null};else{if(!(l=r.exec(a[f])))continue;t={url:l[2],func:l[1]||h,line:+l[3],column:l[4]?+l[4]:null}}!t.func&&t.line&&(t.func=U(t.url,t.line)),"undefined"!=typeof document&&t.line&&(t.context=S(t.url,t.line)),o.push(t)}return o[0]&&o[0].line&&!o[0].column&&s?o[0].column=w(s[1],o[0].url,o[0].line):o[0].column||void 0===e.columnNumber||(o[0].column=e.columnNumber+1),o.length?{mode:"stack",name:e?e.name:"",message:e?e.message:"",url:"undefined"!=typeof document?document.location.href:"",stack:o,useragent:navigator?navigator.userAgent:"",stackstring:e&&e.stack?e.stack.toString():""}:null}(e))return n}catch(e){if(i)throw e}try{if(n=function(e){var t=e.message.split("\n");if(t.length<4)return null;var n,i,r,a=/^\s*Line (\d+) of linked script ((?:file|http|https)\S+)(?:: in function (\S+))?\s*$/i,o=/^\s*Line (\d+) of inline#(\d+) script in ((?:file|http|https)\S+)(?:: in function (\S+))?\s*$/i,s=/^\s*Line (\d+) of function script\s*$/i,u=[],c=document.getElementsByTagName("script"),l=[];for(i in c)y(c,i)&&!c[i].src&&l.push(c[i]);for(i=2,r=t.length;i<r;i+=2){var d,f,g,p,h,m=null;(n=a.exec(t[i]))?m={url:n[2],func:n[3],line:+n[1]}:(n=o.exec(t[i]))?(m={url:n[3],func:n[4]},d=+n[1],(f=l[n[2]-1])&&(!(g=v(m.url))||0<=(f=(g=g.join("\n")).indexOf(f.innerText))&&(m.line=d+g.substring(0,f).split("\n").length))):(n=s.exec(t[i]))&&(p=b.location.href.replace(/#.*$/,""),h=n[1],m={url:p,line:(g=R(new RegExp(k(t[i+1])),[p]))?g.line:h,func:""}),m&&(m.func||(m.func=U(m.url,m.line)),h=(p=S(m.url,m.line))?p[Math.floor(p.length/2)]:null,p&&h.replace(/^\s*/,"")===t[i+1].replace(/^\s*/,"")?m.context=p:m.context=[t[i+1]],u.push(m))}return u.length?{mode:"multiline",name:e.name,message:t[0],url:document.location.href,stack:u,useragent:navigator.userAgent}:null}(e))return n}catch(e){if(i)throw e}try{if(n=E(e,t+1))return n}catch(e){if(i)throw e}return{tracekitResult:"failedToComputeAnyStackTrace"}}d.setRaygun=function(){},d.noConflict=function(){return b.TraceKit=e,d},d.wrap=function(){},d.report=(r=[],c=u=null,g.subscribe=function(){},g.unsubscribe=function(){},g),d.computeStackTrace=(i=!1,a={},A.augmentStackTraceWithInitialElement=x,A.guessFunctionName=U,A.gatherContext=S,A.ofCaller=function(){},A),d.extendToAsynchronousCallbacks=function(){function e(e){var n=b[e];b[e]=function(){}}e("setTimeout"),e("setInterval")},d.remoteFetching||(d.remoteFetching=!0),d.collectWindowErrors||(d.collectWindowErrors=!0),(!d.linesOfContext||d.linesOfContext<1)&&(d.linesOfContext=11),b.TraceKit=d}(window),function(o,s){"use strict";var u,t,r;o&&o.event&&o.event.add&&(u=o.event.add,o.event.add=function(e,t,n,i,r){return"function"!=typeof n&&"function"!=typeof n.handler||(n.handler?(a=n.handler,n.handler=s.wrap(n.handler)):(a=n,n=s.wrap(n)),a.guid?n.guid=a.guid:n.guid=a.guid=o.guid++),u.call(this,e,t,n,i,r);var a},t=o.fn.ready,o.fn.ready=function(){},r=o.ajax,o.ajax=function(){})}(window.jQuery,window.TraceKit),Date.prototype.toISOString||function(){function e(e){e=String(e);return e=1===e.length?"0"+e:e}Date.prototype.toISOString=function(){}}(),Array.prototype.indexOf||(Array.prototype.indexOf=function(e,t){var n;if(null==this)throw new TypeError('"this" is null or not defined');var i=Object(this),r=i.length>>>0;if(0==r)return-1;t|=0;if(r<=t)return-1;for(n=Math.max(0<=t?t:r-Math.abs(t),0);n<r;){if(n in i&&i[n]===e)return n;n++}return-1}),Array.prototype.map||(Array.prototype.map=function(e){var t,n,i;if(null==this)throw new TypeError("this is null or not defined");var r,a=Object(this),o=a.length>>>0;if("function"!=typeof e)throw new TypeError(e+" is not a function");for(1<arguments.length&&(t=arguments[1]),n=new Array(o),i=0;i<o;)i in a&&(r=a[i],r=e.call(t,r,i,a),n[i]=r),i++;return n}),Array.prototype.forEach||(Array.prototype.forEach=function(e){var t,n;if(null==this)throw new TypeError("this is null or not defined");var i,r=Object(this),a=r.length>>>0;if("function"!=typeof e)throw new TypeError(e+" is not a function");for(1<arguments.length&&(t=arguments[1]),n=0;n<a;)n in r&&(i=r[n],e.call(t,i,n,r)),n++}),Function.prototype.bind||(Function.prototype.bind=function(){}),window.raygunUtilityFactory=function(d,n){var i,e={getUuid:function(){},createCookie:function(e,t,n,i){var r;this.isReactNative()||(r=n?((r=new Date).setTime(r.getTime()+60*n*60*1e3),"; expires="+r.toGMTString()):"",i=i?"; secure":"",document.cookie=e+"="+t+r+"; path=/"+i)},readCookie:function(e){if(this.isReactNative())return"none";for(var t=e+"=",n=document.cookie.split(";"),i=0;i<n.length;i++){for(var r=n[i];" "===r.charAt(0);)r=r.substring(1,r.length);if(0===r.indexOf(t))return r.substring(t.length,r.length)}return null},clearCookie:function(){},log:function(e,t){n.Options._debugMode&&d.console&&d.console.log&&(d.console.log(e),t&&d.console.log(t))},isApiKeyConfigured:function(){},isReactNative:function(){},defaultReactNativeGlobalHandler:function(){},localStorageAvailable:function(){try{return"localStorage"in d&&null!==d.localStorage}catch(e){return!1}},sessionStorageAvailable:function(){},truncateURL:function(e){var t,n=e,i=e.split("//")[1];return i&&(t=i.indexOf("?"),i=(e=i.toString().substring(0,t)).split("/").slice(0,4).join("/"),t=e.substring(0,48),(n=i.length<t.length?i:t)!==e&&(n+="..")),n},merge:function(){},mergeMutate:function(e,t){for(var n in t)e[n]=t[n];return e},mergeArray:function(e,t){return null!=t?e.concat(t):e.slice(0)},forEach:function(){},isEmpty:function(){},contains:function(){},getRandomInt:function(){},getViewPort:function(){if(this.isReactNative())return{width:"Not available",height:"Not available"};var e=document.documentElement,t=document.getElementsByTagName("body")[0];return{width:d.innerWidth||e.clientWidth||t.clientWidth,height:d.innerHeight||e.clientHeight||t.clientHeight}},parseUrl:function(e,t){function l(e){return!isNaN(parseFloat(e))&&isFinite(e)}return function(e,t){if("undefined"==typeof document)return"";var n=t||d.location.toString();if(!e)return n;e=e.toString(),"//"===n.substring(0,2)?n="http:"+n:1===n.split("://").length&&(n="http://"+n);var i={auth:""},r=1===(r=(t=n.split("/"))[2].split("@")).length?r[0].split(":"):(i.auth=r[0],r[1].split(":"));i.protocol=t[0],i.hostname=r[0],i.port=r[1]||("https"===i.protocol.split(":")[0].toLowerCase()?"443":"80"),i.pathname=(3<t.length?"/":"")+t.slice(3,t.length).join("/").split("?")[0].split("#")[0];var a=i.pathname;"/"===a.charAt(a.length-1)&&(a=a.substring(0,a.length-1));r=i.hostname,t=r.split("."),a=a.split("/");if("hostname"===e)return r;if("domain"===e)return/^(([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])\.){3}([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])$/.test(r)?r:t.slice(-2).join(".");if("sub"===e)return t.slice(0,t.length-2).join(".");if("port"===e)return i.port;if("protocol"===e)return i.protocol.split(":")[0];if("auth"===e)return i.auth;if("user"===e)return i.auth.split(":")[0];if("pass"===e)return i.auth.split(":")[1]||"";if("path"===e)return i.pathname;if("."===e.charAt(0)){if(l(e=e.substring(1)))return t[(e=parseInt(e,10))<0?t.length+e:e-1]||""}else{if(l(e))return a[(e=parseInt(e,10))<0?a.length+e:e]||"";if("file"===e)return a.slice(-1)[0];if("filename"===e)return a.slice(-1)[0].split(".")[0];if("fileext"===e)return a.slice(-1)[0].split(".")[1]||"";if("?"===e.charAt(0)||"#"===e.charAt(0)){var o,s=n;if("?"===e.charAt(0)?s=(s.split("?")[1]||"").split("#")[0]:"#"===e.charAt(0)&&(s=s.split("#")[1]||""),!e.charAt(1))return s;e=e.substring(1);for(var u=0,c=(s=s.split("&")).length;u<c;u++)if((o=s[u].split("="))[0]===e)return o[1]||"";return null}}return""}(e,t)},enhance:function(){},addEventHandler:function(){},nodeText:function(e){var t=e.textContent||e.innerText||"";return t=(t=-1!==["submit","button"].indexOf(e.type)?e.value||t:t).replace(/^\s+|\s+$/g,"")},nodeSelector:function(){},truncate:function(e,t){return e.length>t?e.slice(0,t-"(...)".length)+"(...)":e},getOrigin:function(){return d.location.origin||d.location.protocol+"//"+d.location.hostname+(d.location.port?":"+d.location.port:"")},resolveFullUrl:function(e){if((e=e&&0===e.indexOf("//")?d.location.protocol+e:e)&&d.location.pathname&&-1===e.indexOf("://")){var t=this.getOrigin();if(0===e.indexOf("/"))return t+e;var n=d.location.pathname.split("/");return n.pop(),t+n.join("/")+"/"+e}return e},removeFromArray:function(e,t){for(var n=[],i=0;i<e.length;i++)e[i]!==t&&n.push(e[i]);return n},isIE:function(){}};return e.isReactNative()&&!0!==__DEV__&&d.ErrorUtils&&d.ErrorUtils.getGlobalHandler&&(i=d.ErrorUtils.getGlobalHandler()),e},window.raygunNetworkTrackingFactory=function(l,d){function n(){this.requestHandlers=[],this.responseHandlers=[],this.errorHandlers=[],this.wrapWithHandler=function(e){return function(){try{return e.apply(this,arguments)}catch(e){d.Utilities.log(e)}}},this.executeHandlers=this.wrapWithHandler(function(e,t){for(var n=0;n<e.length;n++)e[n](JSON.parse(JSON.stringify(t)))}),this.wrapPrototypeWithHandlers(),this.attach()}return n.prototype.on=function(e,t){switch(e){case"request":this.requestHandlers.push(t);break;case"response":this.responseHandlers.push(t);break;case"error":this.errorHandlers.push(t)}},n.prototype.off=function(e,t){switch(e){case"request":this.requestHandlers=d.Utilities.removeFromArray(this.requestHandlers,t);break;case"response":this.responseHandlers=d.Utilities.removeFromArray(this.responseHandlers,t);break;case"error":this.errorHandlers=d.Utilities.removeFromArray(this.errorHandlers,t)}},n.prototype.attach=function(){var u=this;l.XMLHttpRequest.prototype.addEventListener&&d.Utilities.enhance(l.XMLHttpRequest.prototype,"open",u.wrapWithHandler(function(){var t=(new Date).getTime(),n=d.Utilities.resolveFullUrl(arguments[1])||"Unknown",i=n.split("?")[0],r=arguments[0];d.Utilities.enhance(this,"send",u.wrapWithHandler(function(){var e={method:r,requestURL:n,baseUrl:i};arguments[0]&&"string"==typeof arguments[0]&&(e.body=arguments[0]),u.executeHandlers(u.requestHandlers,e)})),this.addEventListener("load",u.wrapWithHandler(function(){var e="N/A for non text responses";""!==this.responseType&&"text"!==this.responseType||(e=this.responseText),d.Utilities.log("Tracking XHR response for",n),u.executeHandlers(u.responseHandlers,{status:this.status,requestURL:n,responseURL:this.responseURL,baseUrl:i,body:e,duration:(new Date).getTime()-t})})),this.addEventListener("error",u.wrapWithHandler(function(){u.executeHandlers(u.errorHandlers,{requestURL:n,responseURL:this.responseURL,duration:(new Date).getTime()-t})}))}));var e,c=l.__raygunOriginalFetch||l.fetch;"function"!=typeof c||void 0!==c.polyfill||d.Utilities.isIE()||(e=function(){var r,a,e=arguments[0],t=arguments[1],n=t&&t.method||"GET",o=(new Date).getTime();"string"==typeof e?r=e:void 0!==l.Request&&e instanceof l.Request?(r=e.url,e.method&&(n=e.method)):r=String(e),r=d.Utilities.resolveFullUrl(r),a=r.split("?")[0];var i=c.apply(null,arguments);try{var s={method:n,requestURL:r,baseUrl:a};t&&t.body&&(s.body=t.body),u.executeHandlers(u.requestHandlers,s),i.then(u.wrapWithHandler(function(e){var t="N/A when the fetch response does not support clone()",n="function"==typeof e.clone?e.clone():void 0;function i(){d.Utilities.log("tracking fetch response for",r),u.executeHandlers(u.responseHandlers,{status:e.status,requestURL:r,responseURL:e.url,body:t,baseUrl:a,duration:(new Date).getTime()-o})}if(n)try{n.text().then(function(e){t=d.Utilities.truncate(e,500),i()}).catch(function(){i()})}catch(e){i()}else i()})),i.catch(u.wrapWithHandler(function(e){u.executeHandlers(u.errorHandlers,{metadata:{requestUrl:r,error:e.toString(),duration:(new Date).getTime()-o}})}))}catch(e){d.Utilities.log(e)}return i},l.__raygunOriginalFetch?l.__raygunFetchCallback=e:l.fetch=e)},n.prototype.wrapPrototypeWithHandlers=function(){var e,t;for(e in n.prototype)"function"==typeof(t=n.prototype[e])&&(n.prototype[e]=this.wrapWithHandler(t))},new n},window.raygunBreadcrumbsFactory=function(o,a){function r(e,t){for(var n=0;n<t.length;n++){var i=t[n];if("string"==typeof i&&e&&-1<e.indexOf(i))return!0;if("object"==typeof i&&i.exec(e))return!0}return!1}function n(){this.MAX_BREADCRUMBS=32,this.MAX_MESSAGE_SIZE=1024,this.BREADCRUMB_LEVELS=["debug","info","warning","error"],this.DEFAULT_BREADCRUMB_LEVEL="info",this.DEFAULT_XHR_IGNORED_HOSTS=["raygun"],this.breadcrumbLevel="info",this.logXhrContents=!1,this.xhrIgnoredHosts=[].concat(this.DEFAULT_XHR_IGNORED_HOSTS),this.breadcrumbs=[],this.wrapWithHandler=function(){},this.disableConsoleFunctions=[],this.disableNavigationFunctions=[],this.disableXHRLogging=function(){},this.disableClicksTracking=function(){},this.enableAutoBreadcrumbs(),this.wrapPrototypeWithHandlers()}return n.prototype.recordBreadcrumb=function(e,t){var n={level:this.DEFAULT_BREADCRUMB_LEVEL,timestamp:(new Date).getTime(),type:"manual"};switch(typeof e){case"object":n=a.Utilities.merge(n,e);break;case"string":n=a.Utilities.merge(a.Utilities.merge(n,{message:e,metadata:t}));break;default:return void a.Utilities.log("expected first argument to recordBreadcrumb to be a 'string' or 'object', got "+typeof e)}-1===this.BREADCRUMB_LEVELS.indexOf(n.level)&&(a.Utilities.log("unknown breadcrumb level "+n.level+" setting to default of '"+this.DEFAULT_BREADCRUMB_LEVEL+"'"),n.level=this.DEFAULT_BREADCRUMB_LEVEL),this.shouldRecord(n)&&(n.message=a.Utilities.truncate(n.message,this.MAX_MESSAGE_SIZE),this.breadcrumbs.push(n),this.breadcrumbs=this.breadcrumbs.slice(-this.MAX_BREADCRUMBS))},n.prototype.shouldRecord=function(e){e=this.BREADCRUMB_LEVELS.indexOf(e.level);return this.BREADCRUMB_LEVELS.indexOf(this.breadcrumbLevel)<=e},n.prototype.setBreadcrumbLevel=function(e){-1!==this.BREADCRUMB_LEVELS.indexOf(e)?this.breadcrumbLevel=e:a.Utilities.log("Breadcrumb level of '"+e+"' is invalid, setting to default of '"+this.DEFAULT_BREADCRUMB_LEVEL+"'")},n.prototype.setOption=function(e,t){var n;"breadcrumbsLevel"===e?this.setBreadcrumbLevel(t):"xhrIgnoredHosts"===e?(this.xhrIgnoredHosts=t.concat(this.DEFAULT_XHR_IGNORED_HOSTS),(n=this).removeBreadcrumbsWithPredicate(function(){})):"logXhrContents"===e&&(this.logXhrContents=t)},n.prototype.any=function(){return 0<this.breadcrumbs.length},n.prototype.all=function(){for(var e=[],t=0;t<this.breadcrumbs.length;t++){var n=this.breadcrumbs[t];n&&"request"===n.type&&!this.logXhrContents&&n.metadata&&n.metadata.body&&(n.metadata.body="Disabled because logContentsOfXhrCalls has not been enabled"),e.push(n)}return e},n.prototype.enableAutoBreadcrumbs=function(){this.enableAutoBreadcrumbsXHR(),this.enableAutoBreadcrumbsClicks(),this.enableAutoBreadcrumbsConsole(),this.enableAutoBreadcrumbsNavigation()},n.prototype.disableAutoBreadcrumbs=function(){this.disableAutoBreadcrumbsXHR(),this.disableAutoBreadcrumbsClicks(),this.disableAutoBreadcrumbsConsole(),this.disableAutoBreadcrumbsNavigation()},n.prototype.removeBreadcrumbsWithPredicate=function(){},n.prototype.removeCrumbsOfType=function(){},n.prototype.enableAutoBreadcrumbsConsole=function(){var t,n;void 0!==o.console&&(t=function(e,t){for(var n=[],i=0;i<t.length;i++){var r=t[i];null!=r&&n.push(r.toString())}this.recordBreadcrumb({type:"console",level:e,message:Array.prototype.slice.call(n).join(", ")})}.bind(this),(n=this).disableConsoleFunctions=["log","warn","error"].map(function(e){return a.Utilities.enhance(console,e,n.wrapWithHandler(function(){t("log"===e?"info":"warn"===e?"warning":"error",arguments)}))}))},n.prototype.disableAutoBreadcrumbsConsole=function(){},n.prototype.enableAutoBreadcrumbsNavigation=function(){var r,n,t,e;o.addEventListener&&o.history&&o.history.pushState&&(r=function(){}.bind(this),n=function(){},this.disableNavigationFunctions=this.disableNavigationFunctions.concat(["pushState","replaceState"].map(function(){}.bind(this))),t=function(){}.bind(this),e=[{element:o,event:"hashchange",handler:function(e){var t=e.oldURL,e=e.newURL,e=t&&e?{from:n(t),to:n(e)}:{to:location.hash};return{type:"navigation",message:"Hash change",metadata:e}}},{element:o,event:"load",handler:function(){return{type:"navigation",message:"Page loaded"}}},{element:o,event:"popstate",handler:function(){return{type:"navigation",message:"Navigated back"}}},{element:o,event:"pagehide",handler:function(){return{type:"navigation",message:"Page hidden"}}},{element:o,event:"pageshow",handler:function(){return{type:"navigation",message:"Page shown"}}},{element:document,event:"DOMContentLoaded",handler:function(){return{type:"navigation",message:"DOMContentLoaded"}}}],this.disableNavigationFunctions=this.disableNavigationFunctions.concat(e.map(function(){}.bind(this))))},n.prototype.disableAutoBreadcrumbsNavigation=function(){},n.prototype.enableAutoBreadcrumbsClicks=function(){this.disableClicksTracking=a.Utilities.addEventHandler(o,"click",this.wrapWithHandler(function(e){var t,n;try{t=a.Utilities.truncate(a.Utilities.nodeText(e.target),150),n=a.Utilities.nodeSelector(e.target)}catch(e){n=t="[unknown]",a.Utilities.log("Error retrieving node text/selector. Most likely due to a cross domain error")}this.recordBreadcrumb({type:"click-event",message:"UI Click",level:"info",metadata:{text:t,selector:n}})}.bind(this),!0))},n.prototype.disableAutoBreadcrumbsClicks=function(){this.disableClicksTracking(),this.removeCrumbsOfType("click-event")},n.prototype.enableAutoBreadcrumbsXHR=function(){var t=this,e=t.wrapWithHandler(function(e){r(e.requestURL,t.xhrIgnoredHosts)||(e.body&&(e.body=a.Utilities.truncate(e.body,500)),t.recordBreadcrumb({type:"request",message:"Opening request to "+e.requestURL,level:"info",metadata:e}))}),n=t.wrapWithHandler(function(e){r(e.requestURL,t.xhrIgnoredHosts)||r(e.responseURL,t.xhrIgnoredHosts)||(e.body&&(e.body=a.Utilities.truncate(e.body,500)),e.duration=e.duration+"ms",t.recordBreadcrumb({type:"request",message:"Finished request to "+e.requestURL,level:"info",metadata:e}))}),i=t.wrapWithHandler(function(e){r(e.requestURL,t.xhrIgnoredHosts)||(e.duration=e.duration+"ms",t.recordBreadcrumb({type:"request",message:"Failed request to "+e.requestUrl,level:"info",metadata:e}))});a.NetworkTracking.on("request",e),a.NetworkTracking.on("response",n),a.NetworkTracking.on("error",i),this.disableXHRLogging=function(){}},n.prototype.disableAutoBreadcrumbsXHR=function(){this.disableXHRLogging(),this.removeCrumbsOfType("request")},n.prototype.wrapPrototypeWithHandlers=function(){var e,t;for(e in n.prototype)"function"==typeof(t=n.prototype[e])&&(n.prototype[e]=this.wrapWithHandler(t))},n};var raygunFactory=function(y,i,v){var U={};U.Utilities=raygunUtilityFactory(y,U),U.NetworkTracking=raygunNetworkTrackingFactory(y,U),U.Breadcrumbs=raygunBreadcrumbsFactory(y,U);var S,k,r,R,t,w,u,a,o,s,c,e,x={LOADING:0,READY:1},l="raygun4js-userid",d=TraceKit,n=y.Raygun,f=!1,g=!1,p=!1,h=!1,m=!1,E=!1,b=!1,A=!1,C=!0,T=!1,O=!1,N={},B=[],L=[],H="https://api.raygun.io",M=null,D=null,q="customData",I=null,F=new U.Breadcrumbs,P=null,_=!0,j=x.LOADING,X=[],V=[],W=null,J=!0,K=!1,$=!1,G={Rand:Math.random(),Options:{},noConflict:function(){},constructNewRaygun:function(){return raygunFactory(y,y.jQuery)},init:function(e,t,n){return d.remoteFetching=!1,this.Options._raygunApiKey=e,n&&(N=n),i&&(s=i(document)),t&&(g=t.allowInsecureSubmissions||!1,p=t.ignoreAjaxAbort||!1,h=t.ignoreAjaxError||!1,b=t.disableAnonymousUserTracking||!1,A=t.disableErrorTracking||!1,C=t.disablePulse===v||t.disablePulse,M=t.excludedHostnames||!1,D=t.excludedUserAgents||!1,P=t.pulseMaxVirtualPageDuration||null,_=t.pulseIgnoreUrlCasing||!1,W=t.pulseCustomLoadTimeEnabled||!1,K=t.setCookieAsSecure||!1,$=t.captureMissingRequests||!1,O=t.automaticPerformanceCustomTimings||!1,t.apiUrl&&(H=t.apiUrl),void 0!==t.wrapAsynchronousCallbacks&&(T=t.wrapAsynchronousCallbacks),void 0!==t.captureUnhandledRejections&&(J=t.captureUnhandledRejections),t.debugMode&&(f=t.debugMode),this.Options._debugMode=f,t.ignore3rdPartyErrors&&(E=!0),t.apiEndpoint&&(H=t.apiEndpoint),t.from&&(o=t.from),t.clientIp&&(c=t.clientIp)),S||b?Z():function(e){var t;U.Utilities.localStorageAvailable()&&null!==(t=localStorage.getItem(l))||null!==(t=U.Utilities.readCookie(l))&&U.Utilities.localStorageAvailable()&&(U.Utilities.clearCookie(l),localStorage.setItem(l,t)),e(t)}(z),U},withCustomData:function(e){return N=e,U},withTags:function(){},attach:function(){return!U.Utilities.isApiKeyConfigured()||A||(y.RaygunObject&&y[y.RaygunObject]&&y[y.RaygunObject].q&&(y.onerror=null),J&&(e=U.Utilities.addEventHandler(y,"unhandledrejection",Y)),U.Utilities.isReactNative()&&!0!==__DEV__&&y.ErrorUtils&&y.ErrorUtils.setGlobalHandler&&y.ErrorUtils.setGlobalHandler(function(){}),d.report.subscribe(ae),T&&d.extendToAsynchronousCallbacks(),s&&s.ajaxError&&!h&&s.ajaxError(re)),U},detach:function(){return d.report.unsubscribe(ae),s&&s.unbind("ajaxError",re),J&&e&&e(),U},send:function(t,e,n){if(A)return U.Utilities.log("Error not sent due to disabled error tracking"),U;try{ae(d.computeStackTrace(t),{customData:"function"==typeof N?U.Utilities.merge(N(),e):U.Utilities.merge(N,e),tags:"function"==typeof B?U.Utilities.mergeArray(B(),n):U.Utilities.mergeArray(B,n)},!0,t)}catch(e){if(t!==e)throw e}return U},setUser:function(){},resetAnonymousUser:function(){U.Utilities.localStorageAvailable()?localStorage.removeItem(l):U.Utilities.clearCookie(l)},setVersion:function(e){return k=e,U},saveIfOffline:function(e){return void 0!==e&&"boolean"==typeof e&&(m=e),U},filterSensitiveData:function(e){return r=e,U},setFilterScope:function(){},whitelistCrossOriginDomains:function(e){return L=e,U},onBeforeSend:function(e){return R=e,U},onBeforeSendRum:function(e){return t=e,U},groupingKey:function(e){return w=e,U},onBeforeXHR:function(e){return u=e,U},onAfterSend:function(e){return a=e,U},endSession:function(){},trackEvent:function(e,t){j===x.READY?U.RealUserMonitoring!==v&&I&&("pageView"===e&&t.path?I.virtualPageLoaded(t.path):"customTiming"===e?I.trackCustomTiming(t.name,t.duration,t.offset):"customTimings"===e&&t.timings&&I.sendCustomTimings(t.timings)):V.push({type:e,options:t})},setClientIp:function(e){c=e},captureMissingRequests:function(e){U.RealUserMonitoring!==v&&I&&I.captureMissingRequests(e)},recordBreadcrumb:function(){F.recordBreadcrumb.apply(F,arguments)},enableAutoBreadcrumbs:function(e){e?F["enableAutoBreadcrumbs"+e]():F.enableAutoBreadcrumbs()},disableAutoBreadcrumbs:function(){},setBreadcrumbOption:function(e,t){F.setOption(e,t)},setBreadcrumbs:function(e){F=e},getBreadcrumbs:function(){return F.all()}};function(){}function z(e){var t="Unknown";e?t=e:(t=U.Utilities.getUuid(),e=t,U.Utilities.localStorageAvailable()?localStorage.setItem(l,e):U.Utilities.createCookie(l,e,744,K)),U.setUser(t,!0,null,null,null,t),Z()}function Y(e){var t=e.reason;(t=!((t=!t&&e.detail&&e.detail.reason?e.detail.reason:t)instanceof Error)&&e.reason&&e.reason.error?e.reason.error:t)||((t=new Error("Unhandled promise rejection")).stack=null),G.send(t,null,["UnhandledPromiseRejection"])}function Z(){var e;j!==x.READY&&(j=x.READY,U.RealUserMonitoring===v||C||(e=function(){(I=new U.RealUserMonitoring(U.Options._raygunApiKey,H,se,S,k,B,M,D,f,P,_,W,t,K,$,O)).attach()},U.Utilities.isReactNative()?U.Utilities.log("Not enabling RUM because Raygun4JS has detected a React Native environment, see #310 on Github"):"onLoad"===o?e():y.addEventListener?y.addEventListener("load",e):y.attachEvent("onload",e)),function(){var e;for(e=0;e<X.length;e++)ae(X[e].stackTrace,X[e].options,X[e].userTriggered,X[e].error);for(X=[],e=0;e<V.length;e++)G.trackEvent(V[e].type,V[e].options);V=[]}(),te())}function ee(e,t){var n=(new Date).toJSON();try{var i="raygunjs+"+U.Options._raygunApiKey+"="+n+"="+U.Utilities.getRandomInt();void 0===localStorage[i]&&(localStorage[i]=JSON.stringify({url:e,data:t}))}catch(e){U.Utilities.log("Raygun4JS: LocalStorage full, cannot save exception")}}function te(){if(U.Utilities.localStorageAvailable())for(var e in localStorage)if(-1<e.indexOf("raygunjs+"+U.Options._raygunApiKey)){try{var t=JSON.parse(localStorage[e]);se(t.url,t.data)}catch(e){U.Utilities.log("Raygun4JS: Invalid JSON object in LocalStorage")}try{localStorage.removeItem(e)}catch(e){U.Utilities.log("Raygun4JS: Unable to remove error")}}}function(){}function ie(e,t){if(null==e)return e;if("[object Object]"!==Object.prototype.toString.call(e))return e;var n,i={};for(n in e){var r=e[n];"[object Object]"===Object.prototype.toString.call(r)?i[n]="Details"!==t||"Client"!==n?ie(ne(n,r),n):r:"[object Function]"!==Object.prototype.toString.call(r)&&(void 0!==t?i[n]=ne(n,r):"OccurredOn"===n&&(i[n]=r))}return i}function(){}function ae(e,t,n,i){if(j===x.READY){var r="Script error",a=[],o={};if(E){if(!e.stack||!e.stack.length)return void U.Utilities.log("Raygun4JS: Cancelling send due to null stacktrace");var s=U.Utilities.parseUrl("domain"),u=r;if(e.message?u=e.message:t&&t.status&&(u=t.status),void 0===u&&(u=r),!U.Utilities.isReactNative()&&"function"==typeof u.substring&&u.substring(0,r.length)===r&&null!==e.stack[0].url&&e.stack[0].url!==v&&-1===e.stack[0].url.indexOf(s)&&(0===e.stack[0].line||"?"===e.stack[0].func))return void U.Utilities.log("Raygun4JS: cancelling send due to third-party script error with no stacktrace and message");for(var c=!1,l=0;!c&&e.stack&&l<e.stack.length;l++)if(null!==e.stack[l]&&e.stack[l]!==v&&null!==e.stack[l].url&&e.stack[l].url!==v){for(var d in L)-1<e.stack[l].url.indexOf(L[d])&&(c=!0);-1<e.stack[l].url.indexOf(s)&&(c=!0)}if(!c)return void U.Utilities.log("Raygun4JS: cancelling send due to error on non-origin, non-whitelisted domain")}if(M instanceof Array)for(var f in M)if(M.hasOwnProperty(f)&&y.location.hostname&&y.location.hostname.match(M[f]))return void U.Utilities.log("Raygun4JS: cancelling send as error originates from an excluded hostname");if(D instanceof Array&&!U.Utilities.isReactNative())for(var g in D)if(D.hasOwnProperty(g)&&navigator.userAgent.match(D[g]))return void U.Utilities.log("Raygun4JS: cancelling send as error originates from an excluded user agent");if(U.Utilities.isReactNative()||!navigator.userAgent.match("RaygunPulseInsightsCrawler")){e.stack&&e.stack.length&&U.Utilities.forEach(e.stack,function(){});var p=U.Utilities.parseUrl("?");0<p.length&&U.Utilities.forEach(p.split("&"),function(e,t){var n=t.split("=");n&&2===n.length&&(n=ne(t=decodeURIComponent(n[0]),n[1]),o[t]=n)}),t===v&&(t={}),U.Utilities.isEmpty(t.customData)&&(t.customData="function"==typeof N?N():N),U.Utilities.isEmpty(t.tags)&&(t.tags="function"==typeof B?B():"string"==typeof B?[B]:B),n||(t.tags||(t.tags=[]),U.Utilities.contains(t.tags,"UnhandledException")||t.tags.push("UnhandledException")),U.Utilities.isReactNative()&&!U.Utilities.contains(t.tags,"React Native")&&t.tags.push("React Native");u=y.screen||{width:U.Utilities.getViewPort().width,height:U.Utilities.getViewPort().height,colorDepth:8},p=t.customData&&t.customData.ajaxErrorMessage;m="customData"===q?ie(t.customData,"UserCustomData"):t.customData;try{JSON.stringify(m)}catch(e){var h="Cannot add custom data; may contain circular reference",m={error:h};U.Utilities.log("Raygun4JS: "+h)}h=r;p?h=p:e.message?h=e.message:t&&t.status?h=t.status:"string"==typeof i&&(h=i),(h=void 0===h?r:h)&&"string"==typeof h&&(h=h.substring(0,512)),r=U.Utilities.isReactNative()?"/":[location.protocol,"//",location.host,location.pathname,location.hash].join("");var b={OccurredOn:new Date,Details:{Error:{ClassName:e.name,Message:h,StackTrace:a,StackString:e.stackstring},Environment:{UtcOffset:(new Date).getTimezoneOffset()/-60,"User-Language":navigator.userLanguage,"Document-Mode":U.Utilities.isReactNative()?"Not available":document.documentMode,"Browser-Width":U.Utilities.getViewPort().width,"Browser-Height":U.Utilities.getViewPort().height,"Screen-Width":u.width,"Screen-Height":u.height,"Color-Depth":u.colorDepth,Browser:navigator.appCodeName,"Browser-Name":navigator.appName,"Browser-Version":navigator.appVersion,Platform:navigator.platform},Client:{Name:"raygun-js",Version:"2.21.1"},UserCustomData:m,Tags:t.tags,Request:{Url:r,QueryString:o,Headers:{"User-Agent":navigator.userAgent,Referer:U.Utilities.isReactNative()?"Not available":document.referrer,Host:U.Utilities.isReactNative()?"Not available":document.domain}},Version:k||"Not supplied"}};b.Details.User=S,F.any()&&(b.Details.Breadcrumbs=[],(F.all()||[]).forEach(function(){})),"all"===q&&(b=ie(b)),"function"==typeof w&&(U.Utilities.log("Raygun4JS: calling custom grouping key"),b.Details.GroupingKey=w(b,e,t)),"function"==typeof R?(r=R(b))&&oe(r):oe(b)}}else X.push({stackTrace:e,options:t,userTriggered:n,error:i})}function oe(e){U.Utilities.isApiKeyConfigured()&&(U.Utilities.log("Sending exception data to Raygun:",e),se(H+"/entries?apikey="+encodeURIComponent(U.Options._raygunApiKey),JSON.stringify(e)))}function se(e,t,n,i){var r,a,o,s=(r="POST",a=e,"withCredentials"in(o=new y.XMLHttpRequest)||U.Utilities.isReactNative()?o.open(r,a,!0):y.XDomainRequest&&(g&&(a=a.slice(6)),(o=new y.XDomainRequest).open(r,a)),o.timeout=1e4,o);"function"==typeof s.setRequestHeader&&(s.setRequestHeader("Content-Type","text/plain;charset=UTF-8"),void 0!==c&&s.setRequestHeader("X-Remote-Address",c)),"function"==typeof u&&u(s),U.Utilities.log("Is offline enabled? "+m),"withCredentials"in s||U.Utilities.isReactNative()?(s.onreadystatechange=function(){},s.onload=function(){}):y.XDomainRequest&&(s.ontimeout=function(){},s.onload=function(){}),s.onerror=function(){U.Utilities.log("failed to post to Raygun"),Q(this),i&&"function"==typeof i&&i(s,e,t)},s?(U.Utilities.isReactNative()&&s.setRequestHeader("Content-type","application/json;charset=UTF-8"),s.send(t)):U.Utilities.log("CORS not supported")}return U=U.Utilities.mergeMutate(U,G),y.__raygunNoConflict||(y.Raygun=U),TraceKit.setRaygun(U),U};window.__instantiatedRaygun=raygunFactory(window,window.jQuery);var raygunRumFactory=function(Q,e,z){z.RealUserMonitoring=function(e,t,u,n,i,r,a,o,s,c,l,d,f,g,p,h){var m=this,b={};this.cookieName="raygun4js-sid",this.apiKey=e,this.apiUrl=t,this.debugMode=s,this.excludedHostNames=a,this.excludedUserAgents=o,this.maxVirtualPageDuration=c||18e5,this.ignoreUrlCasing=l,this.customTimingsEnabled=d,this.automaticPerformanceCustomTimings=h,this.beforeSend=f||function(e){return e},this.pendingPayloadData=d||!1,this.queuedPerformanceTimings=[],this.pendingVirtualPage=null,this.sessionId=null,this.virtualPage=null,this.user=n,this.version=i,this.tags=r,this.heartBeatInterval=null,this.heartBeatIntervalTime=3e4,this.offset=0,this._captureMissingRequests=p||!1,this.sendUsingNavigatorBeacon=!1,this.stopCollectingMetrics=!1,this.queuedItems=[],this.maxQueueItemsSent=50,this.setCookieAsSecure=g,this.xhrRequestMap={},this.xhrStatusMap={};var y={Page:"p",VirtualPage:"v",XHR:"x",CachedChildAsset:"e",ChildAsset:"c",CustomTiming:"t"};function v(){E({sessionId:m.sessionId,timestamp:(new Date).toISOString(),type:"session_start",user:m.user,version:m.version||"Not supplied",tags:m.tags,device:navigator.userAgent})}function U(e){return new Date($(e,"timestamp"))<new Date(new Date-18e5)}function S(){m.sessionId=_(32),J(m.sessionId)}function k(e){e=function(e,t){if(!j("timing","object")||void 0===Q.performance.timing.fetchStart||isNaN(Q.performance.timing.fetchStart))return null;var n=[];t&&n.push(function(){var e=Q.location.pathname;m.ignoreUrlCasing&&(e=e.toLowerCase());e=Q.location.protocol+"//"+Q.location.host+e;800<e.length&&(e=e.substring(0,800));return{url:e,userAgent:navigator.userAgent,timing:function(){var e=Q.performance.timing,t={du:e.duration,t:y.Page};t.a=e.fetchStart,e.domainLookupStart&&0<e.domainLookupStart&&(t.b=e.domainLookupStart-t.a);e.domainLookupEnd&&0<e.domainLookupEnd&&(t.c=e.domainLookupEnd-t.a);e.connectStart&&0<e.connectStart&&(t.d=e.connectStart-t.a);e.connectEnd&&0<e.connectEnd&&(t.e=e.connectEnd-t.a);e.responseStart&&0<e.responseStart&&(t.f=e.responseStart-t.a);e.responseEnd&&0<e.responseEnd&&(t.g=e.responseEnd-t.a);e.domLoading&&0<e.domLoading&&(t.h=e.domLoading-t.a);e.domInteractive&&0<e.domInteractive&&(t.i=e.domInteractive-t.a);e.domContentLoadedEventEnd&&0<e.domContentLoadedEventEnd&&(t.j=e.domContentLoadedEventEnd-t.a);e.domComplete&&0<e.domComplete&&(t.k=V(e.domComplete-t.a));e.loadEventStart&&0<e.loadEventStart&&(t.l=e.loadEventStart-t.a);e.loadEventEnd&&0<e.loadEventEnd&&(t.m=e.loadEventEnd-t.a);e.secureConnectionStart&&0<e.secureConnectionStart&&(t.n=e.secureConnectionStart-e.connectStart-t.a);return t=function(e){if(!j("getEntriesByName","function"))return e;var t=Q.performance.getEntriesByName("first-paint");0<t.length&&0<t[0].startTime?e.fp=t[0].startTime.toFixed(2):Q.performance.timing&&Q.performance.timing.msFirstPaint&&(e.fp=(Q.performance.timing.msFirstPaint-Q.performance.timing.fetchStart).toFixed(2));t=Q.performance.getEntriesByName("first-contentful-paint");0<t.length&&0<t[0].startTime&&(e.fcp=t[0].startTime.toFixed(2));return e}(t=P(t))}(),size:0}}());O(n),e&&(n.push(function(e,t){m.ignoreUrlCasing&&(e=e.toLowerCase());-1!==e.indexOf("?")&&(e=e.split("?")[0]);e=Q.location.protocol+"//"+Q.location.host+e;800<e.length&&(e=e.substring(0,800));return{url:e,userAgent:navigator.userAgent,timing:function(e){return{t:y.VirtualPage,startTime:e,staticLoad:m.initalStaticPageLoadTimestamp,pending:!0}}(t),size:0}}(e,X(0))),O(n,!0));return n}(m.virtualPage,e);null===e||e.length<0||T(e,!1)}function R(e){e&&x();var t=[];O(t,void 0,e),T(t,e)}function w(){var e,t;0<m.queuedItems.length&&(m.queuedItems=(e=m.queuedItems,t="timestamp",e.sort(function(i){return function(e,t){if(!e.hasOwnProperty(i)||!t.hasOwnProperty(i))return W('Raygun4JS: Property "'+i+'" not found in items in this collection'),0;var n=e[i],e=t[i],t=0;return e<n?t=1:n<e&&(t=-1),t}}(t))),A(m.queuedItems.splice(0,m.maxQueueItemsSent)))}function x(){for(var e,t,n=0;n<m.queuedPerformanceTimings.length;n++)(t=m.queuedPerformanceTimings[n]).timing.t===y.VirtualPage&&t.timing.pending&&(t.timing=(e=t.timing,t=void 0,t=X(0),{t:e.t,du:Math.min(m.maxVirtualPageDuration,t-e.startTime),o:Math.min(m.maxVirtualPageDuration,t-e.staticLoad)}))}function(){}function A(n){var e,t,i;e={eventData:n},"function"!=typeof(t=function(){})&&(t=function(){}),"function"!=typeof(i=function(e){var t;t=n,m.queuedItems=t.concat(m.queuedItems),W("Raygun4JS: Items failed to send. Queue length: "+m.queuedItems.length+" Response status code: "+e.status)})&&(i=function(){}),function(e,t,n,i){if(m.excludedUserAgents instanceof Array)for(var r in m.excludedUserAgents)if(m.excludedUserAgents.hasOwnProperty(r)&&navigator.userAgent.match(m.excludedUserAgents[r]))return W("Raygun4JS: cancelling send as error originates from an excluded user agent");if(m.excludedHostNames instanceof Array)for(var a in m.excludedHostNames)if(m.excludedHostNames.hasOwnProperty(a)&&Q.location.hostname&&Q.location.hostname.match(m.excludedHostNames[a]))return W("Raygun4JS: cancelling send as error originates from an excluded hostname");if(!navigator.userAgent.match("RaygunPulseInsightsCrawler")){var o=m.beforeSend(t);if(!o)return W("Raygun4JS: cancelling send because onBeforeSendRUM returned falsy value");if(o.eventData)for(var s=0;s<o.eventData.length;s++)o.eventData[s].data&&"string"!=typeof o.eventData[s].data&&(o.eventData[s].data=JSON.stringify(o.eventData[s].data));if(t=JSON.stringify(o),m.sendUsingNavigatorBeacon&&navigator.sendBeacon)return navigator.sendBeacon(e,t);u(e,t,n,i)}}(m.apiUrl+"/events?apikey="+encodeURIComponent(m.apiKey),e,t,i)}function C(e){if(!m.pendingPayloadData||e){function t(){var e;a.push((e=r,{sessionId:m.sessionId,requestId:m.requestId,timestamp:(new Date).toISOString(),type:"web_request_timing",user:m.user,version:m.version||"Not supplied",device:navigator.userAgent,tags:m.tags,data:e})),o=!(r=[])}function n(){0<r.length&&t(),0<a.length&&(A(a),o=!(r=[]))}for(var i,r=[],a=[],o=!1,s=0;s<m.queuedPerformanceTimings.length;s++){var u=(i=m.queuedPerformanceTimings[s]).timing.t===y.Page||i.timing.t===y.VirtualPage;if(o&&u&&t(),0<r.length&&u&&t(),u&&(m.requestId=_(16)),i.timing.t===y.VirtualPage&&i.timing.pending)return n(),void m.queuedPerformanceTimings.splice(0,s);r.push(i),o=o||i.timing.t===y.Page||i.timing.t===y.VirtualPage}n(),m.queuedPerformanceTimings=[]}}function T(e,t){!1===m.stopCollectingMetrics&&(m.queuedPerformanceTimings=m.queuedPerformanceTimings.concat(e),C(t))}function O(e,t,n){var i;if(j("getEntries","function"))try{for(var r=t?0:Q.performance.timing.navigationStart,a=Q.performance.getEntries(),o=m.offset;o<a.length;o++){var s=a[o];if(!n&&L(s))break;D(s)?m.automaticPerformanceCustomTimings&&e.push(q(s)):F((i=s).name.split("?")[0])||"paint"===i.entryType||"navigation"===i.entryType||"mark"===i.entryType||e.push(H(s,r))}m.offset=o,this._captureMissingRequests&&N(e,r)}catch(e){W(e)}}this.Utilities={},this.attach=function(){i=function(e){m.pageLoaded(e)},n=K(),t=!1,(e=null===n)||(t=U(n)),e||t?(S(),i(!0)):(J(n=$(n,"id")),m.sessionId=n,i(!1));var e=function(){this.updateStorageTimestamp()}.bind(b),t=function(){}.bind(b),n=function(){}.bind(b),i=function(){R(m.sendUsingNavigatorBeacon=!0),w(),m.stopCollectingMetrics=!0}.bind(b);Q.addEventListener?(Q.addEventListener("click",e),document.addEventListener("visibilitychange",n),Q.addEventListener("beforeunload",t),Q.addEventListener("pagehide",i)):Q.attachEvent&&document.attachEvent("onclick",e),z.NetworkTracking.on("request",function(e){this.xhrRequestMap[e.baseUrl]||(this.xhrRequestMap[e.baseUrl]=[]);W("adding request to xhr request map",e),this.xhrRequestMap[e.baseUrl].push(e)}.bind(this)),z.NetworkTracking.on("error",function(e){var t=this.xhrRequestMap[e.baseUrl];t&&0<t.length&&(this.xhrRequestMap[e.baseUrl].shift(),W("request encountered an error",e))}.bind(this)),z.NetworkTracking.on("response",function(e){var t=this.xhrRequestMap[e.baseUrl];t&&0<t.length?(this.xhrRequestMap[e.baseUrl].shift(),0===this.xhrRequestMap[e.baseUrl].length&&delete this.xhrRequestMap[e.baseUrl],this.xhrStatusMap[e.baseUrl]||(this.xhrStatusMap[e.baseUrl]=[]),W("adding response to xhr status map",e),this.xhrStatusMap[e.baseUrl].push(e)):W("response fired from non-handled request")}.bind(this))},this.pageLoaded=function(e){e&&v(),k(!0),null!==m.heartBeatInterval?W("Raygun4JS: Heartbeat already exists. Skipping heartbeat creation."):m.heartBeatInterval=setInterval(function(){R(),w(),this.xhrStatusMap={}},m.heartBeatIntervalTime),m.initalStaticPageLoadTimestamp=X(0)},this.virtualPageLoaded=function(e){"string"==typeof e&&(0<e.length&&"/"!==e[0]&&(e+="/"),800<e.length&&(e=e.substring(0,800)),this.virtualPage=e),m.stopCollectingMetrics&&(m.offset=Q.performance.getEntries().length,m.stopCollectingMetrics=!1),x(),k(!1)},this.setUser=function(e){m.user=e},this.withTags=function(e){m.tags=e},this.endSession=function(){m.pendingPayloadData=!1,C(),E({sessionId:m.sessionId,requestId:m.requestId,timestamp:(new Date).toISOString(),type:"session_end"}),S(),v()},this.sendCustomTimings=function(e){"object"!=typeof e||"number"!=typeof e.custom1&&"number"!=typeof e.custom2&&"number"!=typeof e.custom3&&"number"!=typeof e.custom4&&"number"!=typeof e.custom5&&"number"!=typeof e.custom6&&"number"!=typeof e.custom7&&"number"!=typeof e.custom8&&"number"!=typeof e.custom9&&"number"!=typeof e.custom10||m.pendingPayloadData&&0<m.queuedPerformanceTimings.length&&(m.pendingPayloadData=!1,m.queuedPerformanceTimings[0].customTiming=e,C())},this.trackCustomTiming=function(e,t,n){var i;"number"==typeof t?((i=[]).push(I(e,t,n)),T(i,!1)):W('Raygun4JS: Custom timing "'+e+'" duration value is not a number')},this.captureMissingRequests=function(e){this._captureMissingRequests=e};var N=function(e,t){for(var n in W("checking for missing WRT data",this.xhrStatusMap),this.xhrStatusMap)if(this.xhrStatusMap.hasOwnProperty(n)){var i=this.xhrStatusMap[n];if(i&&0<i.length)do{var r=i.shift()}while(W("checking response",r),F(r.baseUrl)||(W("adding missing WRT data for url"),e.push({url:r.baseUrl,statusCode:r.status,timing:{du:V(r.duration).toFixed(2),a:t.toFixed(2),t:y.XHR}})),0<i.length);delete this.xhrStatusMap[n]}}.bind(this);var B=function(e){e=e.name.split("?")[0];return e=800<(e=m.ignoreUrlCasing?e.toLowerCase():e).length?e.substring(0,800):e}.bind(this),L=function(e){e=B(e),e=this.xhrRequestMap[e];return e&&0<e.length}.bind(this),H=function(e,t){var n=B(e),t={url:n,timing:function(e,t){var n={du:V(M(e)).toFixed(2),t:function(e){return function(){}(e.initiatorType)||!function(e){switch(e.initiatorType){case"img":case"css":case"script":case"link":case"other":case"use":return!0}return!1}(e)&&function(e){return"string"==typeof e.initiatorType&&""===e.initiatorType}(e)?y.XHR:G(e)}(e),a:t+e.fetchStart};e.domainLookupStart&&0<e.domainLookupStart&&(n.b=t+e.domainLookupStart-n.a);e.domainLookupEnd&&0<e.domainLookupEnd&&(n.c=t+e.domainLookupEnd-n.a);e.connectStart&&0<e.connectStart&&(n.d=t+e.connectStart-n.a);e.connectEnd&&0<e.connectEnd&&(n.e=t+e.connectEnd-n.a);e.responseStart&&0<e.responseStart&&(n.f=t+e.responseStart-n.a);e.responseEnd&&0<e.responseEnd&&(n.g=t+e.responseEnd-n.a);e.secureConnectionStart&&0<e.secureConnectionStart&&(n.n=t+(e.secureConnectionStart-e.connectStart)-n.a);return n.a=n.a.toFixed(2),n=P(n)}(e,t),size:e.decodedBodySize||0};W("retrieving secondary timing data for",e.name);e=this.xhrStatusMap[n];return e&&0<e.length?(t.statusCode=this.xhrStatusMap[n].shift().status,W("found status for timing",t.statusCode),0===this.xhrStatusMap[n].length&&delete this.xhrStatusMap[n]):W("no status found for timing",this.xhrStatusMap),t}.bind(this);function M(e){var t=e.duration;return 0!==t?t:e.responseEnd-e.startTime}function(){}function(){}function I(e,t,n){return{url:e,timing:{t:y.CustomTiming,du:t.toFixed(2),a:(n||0).toFixed(2)}}}function F(e){return 0===e.indexOf(m.apiUrl)||(0<e.indexOf("favicon.ico")||(0===e.indexOf("about:blank")||("j"===e[0]&&1===e.indexOf("avascript:")||(0===e.indexOf("chrome-extension://")||(0===e.indexOf("res://")||0===e.indexOf("file://"))))))}function(){}function(){}function(){}function(){}function V(e){return Math.min(e,3e5)}function W(e,t){m.debugMode&&Q.console&&Q.console.log&&(t?Q.console.log(e,t):Q.console.log(e))}function J(e){e="id|"+e+"&timestamp|"+(new Date).toISOString();z.Utilities.localStorageAvailable()?localStorage.setItem(m.cookieName,e):z.Utilities.createCookie(m.cookieName,e,null,m.setCookieAsSecure)}function K(){var e;return z.Utilities.localStorageAvailable()&&null!==(e=localStorage.getItem(m.cookieName))||(z.Utilities.sessionStorageAvailable()&&null!==(e=sessionStorage.getItem(m.cookieName))?J(e):null!==(e=z.Utilities.readCookie(m.cookieName))&&z.Utilities.localStorageAvailable()&&(z.Utilities.clearCookie(m.cookieName),localStorage.setItem(m.cookieName,e))),e}function $(e,t){e=e.split(/[|&]/);return"id"===t?e[1]:"timestamp"===t?e[3]:void 0}function(){}this.Utilities.getTimingDuration=M,this.Utilities.isCustomTimingMeasurement=D,this.Utilities.getCustomTimingMeasurement=q,this.Utilities.createCustomTimingMeasurement=I,b.updateStorageTimestamp=function(){var e=K(),t=!1;!(t=e?U(e):t)&&e||(m.sessionId=_(32)),J(m.sessionId),t&&v()}}};raygunRumFactory(window,window.jQuery,window.__instantiatedRaygun),function(i,r){var a,o,s,u,c,l,d,f,g,p,h,m,b,y,v;i.RaygunObject&&i[i.RaygunObject]&&(a=i[i.RaygunObject].o,o=!1,s=[],g=["function (b,c,d,f,g){","||(g=new Error(b)),a[e].q=a[e].q||[]"],p=i[i.RaygunObject].q,m=["trackEvent","send","recordBreadcrumb"],b=function(e){var t,n,i,r=e[0],a=e[1];if(r)switch(r){case"boot":v();break;case"noConflict":f=a;break;case"apiKey":u=a,0;break;case"options":c=a;break;case"attach":case"enableCrashReporting":l=a,0;break;case"enablePulse":d=a,0;break;case"detach":h.detach();break;case"getRaygunInstance":return h;case"setUser":h.setUser(a.identifier,a.isAnonymous,a.email,a.fullName,a.firstName,a.uuid);break;case"onBeforeSend":h.onBeforeSend(a);break;case"onBeforeSendRUM":h.onBeforeSendRum(a);break;case"onBeforeXHR":h.onBeforeXHR(a);break;case"onAfterSend":h.onAfterSend(a);break;case"withCustomData":h.withCustomData(a);break;case"withTags":h.withTags(a);break;case"setVersion":h.setVersion(a);break;case"filterSensitiveData":h.filterSensitiveData(a);break;case"setFilterScope":h.setFilterScope(a);break;case"whitelistCrossOriginDomains":h.whitelistCrossOriginDomains(a);break;case"saveIfOffline":"boolean"==typeof a&&h.saveIfOffline(a);break;case"groupingKey":h.groupingKey(a);break;case"endSession":h.endSession();break;case"send":a.error?(t=a.error,a.tags&&(n=a.tags),a.customData&&(i=a.customData)):t=a,h.send(t,i,n);break;case"trackEvent":a.type&&a.path?h.trackEvent(a.type,{path:a.path}):a.type&&a.name&&a.duration?h.trackEvent(a.type,{name:a.name,duration:a.duration,offset:a.offset}):a.type&&a.timings&&h.trackEvent(a.type,{timings:a.timings});break;case"recordBreadcrumb":h.recordBreadcrumb(e[1],e[2]);break;case"enableAutoBreadcrumbs":h.enableAutoBreadcrumbs();break;case"disableAutoBreadcrumbs":h.disableAutoBreadcrumbs();break;case"enableAutoBreadcrumbsConsole":h.enableAutoBreadcrumbs("Console");break;case"disableAutoBreadcrumbsConsole":h.disableAutoBreadcrumbs("Console");break;case"enableAutoBreadcrumbsNavigation":h.enableAutoBreadcrumbs("Navigation");break;case"disableAutoBreadcrumbsNavigation":h.disableAutoBreadcrumbs("Navigation");break;case"enableAutoBreadcrumbsClicks":h.enableAutoBreadcrumbs("Clicks");break;case"disableAutoBreadcrumbsClicks":h.disableAutoBreadcrumbs("Clicks");break;case"enableAutoBreadcrumbsXHR":h.enableAutoBreadcrumbs("XHR");break;case"disableAutoBreadcrumbsXHR":h.disableAutoBreadcrumbs("XHR");break;case"setBreadcrumbLevel":h.setBreadcrumbOption("breadcrumbsLevel",e[1]);break;case"setAutoBreadcrumbsXHRIgnoredHosts":h.setBreadcrumbOption("xhrIgnoredHosts",e[1]);break;case"logContentsOfXhrCalls":h.setBreadcrumbOption("logXhrContents",e[1]);break;case"clientIp":h.setClientIp(a);break;case"captureMissingRequests":h.captureMissingRequests(a);break;case"captureUnhandledRejections":0}},y=function(){}