!function(undefined){if("undefined"!=typeof window){var autoResize=!0,bodyBackground="",bodyMargin=0,bodyMarginStr="",bodyObserver=null,bodyPadding="",calculateWidth=!1,doubleEventList={resize:1,click:1},eventCancelTimer=128,firstRun=!0,height=1,heightCalcModeDefault="bodyOffset",heightCalcMode=heightCalcModeDefault,initLock=!0,initMsg="",inPageLinks={},interval=32,intervalTimer=null,logging=!1,mouseEvents=!1,msgID="[iFrameSizer]",msgIdLen=msgID.length,myID="",resetRequiredMethods={max:1,min:1,bodyScroll:1,documentElementScroll:1},resizeFrom="child",sendPermit=!0,target=window.parent,targetOriginDefault="*",tolerance=0,triggerLocked=!1,triggerLockedTimer=null,throttledTimer=16,width=1,widthCalcModeDefault="scroll",widthCalcMode=widthCalcModeDefault,win=window,onMessage=function(){warn("onMessage function not defined")},onReady=function(){},onPageInfo=function(){},customCalcMethods={height:function(){return warn("Custom height calculation function not defined"),document.documentElement.offsetHeight},width:function(){}},eventHandlersByName={},passiveSupported=!1;try{var options=Object.create({},{passive:{get:function(){passiveSupported=!0}}});window.addEventListener("test",noop,options),window.removeEventListener("test",noop,options)}catch(error){}var func,context,args,result,timeout,previous,getNow=Date.now||function(){return(new Date).getTime()},getHeight={bodyOffset:function(){},offset:function(){return getHeight.bodyOffset()},bodyScroll:function(){return document.body.scrollHeight},custom:function(){return customCalcMethods.height()},documentElementOffset:function(){return document.documentElement.offsetHeight},documentElementScroll:function(){return document.documentElement.scrollHeight},max:function(){return Math.max.apply(null,getAllMeasurements(getHeight))},min:function(){return Math.min.apply(null,getAllMeasurements(getHeight))},grow:function(){return getHeight.max()},lowestElement:function(){},taggedElement:function(){return getTaggedElements("bottom","data-iframe-height")}},getWidth={bodyScroll:function(){return document.body.scrollWidth},bodyOffset:function(){return document.body.offsetWidth},custom:function(){return customCalcMethods.width()},documentElementScroll:function(){return document.documentElement.scrollWidth},documentElementOffset:function(){return document.documentElement.offsetWidth},scroll:function(){},max:function(){return Math.max.apply(null,getAllMeasurements(getWidth))},min:function(){},rightMostElement:function(){},taggedElement:function(){return getTaggedElements("right","data-iframe-width")}},sizeIFrameThrottled=(func=sizeIFrame,timeout=null,previous=0,function(){});addEventListener(window,"message",function(event){var processRequestFromParent={init:function(){var options;initMsg=event.data,target=event.source,init(),!initMsg||17<(options=initMsg.split(":")).length&&setWidgetResponsiveOptions(options[17]),firstRun=!1,setTimeout(function(){initLock=!1},eventCancelTimer)},reset:function(){},resize:function(){var msgBody=getData();msgBody&&setWidgetResponsiveOptions(msgBody.split(":")[1]),sendSize("resizeParent","Parent window requested size check")},moveToAnchor:function(){inPageLinks.findTarget(getData())},inPageLink:function(){this.moveToAnchor()},pageInfo:function(){var msgBody=getData();log("PageInfoFromParent called from parent: "+msgBody),onPageInfo(JSON.parse(msgBody)),log(" --")},message:function(){}};function(){}function(){}function(){}function(){}msgID===(""+event.data).substr(0,msgIdLen)&&(!1===firstRun?callFromParent():isInitMsg()?processRequestFromParent.init():log('Ignored message of type "'+getMessageType()+'". Received before initialization.'))}),addEventListener(window,"readystatechange",chkLateLoaded),chkLateLoaded()}function noop(){}function(){}function capitalizeFirstLetter(string){return string.charAt(0).toUpperCase()+string.slice(1)}function(){}function(){}function(){}function init(){var clearFix;function(){}function(){}clearFix=initMsg.substr(msgIdLen).split(":"),myID=clearFix[0],bodyMargin=undefined!==clearFix[1]?Number(clearFix[1]):bodyMargin,calculateWidth=undefined!==clearFix[2]?"true"===clearFix[2]:calculateWidth,logging=undefined!==clearFix[3]?"true"===clearFix[3]:logging,interval=undefined!==clearFix[4]?Number(clearFix[4]):interval,autoResize=undefined!==clearFix[6]?"true"===clearFix[6]:autoResize,bodyMarginStr=clearFix[7],heightCalcMode=undefined!==clearFix[8]?clearFix[8]:heightCalcMode,bodyBackground=clearFix[9],bodyPadding=clearFix[10],tolerance=undefined!==clearFix[11]?Number(clearFix[11]):tolerance,inPageLinks.enable=undefined!==clearFix[12]&&"true"===clearFix[12],resizeFrom=undefined!==clearFix[13]?clearFix[13]:resizeFrom,widthCalcMode=undefined!==clearFix[14]?clearFix[14]:widthCalcMode,mouseEvents=undefined!==clearFix[15]?Boolean(clearFix[15]):mouseEvents,log("Initialising iFrame ("+window.location.href+")"),function(){}(),function(){}(),setBodyStyle("background",bodyBackground),setBodyStyle("padding",bodyPadding),(clearFix=document.createElement("div")).style.clear="both",clearFix.style.display="block",clearFix.style.height="0",document.body.appendChild(clearFix),checkHeightMode(),checkWidthMode(),document.documentElement.style.height="",document.body.style.height="",log('HTML & body height set to "auto"'),log("Enable public methods"),win.parentIFrame={autoResize:function(){},close:function(){sendMsg(0,0,"close")},getId:function(){return myID},getPageInfo:function(){},moveToAnchor:function(hash){inPageLinks.findTarget(hash)},reset:function(){resetIFrame("parentIFrame.reset")},scrollTo:function(x,y){sendMsg(y,x,"scrollTo")},scrollToOffset:function(x,y){sendMsg(y,x,"scrollToOffset")},sendMessage:function(){},setHeightCalculationMethod:function(heightCalculationMethod){heightCalcMode=heightCalculationMethod,checkHeightMode()},setWidthCalculationMethod:function(widthCalculationMethod){widthCalcMode=widthCalculationMethod,checkWidthMode()},setTargetOrigin:function(){},size:function(){}},!0===mouseEvents&&(addMouseListener("mouseenter","Mouse Enter"),addMouseListener("mouseleave","Mouse Leave")),startEventListeners(),inPageLinks=function(){function(){}function findTarget(hashData){var jumpPosition,hash=hashData.split("#")[1]||hashData,hashData=decodeURIComponent(hash),target=document.getElementById(hashData)||document.getElementsByName(hashData)[0];undefined!==target?(jumpPosition=getElementPosition(jumpPosition=target),log("Moving to in page link (#"+hash+") at x: "+jumpPosition.x+" y: "+jumpPosition.y),sendMsg(jumpPosition.y,jumpPosition.x,"scrollToOffset")):(log("In page link (#"+hash+") not found in iFrame, so sending to parent"),sendMsg(0,0,"inPageLink","#"+hash))}function(){}function(){}function enableInPageLinks(){Array.prototype.forEach&&document.querySelectorAll?(log("Setting up location.hash handlers"),bindAnchors(),addEventListener(window,"hashchange",checkLocationHash),setTimeout(checkLocationHash,eventCancelTimer)):warn("In page linking not fully supported in this browser! (See README.md for IE8 workaround)")}inPageLinks.enable?enableInPageLinks():log("In page linking not enabled");return{findTarget:findTarget}}(),sendSize("init","Init message from host page"),onReady()}function depricate(key){var name=key.split("Callback");2===name.length&&(this[name="on"+name[0].charAt(0).toUpperCase()+name[0].slice(1)]=this[key],delete this[key],warn("Deprecated: '"+key+"' has been renamed '"+name+"'. The old method will be removed in the next major version."))}function(){}function manageTriggerEvent(options){var listener={add:function(){},remove:function(eventName){var handleEvent=eventHandlersByName[eventName];delete eventHandlersByName[eventName],window.removeEventListener(eventName,handleEvent,!1)}};options.eventNames&&Array.prototype.map?(options.eventName=options.eventNames[0],options.eventNames.map(listener[options.method])):listener[options.method](options.eventName),log(capitalizeFirstLetter(options.method)+" event listener: "+options.eventType)}function(){}function(){}function checkHeightMode(){heightCalcMode=checkCalcMode(heightCalcMode,heightCalcModeDefault,getHeight,"height")}function(){}function startEventListeners(){var forceIntervalTimer;!0===autoResize?(manageEventListeners("add"),forceIntervalTimer=interval<0,window.MutationObserver||window.WebKitMutationObserver?forceIntervalTimer?initInterval():bodyObserver=function(){}():(log("MutationObserver not supported in this browser!"),initInterval())):log("Auto Resize disabled")}function(){}function(){}function getMaxElement(side,elements){for(var elVal,elementsLength=elements.length,maxVal=0,Side=capitalizeFirstLetter(side),timer=getNow(),i=0;i<elementsLength;i++)maxVal<(elVal=elements[i].getBoundingClientRect()[side]+getComputedStyle("margin"+Side,elements[i]))&&(maxVal=elVal);return timer=getNow()-timer,log("Parsed "+elementsLength+" HTML elements"),log("Element position calculated in "+timer+"ms"),function(){}(timer),maxVal}function(){}function(){}function getAllElements(){return document.querySelectorAll("body *")}function sizeIFrame(triggerEvent,triggerEventDesc,customHeight,customWidth){function checkDownSizing(){triggerEvent in{init:1,interval:1,size:1}||!(heightCalcMode in resetRequiredMethods||calculateWidth&&widthCalcMode in resetRequiredMethods)?triggerEvent in{interval:1}||log("No change in size detected"):resetIFrame(triggerEventDesc)}var currentHeight,currentWidth;function(){}currentHeight=undefined!==customHeight?customHeight:getHeight[heightCalcMode](),currentWidth=undefined!==customWidth?customWidth:getWidth[widthCalcMode](),checkTolarance(height,currentHeight)||calculateWidth&&checkTolarance(width,currentWidth)||"init"===triggerEvent?(lockTrigger(),sendMsg(height=currentHeight,width=currentWidth,triggerEvent)):checkDownSizing()}function(){}function sendSize(triggerEvent,triggerEventDesc,customHeight,customWidth){triggerLocked&&triggerEvent in doubleEventList?log("Trigger event cancelled: "+triggerEvent):(triggerEvent in{reset:1,resetPage:1,init:1}||log("Trigger event: "+triggerEventDesc),("init"===triggerEvent?sizeIFrame:sizeIFrameThrottled)(triggerEvent,triggerEventDesc,customHeight,customWidth))}function(){}function(){}function(){}function(){}function setWidgetResponsiveOptions(width){var widget=document.getElementsByClassName("widget-container")[0];widget&&(function(){}(widget),width<768?widget.classList.add("responsive-xsmall-display"):767<width&&width<992?widget.classList.add("responsive-small-display"):991<width&&width<1200?widget.classList.add("responsive-medium-display"):1199<width&&widget.classList.add("responsive-large-display"))}function(){}