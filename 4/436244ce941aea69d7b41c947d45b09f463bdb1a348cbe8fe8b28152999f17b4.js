!function(){"use strict";function a(e,t){var o,n,i=null===(o=window.Criteo)||void 0===o?void 0:o.oneTagConfig;return null!==(n=i&&i[e])&&void 0!==n?n:t}var c="5.6.2";function(){}var r=(e.prototype.getCMPFrame=function(){},e.prototype.hasCallerFunctionInFrame=function(){},e.prototype.readyToRetrieve=function(){},e.prototype.pingWithTimeout=function(){},e.prototype.retrieveConsent=function(e){this.executeRetrieveConsent("getConsentData",null,e)},e.prototype.retrieveConsentForPassback=function(){},e.prototype.executeRetrieveConsent=function(e,t,o){var n=this,i=!1,r=window.setTimeout(function(){i=!0,n.logger("Timeout: Unable to resolve GDPR consent after "+n.timeout+"ms"),o(void 0)},this.timeout),a=this.pingWithTimeout(r,this.pingTimeout,this.pingDelay,function(){i=!0,n.logger("Timeout: Unable to ping GDPR API after "+n.pingTimeout+"ms"),o(void 0)});this.executeCommand(e,t,function(){})},e.prototype.processConsentData=function(){},e.prototype.executeCommand=function(){},e);function e(e,t,o){void 0===o&&(o=function(e){}),this.cmpCallbacks={},this.currentWindow=e,this.timeout=t.tcfTimeout,this.pingTimeout=t.tcfPingTimeout,this.pingDelay=t.tcfPingDelay,this.logger=o}var s=(t.prototype.getCMPFrame=function(){for(var e,t=this.currentWindow,o=0;o<10;++o){try{t.frames.__tcfapiLocator&&(e=t)}catch(e){}if(t===this.currentWindow.top)break;t=t.parent}return e},t.prototype.hasCallerFunctionInFrame=function(){return"function"==typeof this.currentWindow.__tcfapi},t.prototype.readyToRetrieve=function(){return this.hasCallerFunctionInFrame()||void 0!==this.getCMPFrame()},t.prototype.pingWithTimeout=function(){},t.prototype.retrieveConsent=function(o){var n=this,i=!1,r=window.setTimeout(function(){i=!0,n.logger("Timeout: Unable to resolve TCFv2 consent after "+n.timeout+"ms"),o(void 0)},this.timeout),a=this.pingWithTimeout(r,this.pingTimeout,this.pingDelay,function(){});this.executeCommand("getTCData",2,function(e,t){clearTimeout(a),i||(clearTimeout(r),t?(n.logger("TCFv2 consent retrieved in ms"),n.processResponseData(e,o)):(n.logger("Error retrieving TCFv2 consent data from CMP"),o(void 0)))},[91])},t.prototype.processResponseData=function(){},t.prototype.executeCommand=function(){},t);function t(e,t,o){void 0===o&&(o=function(e){}),this.cmpCallbacks={},this.currentWindow=e,this.timeout=t.tcfTimeout,this.pingTimeout=t.tcfPingTimeout,this.pingDelay=t.tcfPingDelay,this.logger=o}var u=(o.prototype.getProvider=function(){},o.prototype.retrieveConsent=function(e){var t=this.getProvider();t?t.retrieveConsent(e):e(void 0)},o);function o(e,t,o,n){void 0===t&&(t=1e4),void 0===o&&(o=50),void 0===n&&(n=1e3);var i={tcfTimeout:t,tcfPingTimeout:o,tcfPingDelay:n};this.tcfv1ConsentProvider=new r(e,i),this.tcfv2ConsentProvider=new s(e,i)}var d=(n.prototype.catchAndStoreException=function(){},n.prototype.setProtectedTimeout=function(){},n.prototype.addProtectedEventListener=function(){},n.prototype.attachProtectedEvent=function(){},n);function n(){this.exceptions=[]}function(){}function(){}function(){}function(){}var h,m,f=(g.extractHostname=function(e){var t=document.createElement("a");return t.href=e,t.hostname},g.getAnchorWithReferrer=function(){},g.getQueryString=function(){},g.getHighestAccessibleUrl=function(){},g.onBodyReady=function(){},g.onDocumentReady=function(){},g.removeLater=function(){},g.appendCriteoContainer=function(){},g.getHighestAccessibleWindow=function(){},g);function g(){}function(){}function(){}function(){}function(){}function(){}(m=h=h||{})[m.None=0]="None",m[m.Cookie=1]="Cookie",m[m.LocalStorage=2]="LocalStorage";var v=(y.prototype.checkLocalStorage=function(){},y.prototype.setCookieRead=function(){this.isCookieRead=!0},y.prototype.setValue=function(){},y.prototype.setValueFromExistingCookie=function(){},y.prototype.setValueFromAllStorages=function(){},y.prototype.getValue=function(){},y.prototype.removeWithNoDomain=function(){this.setValueWithNoDomainWithExpiration("",0)},y.prototype.removeOnMainDomain=function(){this.setOnMainDomainWithExpiration("",0)},y.prototype.setOnMainDomain=function(e){return this.setOnMainDomainWithExpiration(e,this.cookieRetentionTimeInMs)},y.prototype.writeOnAllStorages=function(){},y.prototype.getFromAllStorages=function(){},y.prototype.removeFromAllStorages=function(){},y.prototype.setValueWithNoDomainWithExpiration=function(){},y.prototype.setValueWithNoDomain=function(){},y.prototype.toFragmentData=function(){return{origin:this.cookieOrigin,value:this.cookieValue}},y.prototype.setOnMainDomainWithExpiration=function(){},y.prototype.computeStorageOrigin=function(){},y);function(){}var M=(k.prototype.fillQueryStringParams=function(e){this.gaid&&e.push("ai="+this.gaid),this.idfa&&e.push("idfa="+this.idfa),null!==this.acidCookie.cookieValue&&e.push("acid="+this.acidCookie.cookieValue),null!==this.axidCookie.cookieValue&&e.push("axid="+this.axidCookie.cookieValue),null!==this.pxsigCookie.cookieValue&&e.push("pxsig="+this.pxsigCookie.cookieValue),this.canWriteCookie&&e.push("adce=1"),null!==this.ccpCookie.cookieValue&&e.push("ccp="+this.ccpCookie.cookieValue),null!==this.clickOriginPayload&&e.push("cop="+this.clickOriginPayload),null!==this.guidCookie.cookieValue&&(e.push("idcpy="+this.guidCookie.cookieValue),e.push("iddom="+document.location.hostname)),null!==this.optoutCookie.cookieValue&&e.push("optout=1"),null!=this.bundleCookie.cookieValue&&e.push("bundle="+this.bundleCookie.cookieValue),null!==this.secureIdCookie.cookieValue&&(e.push("sid="+this.secureIdCookie.cookieValue),e.push("sid_read="+(this.secureIdCookie.isCookieValueExternallySet?"1":"0"))),null!==this.lwidCookie.cookieValue&&e.push("lwid="+this.lwidCookie.cookieValue),null!==this.tld&&e.push("tld="+this.tld),null!==this.privateMode&&0!==this.privateMode&&e.push("pm="+this.privateMode),void 0!==new v("cto_clc",this.readonlyCookieRetentionTime).getValue()&&e.push("clc=1")},k.prototype.checkAcid=function(){},k.prototype.setCop=function(){},k.prototype.checkClientSideIdentityStatus=function(){},k.prototype.checkCookies=function(e){if(e.callbacks)for(var t=0,o="string"==typeof e.callbacks?[e.callbacks]:e.callbacks;t<o.length;t++){var n=o[t],i=document.createElement("img");i.setAttribute("style","display:none;"),i.setAttribute("width","1"),i.setAttribute("height","1"),i.setAttribute("data-owner","criteo-tag"),i.setAttribute("src",n);var r=document.getElementsByTagName("script")[0];r.parentNode.insertBefore(i,r),f.removeLater(this.exceptionHandler,i)}else e.optout?(this.optoutCookie.setValue("1"),this.guidCookie.removeFromAllStorages(),this.secureIdCookie.removeFromAllStorages(),this.bundleCookie.removeFromAllStorages()):(e.uid&&this.guidCookie.setValue(e.uid),e.bundle&&this.bundleCookie.setValue(e.bundle),e.removeSid?this.secureIdCookie.removeFromAllStorages():e.sid&&this.secureIdCookie.setValue(e.sid))},k.prototype.getParameterValueByName=function(){},k.prototype.setCanWriteCookie=function(){},k.prototype.getTld=function(){},k.prototype.getPrivateMode=function(){},k);function k(e,t,o){this.readonlyCookieRetentionTime=0,this.optoutCookieRetentionTime=15768e7,this.identificationCookieRetentionTime=34164e6,this.acidCookie=new v("criteo_acid",this.readonlyCookieRetentionTime),this.axidCookie=new v("cto_axid",this.readonlyCookieRetentionTime),this.ccpCookie=new v("criteo_cookie_perm",this.readonlyCookieRetentionTime),this.guidCookie=new v("cto_idcpy",this.identificationCookieRetentionTime),this.lwidCookie=new v("cto_lwid",this.identificationCookieRetentionTime),this.optoutCookie=new v("cto_optout",this.optoutCookieRetentionTime),this.pxsigCookie=new v("cto_pxsig",this.readonlyCookieRetentionTime),this.secureIdCookie=new v("cto_sid",this.identificationCookieRetentionTime),this.bundleCookie=new v("cto_bundle",this.identificationCookieRetentionTime),this.canWriteCookie=!1,this.clickOriginPayload=null,this.tld=this.getTld(),this.privateMode=this.getPrivateMode(t,o),this.exceptionHandler=e}var O=(w.prototype.createIframe=function(e,t,o,n){var i=document.createElement("iframe"),r=encodeURIComponent||escape,a=f.getHighestAccessibleUrl(window),c=r(f.extractHostname(a)),s={bundle:e.bundleCookie.toFragmentData(),cw:e.canWriteCookie,lwid:e.lwidCookie.toFragmentData(),optout:e.optoutCookie.toFragmentData(),origin:window.SYNCFRAME_ORIGIN||"onetag",pm:e.privateMode,sid:e.secureIdCookie.toFragmentData(),tld:e.tld,topUrl:c,uid:e.guidCookie.cookieValue,version:t.replace(/\./g,"_")},u=this.gumSyncFrameEndPoint;return"#gum-debug-mode"===window.location.hash?u+="?debug=1&topUrl="+c:u+="?topUrl="+c,o&&o.consentData&&(u+="&gdpr_consent="+o.consentData),u+="#"+JSON.stringify(s),i.src=u,i.id=this.gumSyncFrameId,i.width="0",i.height="0",i.frameBorder="0",i.setAttribute("style","border-width:0px; margin:0px; display:none"),i.title="Criteo GUM iframe",f.removeLater(n,i),i},w.prototype.setWaitingFlag=function(e){this.waitingForSyncframe=this.waitingForSyncframe&&null===e.guidCookie.cookieValue&&null===e.secureIdCookie.cookieValue&&null===e.optoutCookie.cookieValue},w.prototype.shouldInjectSyncframe=function(){return void 0!==window.addEventListener||this.forceSyncFrame},w);function w(e){this.forceSyncFrame=!1,this.gumSyncFrameEndPoint=window.CriteoSyncFrameUrlOverride||"https://gum.criteo.com/syncframe",this.gumSyncFrameId="criteo-syncframe",this.waitingForSyncframe=e.hasItp}var N=new RegExp(/^Mozilla\/5\.0 \([^)]+\) AppleWebKit\/[^ ]+ \(KHTML, like Gecko\) Version\/([^ ]+)( Mobile\/[^ ]+)? Safari\/[^ ]+$/i),L=(C.prototype.canRetrieveMetrics=function(){return this.hasPerformanceApi},C.prototype.startRecordingInit=function(){this.canRetrieveMetrics()&&(this.beginInit=performance.now())},C.prototype.stopRecordingInit=function(){},C.prototype.startRecordingPush=function(){},C.prototype.stopRecordingPush=function(){},C.prototype.getPerformanceOrDegradedNow=function(){},C);function(){}var W=(b.prototype.trySetPageId=function(){},b.prototype.tryForceViewListPageId=function(){},b.prototype.tryRunActionAfterAdBlockDetectionOrImmediate=function(){},b.prototype.tryAppendAdBlockerParameter=function(){},b.prototype.tryAppendUatParameter=function(){},b.prototype.clean=function(){},b.prototype.enable=function(){this.isCbsEnabled=!0},b.prototype.setUat=function(e){this.uat=e},b.prototype.checkNotExistOrEmpty=function(){},b);function(){}var P,T=/^#(enable|disable)-criteo-tag-debug-mode(=(\d+))?$/;function U(e,t,o,n,i){if(function(){}(),!document||"function"!=typeof Array.prototype.indexOf||-1===document.cookie.indexOf("criteoTagDebugMode="))return e;var r=function(){}(e,t,o,n,i);return function(){}(),r}if(!window.criteo_q||window.criteo_q instanceof Array){var D=window.criteo_q||[];window.criteo_q=function(){var C=new d,i=new L;i.startRecordingInit();var g={app:{accounts:[],actions:[],bodyReady:!1,disingScheduled:[],domReady:!1,eventSent:!1,queue:[]},cbs:new W},v={hooks:{},shortNameMap:{events:{applaunched:"al",viewitem:"vp",viewhome:"vh",viewlist:"vl",viewbasket:"vb",viewsearch:"vs",viewpage:"vpg",tracktransaction:"vc",addtocart:"ac",calldising:"dis",setdata:"exd",setemail:"ce"},properties:{event:"e",account:"a",currency:"c",product:"p",item:"p","item.id":"i","item.price":"pr","item.quantity":"q","product.id":"i","product.price":"pr","product.quantity":"q",data:"d",keywords:"kw",checkin_date:"din",checkout_date:"dout",deduplication:"dd",delivery:"dl",attribution:"at","attribution.channel":"ac","attribution.value":"v",user_segment:"si",new_customer:"nc",customer_id:"ci",email:"m",hash_method:"h",transaction_value:"tv",client_revenue:"cr",responseType:"rt",page_name:"pn",page_id:"pi",page_number:"pnb",category:"ca",filters:"f","filters.name":"fn","filters.operator":"fo","filters.value":"fv",retailer_visitor_id:"rvi",price:"pr",availability:"av",sub_event_type:"se",store_id:"s",item_group_id:"sp",sku_parent:"sp",zipcode:"z"}},trackingCallData:{account:a("partnerId")||null,customerInfo:[],extraData:[],handlerParams:{v:c},handlerResponseType:"single",handlerUrlPrefix:"https://sslwidget.criteo.com/event",partnerPayload:null,requestType:"pixel",responseType:"js",tagVersion:c},workflow:{container:null,disOnce:!1,manualDising:!1,manualFlush:!1,noPartialFlush:!1,partialDis:!1}},e=function(e){var t=e.match(N),o=null!==t;return{hasItp:null!==t&&11<=parseFloat(t[1]),isSafari:o}}(window.navigator.userAgent),y=new M(C,e,window),k=new O(e),t=new u(window),b=function(t){var n=!1,i=void 0,r=[];return function(e){n?e(i):(r.push(e),1===r.length&&t(function(e){n=!0,i=e;for(var t=0,o=r;t<o.length;t++){(0,o[t])(i)}}))}}(t.retrieveConsent.bind(t));function(){}function o(t,o,n,i,r,a,c,s,e){if(t.shouldInjectSyncframe()){var u=t.createIframe(i,a.tagVersion,e,C);window.addEventListener&&(C.addProtectedEventListener(window,"message",function(e){!function(e,t,o,n,i,r,a,c,s){var u=s.data;if(!u||!u.isCriteoMessage)return;s.stopPropagation(),n.checkCookies(u),e.waitingForSyncframe&&l(e,t,o,n,i,r,a,c)}(t,o,n,i,r,a,c,s,e)},!0),T(o,s,c,{event:"appendtag",element:u}))}}function(){}function(){}function(){}function(){}function T(e,t,o,n){var i=D(e,n);return null!==i?i:w(e,t,o,n)}function(){}function(){}function h(e,t,o,n,i,r,a,c,s,u,l){var d=c.event,p=D(e,c);if(null!==p)return p;switch(c.event){case"setdata":return A(i.extraData,e.actions,c);case"setparameter":for(var h in c)"event"!==h.toLowerCase()&&c.hasOwnProperty(h)&&(i.handlerParams[h]=c[h]);return 1;case"calldising":P(i,e,c);break;case"setzipcode":case"setstore":return c.event="setdata",A(i.extraData,e.actions,c);case"setcustomerid":return c.event="setdata",c.customer_id=c.id,delete c.id,A(i.extraData,e.actions,c);case"setretailervisitorid":return t.enable(),c.event="setdata",c.retailer_visitor_id=c.id,delete c.id,A(i.extraData,e.actions,c);case"setgoogleadvertisingid":return o.gaid=c.gaid,A(i.extraData,e.actions,{event:"setdata",site_type:"aa"});case"setappleadvertisingid":return o.idfa=c.idfa,A(i.extraData,e.actions,{event:"setdata",site_type:"aios"});case"setemail":case"sethashedemail":case"ceh":c.event="setemail",c.hasOwnProperty("email")&&(c.email instanceof Array||(c.email=[c.email]),c.email=function(){}(c.email));var m=I(c);return i.customerInfo.push(m),E(e.actions,I(c)),1;case"setsitetype":var f="d";return"mobile"!==c.type&&"m"!==c.type||(f="m"),"tablet"!==c.type&&"t"!==c.type||(f="t"),c.event="setdata",delete c.type,c.site_type=f,A(i.extraData,e.actions,c);case"appendtag":return w(e,a,r,c);case"gettagstate":return c.callback instanceof Function?c.callback(g,v,y,k):1;case"setuat":return t.setUat(c.uat),1;case"viewsearchresult":case"viewcategory":t.trySetPageId(c,d),c.event="viewlist";break;case"viewlist":t.tryForceViewListPageId(c);break;case"viewitem":case"viewhome":case"viewbasket":case"tracktransaction":case"addtocart":t.trySetPageId(c,d);break;case"viewstore":t.trySetPageId(c,d),c.event="viewHome",c.sub_event_type="s";break;case"checkavailability":t.trySetPageId(c,d),c.event="viewBasket",c.sub_event_type="a";break;case"reserveinstore":t.trySetPageId(c,d),c.event="viewBasket",c.sub_event_type="r";break;case"flush":case"flushevents":return _(e,t,o,n,i,r,a,s!==u.length-1||0!==l.length),1;case"setaccount":return i.account=c.account,1;case"seturl":return i.handlerUrlPrefix=c.url,1;case"setcalltype":return i.handlerResponseType=c.type,1;case"setresponsetype":return i.responseType=c.type,1;case"setrequesttype":return i.requestType=c.type,1;case"setpartnerpayload":return i.partnerPayload=c.payload,1;case"oninitialized":return r.onInitialized=c.callback,1;case"ondomready":return r.onDOMReady=c.callback,1;case"beforeappend":return r.beforeAppend=c.callback,1;case"aftereval":return r.afterEval=c.callback,1;case"onflush":return r.onFlush=c.callback,1;case"onurlgenerated":return r.onUrlGenerated=c.callback,1;case"disonce":return a.disOnce=!0,1;case"manualdising":return a.manualDising=!0,1;case"manualflush":return a.manualFlush=!0,1;case"nopartialflush":return a.noPartialFlush=!0,1;case"disonpartialflush":return a.partialDis=!0,1}return e.actions.push(I(c)),1}function _(o,n,e,t,i,r,a,c){if(r.onFlush instanceof Function&&(r.onFlush(),console.warn("on flush hook is deprecated and will soon be removed. Please do not use it and contact criteo if you think this may break your integration")),0!==o.actions.length){for(var s=0,u=i.extraData;s<u.length;s++){var l=u[s];x(o.actions,l)}for(var d=0,p=i.customerInfo;d<p.length;d++){var h=p[d];E(o.actions,h)}if(!a.manualDising&&(!c||a.partialDis)){for(var m=[],f=0,g=o.accounts;f<g.length;f++){var v=g[f];F(o.disingScheduled,v)||m.push(v)}0<m.length&&function(){}(i,o,{event:"callDising",account:m})}var y=!1,k=function(e,t,o,n,i){var r=e.actions,a=[];1===e.accounts.length&&(i.account=e.accounts[0]);null!==i.account&&a.push("a="+S(n,i.account,[]));"js"!==i.responseType&&a.push("rt="+S(n,i.responseType,[]));if(i.handlerParams){var c=decodeURIComponent(S(n,i.handlerParams,[]));c&&a.push(c)}t.tryAppendUatParameter(a);for(var s=0;s<r.length;++s){var u=r[s];u.account&&R(null===i.account?void 0:i.account,null===u.account?void 0:u.account)&&delete u.account,a.push("p"+s+"="+S(n,u,[]))}o.fillQueryStringParams(a),null!==i.partnerPayload&&a.push("pp="+S(n,i.partnerPayload,[]));return a.push("dtycbr="+function(){}()),a}(o,n,e,t,i);o.actions=[];var w=function(){if(!y){y=!0,n.tryAppendAdBlockerParameter(k);var e=function(e){return e.join("&")}(k),t=function(){}(i,e);"function"==typeof r.onUrlGenerated?r.onUrlGenerated(t.url):"beacon"===i.requestType&&navigator.sendBeacon?navigator.sendBeacon(t.url):T(o,a,r,t),o.eventSent=!0,a.disOnce||(o.disingScheduled=[])}};b(function(e){e&&k.push.apply(k,function(e){var t=[];return void 0!==e.gdprApplies&&t.push("gra="+(e.gdprApplies?1:0)),void 0!==e.consentData&&t.push("grs="+e.consentData),void 0!==e.version&&t.push("grv="+e.version),t}(e)),n.tryRunActionAfterAdBlockDetectionOrImmediate(w,function(e){return C.setProtectedTimeout(e,500)})})}}function S(e,t,o){var n,i,r,a="";if(t instanceof Function)a=S(e,t(),o);else if(t instanceof Array){for(var c=[],s=0;s<t.length;++s)c[s]=S(e,t[s],o);a+="["+c.join(",")+"]"}else if(t&&"[object Object]"===t.toString()){var u=[];for(var l in t)if(t.hasOwnProperty(l)){var d=o.concat([l]);u.push((n=e,i=l,void 0,r=d.join("."),(n.properties[r]?n.properties[r]:i)+"="+S(e,t[l],d)))}a+=u.join("&")}else 1===o.length&&"event"===o[0]?a+=e.events[t.toLowerCase()]?e.events[t.toLowerCase()]:t:a+=t;return(encodeURIComponent||escape)(a)}return C.catchAndStoreException(function(){return y.checkAcid(),y.checkClientSideIdentityStatus(),y.setCop(window),function(){}(k,g.app,g.cbs,y,v.shortNameMap,v.trackingCallData,v.hooks,v.workflow),y.ccpCookie.setValueFromExistingCookie(),f.onBodyReady(C,function(){v.hooks.onInitialized instanceof Function?(g.app.bodyReady=v.hooks.onInitialized(),console.warn("onInitialized hook is deprecated and will soon be removed. Please do not use it and contact criteo if you think this may break your integration")):g.app.bodyReady=!0,b(function(e){o(k,g.app,g.cbs,y,v.shortNameMap,v.trackingCallData,v.hooks,v.workflow,e)}),s(k,g.app,g.cbs,y,v.shortNameMap,v.trackingCallData,v.hooks,v.workflow)}),f.onDocumentReady(C,function(){}),function(){}